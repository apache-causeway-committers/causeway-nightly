<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Post Release (Successful) :: causeway</title>
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-custom.css">
<link rel="home" href="../.." title="causeway">
  <link rel="next" href="post-release-unsuccessful.html" title="Post Release (Unsuccessful)">
  <link rel="prev" href="verifying-releases.html" title="Verifying Releases">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">
          <span class="icon">
            <img src="../../_/img/causeway-logo-no-words-65x48.png"></img>
          </span>
        <span class="navbar-title">causeway</span>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <a class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Quick Start</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Starter Apps</span>
            <a class="navbar-item" href="../../docs/latest/starters/helloworld.html">Hello World</a>
            <a class="navbar-item" href="../../docs/latest/starters/simpleapp.html">Simple App</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Learning &amp; Tutorials</span>
            <a class="navbar-item" href="../../docs/latest/reference/about.html">Reference App</a>
            <a class="navbar-item" href="https://danhaywood.gitlab.io/isis-petclinic-tutorial-docs/petclinic/1.16.2/intro.html">Petclinic</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Resources</span>
            <a class="navbar-item" href="../../docs/latest/resources/cheatsheet.html">Cheatsheet</a>
            <a class="navbar-item" href="../../docs/latest/resources/icons.html">Icons</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../userguide/latest/about.html">User Guide</a>
            <a class="navbar-item" href="../../refguide/latest/about.html">Reference Guide</a>
            <a class="navbar-item" href="../../testing/latest/about.html">Testing Guide</a>
            <a class="navbar-item" href="../../security/latest/about.html">Security Guide</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">For use in apps</span>
            <a class="navbar-item" href="../../valuetypes/latest/about.html">Value Types</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Development</span>
            <a class="navbar-item" href="../../setupguide/latest/about.html">Setup Guide</a>
            <a class="navbar-item" href="../../conguide/latest/about.html">Contributors' Guide</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Components</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../security/latest/bypass/about.html">Bypass</a>
            <a class="navbar-item" href="../../security/latest/simple/about.html">Simple</a>
            <a class="navbar-item" href="../../security/latest/shiro/about.html">Shiro</a>
            <a class="navbar-item" href="../../security/latest/spring/about.html">Spring</a>
            <a class="navbar-item" href="../../security/latest/keycloak/about.html">Keycloak</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Viewers</span>
            <a class="navbar-item" href="../../vw/latest/about.html">Web UI (Wicket)</a>
            <a class="navbar-item" href="../../gqlv/latest/about.html">GraphQL API</a>
            <a class="navbar-item" href="../../vro/latest/about.html">REST API (Restful Objects)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Persistence</span>
            <a class="navbar-item" href="../../pjpa/latest/about.html">JPA (EclipseLink)</a>
            <a class="navbar-item" href="../../pjdo/latest/about.html">JDO (DataNucleus)</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Extensions</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../userguide/latest/commandlog/about.html">Command Log</a>
            <a class="navbar-item" href="../../userguide/latest/docgen/about.html">Doc Gen</a>
            <a class="navbar-item" href="../../userguide/latest/executionlog/about.html">Execution Log</a>
            <a class="navbar-item" href="../../userguide/latest/executionoutbox/about.html">Execution Outbox</a>
            <a class="navbar-item" href="../../userguide/latest/executionrepublisher/about.html">Execution Republisher</a>
            <a class="navbar-item" href="../../userguide/latest/excel/about.html">Excel</a>
            <a class="navbar-item" href="../../userguide/latest/flyway/about.html">Flyway</a>
            <a class="navbar-item" href="../../userguide/latest/layoutloaders/about.html">Layout Loaders</a>
            <a class="navbar-item" href="../../userguide/latest/titlecache/about.html">Title Cache</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../security/latest/secman/about.html">Secman</a>
            <a class="navbar-item" href="../../security/latest/audittrail/about.html">Audit Trail</a>
            <a class="navbar-item" href="../../security/latest/spring-oauth2/about.html">Spring OAuth2 Integration</a>
            <a class="navbar-item" href="../../security/latest/shiro-realm-ldap/about.html">LDAP Realm for Shiro</a>
            <a class="navbar-item" href="../../security/latest/sessionlog/about.html">Session Log</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Web UI (Wicket)</span>
            <a class="navbar-item" href="../../vw/latest/fullcalendar/about.html">Full Calendar</a>
            <a class="navbar-item" href="../../vw/latest/pdfjs/about.html">pdf.js</a>
            <a class="navbar-item" href="../../vw/latest/sse/about.html">Server Side Events</a>
            <a class="navbar-item" href="../../vw/latest/tabular/about.html">Tabular Download</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">REST API (Restful Objects)</span>
            <a class="navbar-item" href="../../vro/latest/cors/about.html">CORS</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Contact</span>
            <a class="navbar-item" href="../../docs/latest/support/slack-channel.html">Slack</a>
            <a class="navbar-item" href="../../docs/latest/support/mailing-list.html">Mailing Lists</a>
            <a class="navbar-item" href="https://issues.apache.org/jira/browse/CAUSEWAY">JIRA</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/causeway">Stack Overflow</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Releases</span>
            <a class="navbar-item" href="../../docs/latest/downloads/how-to.html">Downloads</a>
            <a class="navbar-item" href="../../relnotes/latest/about.html">Release Notes</a>
            <hr class="navbar-divider"/>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Framework</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Process</span>
            <a class="navbar-item" href="../../comguide/latest/about.html">Committers' Guide</a>
            <a class="navbar-item" href="../../tooling/latest/about.html">Tooling</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Automated Analysis</span>
            <a class="navbar-item" href="https://sonarcloud.io/dashboard?id=apache_causeway">SonarCloud.io</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Interim Builds</span>
            <a class="navbar-item" href="../../comguide/latest/nightly-builds.html">Nightly builds</a>
            <a class="navbar-item" href="../../comguide/latest/weekly-builds.html">Weekly builds</a>
            <a class="navbar-item" href="https://apache-causeway-committers.github.io/causeway-nightly">Website Preview (not ASF hosted)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Development</span>
            <a class="navbar-item" href="../../core/latest/about.html">Internal Design Docs</a>
            <a class="navbar-item" href="../../regressiontests/latest/about.html">Regression Tests</a>
            <a class="navbar-item" href="../../incubator/latest/about.html">Incubator</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Thanks</span>
            <a class="navbar-item" href="../../more-thanks/latest/more-thanks.html">Acknowledgements</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">ASF</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="http://www.apache.org/">Apache Homepage</a>
            <a class="navbar-item" href="https://www.apache.org/events/current-event">Events</a>
            <a class="navbar-item" href="https://www.apache.org/licenses/">License</a>
            <a class="navbar-item" href="https://www.apache.org/security/">Security</a>
            <a class="navbar-item" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <hr class="navbar-divider"/>
            <a class="navbar-item" href="https://whimsy.apache.org/board/minutes/Causeway.html">PMC board minutes</a>
          </div>
        </div>
        <a class="navbar-item" href="../../docs/latest/about.html">
          <span class="icon">
            <img src="../../_/img/home.png"></img>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body ">
<div class="nav-container" data-component="comguide" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-search hide-for-print">
  <input id="algolia-search-input" placeholder="Search"></span>
</div>
<div class="nav-panel-pagination">
  <a class="page-previous" rel="prev" href="verifying-releases.html" title="Verifying Releases"><span></span></a>
  <a class="page-next" rel="next"
     href="post-release-unsuccessful.html" title="Post Release (Unsuccessful)"><span></span></a>
<!--
page.parent doesn't seem to be set...
  <a class="page-parent disabled" rel="prev" href="" title="Verifying Releases"><span></span></a>
-->
</div>
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="about.html">Committers&#x27; Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Occasionally</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="merging-a-pull-request.html">Merging a Pull Request</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="applying-patches.html">Applying Patches</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="updating-the-website.html">Updating the Website</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Nightly</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="nightly-builds.html">Nightly Builds</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="weekly-builds.html">Weekly Builds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Release</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cutting-a-release.html">Cutting a Release</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="verifying-releases.html">Verifying Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Post Release</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="post-release-successful.html">Post Release (Successful)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="post-release-unsuccessful.html">Post Release (Unsuccessful)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendices</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="key-generation.html">Key Generation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="algolia-search.html">Algolia Search</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="release-process-prereqs.html">Release Process Prereqs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="policies.html">Policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pmc-notes.html">PMC Notes</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Committers&#x27; Guide</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title"> </span>
      <ul class="versions">
        <li class="version">
          <a href="../../docs/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Committers' Guide</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Contributors' Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../conguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Design Docs</span>
      <ul class="versions">
        <li class="version">
          <a href="../../core/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions</span>
      <ul class="versions">
        <li class="version">
          <a href="../../extensions/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">GraphQL Viewer</span>
      <ul class="versions">
        <li class="version">
          <a href="../../gqlv/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Incubator Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../incubator/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JDO/DataNucleus</span>
      <ul class="versions">
        <li class="version">
          <a href="../../pjdo/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JPA</span>
      <ul class="versions">
        <li class="version">
          <a href="../../pjpa/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">QueryDSL</span>
      <ul class="versions">
        <li class="version">
          <a href="../../querydsl/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Reference Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../refguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">regressiontests</span>
      <ul class="versions">
        <li class="version">
          <a href="../../regressiontests/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version">
          <a href="../../relnotes/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">REST API (Restful Objects Viewer)</span>
      <ul class="versions">
        <li class="version">
          <a href="../../vro/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../security/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Setup Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../setupguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../testing/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Tutorials</span>
      <ul class="versions">
        <li class="version">
          <a href="../../tutorials/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">User Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../userguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Value Types Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../valuetypes/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Web UI (Wicket Viewer)</span>
      <ul class="versions">
        <li class="version">
          <a href="../../vw/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../docs/latest/about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="about.html">Committers' Guide</a></li>
    <li>Release</li>
    <li>Post Release</li>
    <li><a href="post-release-successful.html">Post Release (Successful)</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/apache/causeway/edit/main/antora/components/comguide/modules/ROOT/pages/post-release-successful.adoc">Edit</a></div>
</div>
<article class="doc">
    <a name="section-top"></a>
<h1 class="page">Post Release (Successful)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The release process consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the release manager <a href="cutting-a-release.html" class="xref page">cutting the release</a></p>
</li>
<li>
<p>members of the Apache Causeway PMC <a href="verifying-releases.html" class="xref page">verifying</a> and voting on the release</p>
</li>
<li>
<p>the release manager performing post-release tasks, for either a successful or an <a href="post-release-unsuccessful.html" class="xref page">unsuccessful</a> vote (former documented below)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a vote to succeed, there must be +3 votes from PMC members, and the vote must have been open at least 72 hours.
If there are not +3 votes after this time then it is perfectly permissible to keep the vote open longer.</p>
</div>
<div class="paragraph">
<p>This section describes the steps to perform if the vote has been successful.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="inform-dev-ml"><a class="anchor" href="#inform-dev-ml"></a>Inform dev ML</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Post the results to the <code>dev@causeway.a.o</code> mailing list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">[RESULT] [VOTE] Apache Causeway Core release 3.4.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>using the body (alter last line as appropriate):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">The vote has completed with the following result :

  +1 (binding): ... list of names ...
  +1 (non binding): ... list of names ...

  -1 (binding): ... list of names ...
  -1 (non binding): ... list of names ...

The vote is SUCCESSFUL.

I'll now go ahead and complete the post-release activities.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-to-maven-central"><a class="anchor" href="#release-to-maven-central"></a>Release to Maven Central</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
We release from Maven Central before anything else; we don&#8217;t want to push the git tags (an irreversible action) until we know that this has worked ok.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>From the <a href="http://repository.apache.org">ASF Nexus repository</a>, select the staging repository and select 'release' from the top menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/release-process/nexus-release-1.png" alt="nexus release 1" width="600px">
</div>
</div>
<div class="paragraph">
<p>This moves the release artifacts into an Apache releases repository; from there they will be automatically moved to the Maven repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="set-environment-variables"><a class="anchor" href="#set-environment-variables"></a>Set environment variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As we did for the cutting of the release, we set environment variables to parameterize the following steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export CAUSEWAYJIRA=CAUSEWAY-9999                           <i class="conum" data-value="1"></i><b>(1)</b>
export CAUSEWAYTMP=/c/tmp                               <i class="conum" data-value="2"></i><b>(2)</b>
export CAUSEWAYREL=3.4.0                           <i class="conum" data-value="3"></i><b>(3)</b>
export CAUSEWAYRC=RC1                                   <i class="conum" data-value="4"></i><b>(4)</b>
export CAUSEWAYBRANCH=release-$CAUSEWAYREL-$CAUSEWAYRC
export CAUSEWAYART=causeway

env | grep CAUSEWAY | sort</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>set to an "umbrella" ticket for all release activities.
(One should exist already, <a href="#create-new-jira">created at</a> the beginning of the development cycle now completing).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>adjust by platform</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>adjust as required</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>adjust as necessary if there was more than one attempt to release</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Open up a terminal, and switch to the correct release branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git checkout $CAUSEWAYBRANCH</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-tags"><a class="anchor" href="#update-tags"></a>Update tags</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace the <code>-RCn</code> tag with another without the qualifier.</p>
</div>
<div class="paragraph">
<p>You can do this using the <code>scripts/promoterctag.sh</code> script; for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh scripts/promoterctag.sh $CAUSEWAYART-$CAUSEWAYREL $CAUSEWAYRC</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script pushes the tag under <code>refs/tags/rel</code>.
As per Apache policy (communicated on 10th Jan 2016 to Apache PMCs), this path is 'protected' and is unmodifiable (guaranteeing the provenance that the ASF needs for releases).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-jira"><a class="anchor" href="#update-jira"></a>Update JIRA</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="close-tickets"><a class="anchor" href="#close-tickets"></a>Close tickets</h3>
<div class="paragraph">
<p>Close all JIRA tickets for the release, or moved to future releases if not yet addressed.
Any tickets that were partially implemented should be closed, and new tickets created for the functionality on the ticket not yet implemented.</p>
</div>
</div>
<div class="sect2">
<h3 id="mark-the-version-as-released"><a class="anchor" href="#mark-the-version-as-released"></a>Mark the version as released</h3>
<div class="paragraph">
<p>In JIRA, go to the <a href="https://issues.apache.org/jira/plugins/servlet/project-config/CAUSEWAY/versions">administration section</a> for the Apache Causeway project and update the version as being released.</p>
</div>
<div class="paragraph">
<p>In the <a href="https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=87">Kanban view</a> this will have the effect of marking all tickets as released (clearing the "done" column).</p>
</div>
</div>
<div class="sect2">
<h3 id="close-all-released-tickets"><a class="anchor" href="#close-all-released-tickets"></a>Close all released tickets</h3>
<div class="paragraph">
<p>From the <a href="https://issues.apache.org/jira/projects/CAUSEWAY?selectedItem=com.atlassian.jira.jira-projects-plugin%3Arelease-page&amp;status=released-unreleased">Releases page</a>, review the status of all work items in the release to check that they are closed.</p>
</div>
<div class="paragraph">
<p>If any are not, open the tickets in the issue navigator (from the release page):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/release-process/jira-open-release-in-navigator.png" alt="jira open release in navigator" width="800px">
</div>
</div>
<div class="paragraph">
<p>and then use "Bulk change" to transition through workflow:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/release-process/jira-bulk-tool.png" alt="jira bulk tool" width="200px">
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-new-jira"><a class="anchor" href="#create-new-jira"></a>Create new JIRA</h3>
<div class="paragraph">
<p>Create a new JIRA ticket as a catch-all for the <em>next</em> release.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-release-notes"><a class="anchor" href="#update-release-notes"></a>Update Release Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the main <code>causeway</code> repo (ie containing the asciidoc source):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generate release notes</p>
<div class="paragraph">
<p>From the root directory, generate the release notes for the current release, in AsciiDoc format; eg:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh scripts/jira-release-notes.sh CAUSEWAY $CAUSEWAYREL &gt; /tmp/$CAUSEWAYREL.adoc</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This script uses <code>jq</code> to parse JSON.
See the script itself for details of how to install this utility.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create a new <code>relnotes.adoc</code> file</p>
<div class="paragraph">
<p>in  <code>antora/components/relnotes/modules/ROOT/pages/yyyy/vvv/relnotes.adoc</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>where <code>yyyy</code> is the year</p>
</li>
<li>
<p><code>vvv</code> is the version number</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Copy the release notes (<code>/tmp/$CAUSEWAYREL.adoc</code>) into the <code>relnotes.adoc</code>, recategorising if necessary</p>
</div>
</li>
<li>
<p>Update the table in <code>antora/components/relnotes/ROOT/pages/about.adoc</code></p>
<div class="paragraph">
<p>Date of release, number of new features, improvements and bugs fixed.</p>
</div>
</li>
<li>
<p>Update <code>antora/components/relnotes/ROOT/nav.adoc</code></p>
<div class="paragraph">
<p>To reference these release notes.</p>
</div>
</li>
<li>
<p>update the <code>doap_causeway.rdf</code> file (which provides a machine-parseable description of the project) with details of the new release.
Validate using the <a href="http://www.w3.org/RDF/Validator/">W3C RDF Validator</a> service.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more on DOAP files, see these <a href="http://projects.apache.org/doap.html">Apache policy docs</a>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Update the <a href="https://github.com/apache/causeway/blob/main/STATUS">STATUS</a> file (in root of Apache Causeway' source) should be updated with details of the new release.</p>
</li>
<li>
<p>commit the changes</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "$CAUSEWAYJIRA: updates release notes, STATUS and doap_causeway.rdf"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-source-zip"><a class="anchor" href="#release-source-zip"></a>Release Source Zip</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As described in the <a href="http://www.apache.org/dev/release-publishing.html#distribution_dist">Apache documentation</a>, each Apache TLP has a <code>release/TLP-name</code> directory in the distribution Subversion repository at <a href="https://dist.apache.org/repos/dist">https://dist.apache.org/repos/dist</a>.
Once a release vote passes, the release manager should <code>svn add</code> the artifacts (plus signature and hash files) into this location.
The release is then automatically pushed to <a href="http://www.apache.org/dist/">http://www.apache.org/dist/</a> by <code>svnpubsub</code>.
Only the most recent release of each supported release line should be contained here, old versions should be deleted.</p>
</div>
<div class="paragraph">
<p>Each project is responsible for the structure of its directory.
The directory structure of Apache Causeway reflects the directory structure in our git source code repo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">causeway/
  core/</code></pre>
</div>
</div>
<div class="paragraph">
<p>If necessary, checkout this directory structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">svn co https://dist.apache.org/repos/dist/release/causeway causeway-dist</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, add the new release into the appropriate directory.
The <code>upd.sh</code> script can be used to automate this:</p>
</div>
<div class="listingblock">
<div class="title">upd.sh</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">new_ver=$1

if [ $# -lt 1 ]; then
  echo "usage: $(basename $0) version" 2&gt;&amp;1
  exit 1
fi

# constants
fullname="causeway-bom"
repo_root=https://repository.apache.org/content/repositories/releases/org/apache/causeway

# file suffices
zip="source-release.zip"
asc="$zip.asc"
md5="$zip.md5"
sha1="$zip.sha1"
sha512="$zip.sha512"

for suffix in $zip $asc $md5 $sha1 $sha512
do
  echo curl -O $repo_root/$fullname/$new_ver/$fullname-$new_ver-$suffix
  curl -O $repo_root/$fullname/$new_ver/$fullname-$new_ver-$suffix
  svn add $fullname-$new_ver-$suffix
done</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh upd.sh 3.4.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>The script downloads the artifacts from the Nexus release repository and adds the artifacts to subversion.</p>
</div>
<div class="paragraph">
<p>Manually delete any old files using <code>svn delete</code>.</p>
</div>
<div class="paragraph">
<p>Double check that the files are correct; there is sometimes a small delay in the files becoming available in the release repository.
It should be sufficient to check just the <code>md5</code> or <code>.asc</code> files that these look valid (aren&#8217;t HTML 404 error pages):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat *.md5
cat *.sha1
cat *.sha512</code></pre>
</div>
</div>
<div class="paragraph">
<p>Assuming all is good, commit the changes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">svn commit -m "publishing causeway source releases to dist.apache.org"</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the files are invalid, then revert using <code>svn revert . --recursive</code> and try again in a little while.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="final-website-updates"><a class="anchor" href="#final-website-updates"></a>Final website updates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apply any remaining documentation updates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If there have been documentation changes made in other branches since the release branch was created, then merge these in.</p>
</li>
<li>
<p>If there have been updates to any of the schemas, copy them over:</p>
<div class="ulist">
<ul>
<li>
<p>copy the new schema(s) from</p>
<div class="paragraph">
<p><code>api/schema/src/main/resources/o.a.c.s.xxx</code></p>
</div>
<div class="paragraph">
<p>to its versioned:</p>
</div>
<div class="paragraph">
<p><code>antora/supplemental-ui/schema/xxx/xxx-ver.xsd</code></p>
</div>
</li>
<li>
<p>ensure the non-versioned is same as the highest versioned</p>
<div class="paragraph">
<p><code>antora/supplemental-ui/schema/xxx/xxx.xsd</code></p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Commit the changes:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "$CAUSEWAYJIRA: merging in final changes to docs"</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>We are now ready to <a href="#generate-website">generate the website</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generate-website"><a class="anchor" href="#generate-website"></a>Generate website</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use Antora to generate the site, setting up a document maintenance branch <code>3.4.0</code>.
This mirrors the "rel/causeway-3.4.0" (immutable) release tag, but is a branch because it allows us to update the docs outside formal releases.</p>
</div>
<div class="paragraph">
<p>The <code>site.yml</code> (which can be in any branch) references these documentation branches, but uses the <a href="https://docs.antora.org/antora/latest/playbook/urls-latest-version-segment/">latest version</a> support of Antora 3.x to reference the <code>3.4.0</code> version as "latest":</p>
</div>
<div class="listingblock">
<div class="title">site.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">urls:
    latest_version_segment: latest</code></pre>
</div>
</div>
<div class="paragraph">
<p>This approach also means that the top-level <code>index.html</code> (from the Antora template) does not need to be modified; it can simply refer to "latest".
To avoid duplicates in the Algolia search index, we also only index the "latest" directory.</p>
</div>
<div class="sect2">
<h3 id="create-doc-branch"><a class="anchor" href="#create-doc-branch"></a>Create the doc branch</h3>
<div class="ulist">
<ul>
<li>
<p>We create the <code>3.4.0</code> branch, at the rel/causeway-3.4.0 release tag.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git checkout -b 3.4.0
git reset --hard rel/causeway-3.4.0</code></pre>
</div>
</div>
</li>
<li>
<p>update all <code>antora.yml</code> files to use the latest branch (3.4.0):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">find . -name antora.yml -exec sh -c 'sed "s/latest/3.4.0/g" "$1" &gt; "$1.tmp" &amp;&amp; mv "$1.tmp" "$1"' _ {} \;</code></pre>
</div>
</div>
</li>
<li>
<p>update the version for the petclinic tutorial:</p>
<div class="listingblock">
<div class="title">antora/components/tutorials/antora.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">asciidoc:
  attributes:
    tag-version: '3.4.0'
    jdk-version: '17'</code></pre>
</div>
</div>
</li>
<li>
<p>Commit all these changes:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "$CAUSEWAYJIRA: bumps antora.yml versions to $CAUSEWAYREL"</code></pre>
</div>
</div>
</li>
<li>
<p>build framework</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pushd bom
mvnd clean install -T1C -DskipTests -Dgithub
popd</code></pre>
</div>
</div>
</li>
<li>
<p>build and link to the module tooling jar, as per <a href="release-process-prereqs.html#doc-tooling" class="xref page">doc tooling prereqs</a> process</p>
</li>
<li>
<p>generate the website:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./preview.sh</code></pre>
</div>
</div>
</li>
<li>
<p>if any files have changed, then commit:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "$CAUSEWAYJIRA: updates docs on new release branch"</code></pre>
</div>
</div>
</li>
<li>
<p>Push the documentation branch:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git push origin 3.4.0 -u</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="generate-the-site"><a class="anchor" href="#generate-the-site"></a>Generate the site</h3>
<div class="paragraph">
<p>To build the site, we need to update the <code>site.yml</code>.</p>
</div>
<div class="paragraph">
<p>This can be done from any branch, normally the release branch (<code>$CAUSEWAYBRANCH</code>) or <code>main</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All that will be picked up from this branch is the <code>supplementary-ui</code> files (top-level index) and the <code>site.yml</code> playbook that identifies which branch(es) to include in the website.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Update <code>site.yml</code> using <code>site.NEXT.yml</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>move <code>site.yml</code> to one side, and replace with <code>site.NEXT.yml</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pushd antora/playbooks
mv site.yml      site.ORIG.yml
mv site.NEXT.yml site.yml
popd</code></pre>
</div>
</div>
</li>
<li>
<p>update the new <code>site.yml</code>, eg:</p>
<div class="listingblock">
<div class="title">site.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">content:
  sources:
    - url: .
      start_path: antora/components/docs # docs
      branches: [3.4.0]
      # ...
    - url: .
      start_path: viewers/wicket/adoc # vw
      branches: [3.4.0]</code></pre>
</div>
</div>
</li>
<li>
<p>check that the attributes are correct.</p>
<div class="listingblock">
<div class="title">site.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">asciidoc:
  attributes:
    page-causewayreleaseversion: "..."    <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>needs to be the next likely <code>3.4.0</code></td>
</tr>
</table>
</div>
</li>
<li>
<p>commit the changes</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "$CAUSEWAYJIRA: updates site.yml in readiness for website generation"</code></pre>
</div>
</div>
</li>
<li>
<p>generate the website:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./preview.sh -AS</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will write to <code>antora/target/site</code>; we&#8217;ll use the results in the <a href="#publish-website">next section</a>.</p>
</div>
</li>
<li>
<p>Revert <code>site.yml</code></p>
<div class="paragraph">
<p>Restore the original <code>site.yml</code> file.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="publish-website"><a class="anchor" href="#publish-website"></a>Publish website</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We now copy the results of the Antora website generation over to the <code>causeway-site</code> repo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in the <code>causeway-site</code> repo, check out the <code>asf-site</code> branch:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd ../causeway-site

git checkout asf-site
git pull --ff-only</code></pre>
</div>
</div>
</li>
<li>
<p>still in the <code>causeway-site</code> repo, run the <code>copyover.sh</code> script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh copyover.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>This deletes all the files in <code>content/</code> <em>except</em> for the <code>schema</code> and <code>versions</code> directories, and copies the generated Antora site to <code>causeway-site</code> repo&#8217;s <code>contents</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/usr/bin/env bash
pushd content
for a in $(ls -1 | grep -v schema | grep -v versions)
do
    rm -rf $a
done
popd

pushd ../causeway
cp -Rf antora/target/site/* ../causeway-site/content/.
popd

git add .</code></pre>
</div>
</div>
</li>
<li>
<p>Commit the changes and preview:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git commit -m "updates website"

./preview.sh</code></pre>
</div>
</div>
</li>
<li>
<p>If everything looks ok, then push the changes to make live, and switch back to the <code>causeway</code> repo:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git push origin asf-site</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-the-algolia-search-index"><a class="anchor" href="#update-the-algolia-search-index"></a>Update the Algolia search index</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use <a href="https://docsearch.algolia.com">Algolia</a> to build our search index.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If required, create a <code>algolia.env</code> file holding the <code>APP_ID</code> and the admin <code>API_KEY</code>, in the root of <code>causeway-site</code>; see <a href="algolia-search.html#create-the-algolia-env-file" class="xref page">appendix</a> for details.</p>
</li>
<li>
<p>If required, update the <code>algolia-config.json</code> file; see <a href="algolia-search.html#create-the-crawler-config" class="xref page">appendix</a> for details.</p>
<div class="paragraph">
<p>In particular, update the <code>stop_urls</code> property with any paths that should not be crawled.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Our policy is to only index the most recent version.
This avoids lots of duplication in the index; previous versions of the page are easily accessible.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Use the Algolia-provided <a href="https://hub.docker.com/r/algolia/docsearch-scraper">docker image</a> to crawl the web pages and create the search index:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pushd content
docker run -it --env-file=../algolia.env -e "CONFIG=$(cat ../algolia-config.json | jq -r tostring)" algolia/docsearch-scraper:v1.16.0
popd</code></pre>
</div>
</div>
<div class="paragraph">
<p>This posts the index up to the <a href="https://algolia.com">Algolia</a> site.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Further documentation on the crawler can be found link:as per <a href="https://docsearch.algolia.com/docs/run-your-own/#run-the-crawl-from-the-docker-image">here</a>; additional config options for the crawler can be found <a href="https://www.algolia.com/doc/api-reference/crawler/">here</a>.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="merge-in-release-branch"><a class="anchor" href="#merge-in-release-branch"></a>Merge in release branch</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because we release from a branch, the changes made in the branch should be merged back from the release branch back into the <code>main</code> branch.</p>
</div>
<div class="paragraph">
<p>In the <code>causeway</code> repo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">RC=RC1                                                <i class="conum" data-value="1"></i><b>(1)</b>
git checkout main
git pull
git merge release-3.4.0-$RC
git push origin main
git branch -d release-3.4.0-$RC
git push origin release-3.4.0-$RC --delete</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>adjust RC number as required</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bump-baselines-for-nightlyweekly-builds"><a class="anchor" href="#bump-baselines-for-nightlyweekly-builds"></a>Bump baselines for nightly/weekly builds</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nightly builds of the framework&#8217;s packages are available in two different locations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, they can be found as packages of the main <a href="https://github.com/apache/causeway">github.com/apache/causeway</a> repo; these can be accessed using your github credentials.</p>
</li>
<li>
<p>But they are also to be found as packages within the (non-ASF) <a href="https://github.com/apache-causeway-committers/causeway-nightly">github.com/apache-causeway-committers/causeway-nightly</a> repo; no credentials are required for these because the git repo is used as a package repository directly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Bump the <code>BASELINE</code> variables for each, as explained below.</p>
</div>
<div class="sect2">
<h3 id="main-repo-weekly-builds"><a class="anchor" href="#main-repo-weekly-builds"></a>Main repo (weekly builds)</h3>
<div class="paragraph">
<p>In the main repo, in <code>.github/workflows</code>, update the <code>BASELINE</code> variable in all scripts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for example, in <code>ci-build-artifacts-no-push-maven.yml</code>:</p>
<div class="listingblock">
<div class="title">.github/workflows/ci-build-artifacts-no-push-maven.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">jobs:
  build:

    env:
      BASELINE: 3.4.0   <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>adjust as necessary</td>
</tr>
</table>
</div>
</li>
<li>
<p>in <code>ci-build-site-no-push.yml</code>:</p>
<div class="listingblock">
<div class="title">.github/workflows/ci-build-site-no-push.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">jobs:
  build:

    env:
      BASELINE: 3.4.0   <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>adjust as necessary</td>
</tr>
</table>
</div>
</li>
<li>
<p>commit and push:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "$CAUSEWAYJIRA: bumps BASELINE to latest release version"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="nightly-build-repo"><a class="anchor" href="#nightly-build-repo"></a>Nightly build repo</h3>
<div class="paragraph">
<p>In the <code>apache-causeway-committers/causeway-nightly</code> repo, similarly bump the versions of the <code>BASELINE_MAIN</code> variable.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>first update your local repo:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git fetch
git reset --hard origin/main</code></pre>
</div>
</div>
</li>
<li>
<p>update the <code>apache-causeway-ci-nightly.yml</code> file:</p>
<div class="listingblock">
<div class="title">.github/workflows/apache-causeway-ci-nightly.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">jobs:
  build:
    name: build, site, build/push reference app
    runs-on: ubuntu-latest
    env:
      # to be shared among all steps of this job
      BASELINE_MAIN: 3.4.0      <i class="conum" data-value="1"></i><b>(1)</b>
      BASELINE_EDGE: 3.4.0      <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>adjust as necessary</td>
</tr>
</table>
</div>
</li>
<li>
<p>update any other CI scripts that might exist there.</p>
</li>
<li>
<p>commit and push:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "$CAUSEWAYJIRA: bumps BASELINE to latest release version"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-starter-projects"><a class="anchor" href="#update-starter-projects"></a>Update starter projects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As explained in <a href="cutting-a-release.html#update-starter-apps" class="xref page">cutting a release</a>,for each of the two starter apps, we maintain
four
branches:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>v3-jpa</code>; <code>v3-jdo</code></p>
<div class="paragraph">
<p>These are intended to reference the <em>most recently released</em> version, the first demonstrating persistence using JDO, the second using JPA.
These are the branches referenced from the home page and getting started pages of the website.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><code>v3-jpa-SNAPSHOT</code>; <code>v3-jdo-SNAPSHOT</code></p>
<div class="paragraph">
<p>These reference the most current snapshot nightly build.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The general idea is that a release will fast-forward <code>vN-jpa</code> to <code>vN-jpa-SNAPSHOT</code> and similarly moves <code>vN-jdo</code> up to <code>vN-jdo-SNAPSHOT</code>, bumping to the newly released version of the framework in the process.
This is done for all current <code>vN</code> branches.
The non-SNAPSHOT builds should always reference the most recently release.</p>
</div>
<div class="paragraph">
<p>In order that we don&#8217;t break the starter apps while a release is being voted on, we do the changes in work branches, <code>$CAUSEWAYBRANCH-jpa</code> and <code>$CAUSEWAYBRANCH-jdo</code>.</p>
</div>
<div class="paragraph">
<p>Now that the release is complete, tidy up these branches and then set up the <code>-SNAPSHOT</code> branches as required.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The <code>vN-{jpa,jdo}</code> branches should always work against the most recent release, whereas the <code>vN-{jpa,jdo}-SNAPSHOT</code> reference more recent nightly builds if necessary.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-the-petclinic-app"><a class="anchor" href="#update-the-petclinic-app"></a>Update the petclinic app</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://github.com/apache/causeway-app-petclinic">petclinic tutorial app</a> should be updated with example tags for each of its exercises.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Checkout the repo</p>
</li>
<li>
<p>Create a new branch</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git checkout -b 3.4.0</code></pre>
</div>
</div>
</li>
<li>
<p>Reset to the <code>v3</code> branch, which contains the scripts required to create the new tags.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git reset --hard v3</code></pre>
</div>
</div>
</li>
<li>
<p>Set the version using the <code>setver.sh</code> script (basically just runs <code>mvn versions:set</code>).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./setver.sh -v 3.4.0</code></pre>
</div>
</div>
</li>
<li>
<p>Create the new tags using <code>tagger.sh</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">PREV_VERSION=...                              <i class="conum" data-value="1"></i><b>(1)</b>
./tagger.sh -p $PREV_VERSION -v 3.4.0</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>adjust as necessary; should be the immediately previous version, eg <code>3.3.0</code> precedes <code>3.4.0</code>.</td>
</tr>
</table>
</div>
</li>
<li>
<p>confirm that the last tag builds and runs ok.</p>
<div class="paragraph">
<p>If it doesn&#8217;t, identify where the problem arises, and fix it.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The 05-01 tag is broken due to mvn versions not set at that point; but 05-02 should work.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Push the tags:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">for a in `git tag -l | grep 3.4.0`
do
    git push origin $a
done</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-the-reference-app"><a class="anchor" href="#update-the-reference-app"></a>Update the reference app</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://github.com/apache/causeway-app-referenceapp">reference app</a> has a configuration property <code>causeway.viewer.common.application.version</code> (in <a href="https://github.com/apache/causeway-app-referenceapp/blob/master/domain/src/main/resources/application.yml#L91">application.yml</a>); this should be updated.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-the-asf-reporter-website"><a class="anchor" href="#update-the-asf-reporter-website"></a>Update the ASF Reporter website</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Log the new release in the <a href="https://reporter.apache.org/addrelease.html?causeway">ASF Reporter website</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="announce-the-release"><a class="anchor" href="#announce-the-release"></a>Announce the release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Announce the release to <a href="mailto:users@causeway.apache.org">users mailing list</a>.</p>
</div>
<div class="paragraph">
<p>For example, for a release of Apache Causeway Core, use the following subject:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">[ANN] Apache Causeway version 3.4.0 Released</code></pre>
</div>
</div>
<div class="paragraph">
<p>And use the following body (summarizing the main points as required):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">The Apache Causeway team is pleased to announce the release of Apache Causeway 3.4.0.

New features in this release include:

* ...

Full release notes are available on the Apache Causeway website at [1].

You can access this release directly from the Maven central repo [2].
Alternatively, download the release and build it from source [3].

Enjoy!

--The Apache Causeway team

[1] https://causeway.apache.org/relnotes/latest/about.html
[2] https://search.maven.org
[3] https://causeway.apache.org/docs/latest/downloads/how-to.html</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="announce-on-announceapache-org"><a class="anchor" href="#announce-on-announceapache-org"></a>Announce on <code>announce@apache.org</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This mailing list is for official project announcements, including release announcements.
Posting to this mailing list is highly recommended:</p>
</div>
<div class="quoteblock">
<blockquote>
"sending your news to announce@ helps amplify your message to thousands of subscribers, and be included in official ASF promotions, including the Weekly News Round-ups (published every Friday; read by members of the media/analyst community --SD News publishes weekly updates on Apache projects from the Round-ups)"
</blockquote>
<div class="attribution">
&#8212; Sally Khudairi<br>
<cite>email out to Apache PMCs</cite>
</div>
</div>
<div class="paragraph">
<p>There are strict guidelines regarding posting to <a href="mailto:announce@apache.org">announce@apache.org</a>, which is a moderated list.
The message must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>be sent from your apache.org address;</p>
</li>
<li>
<p>be in PLAINTEXT (no HTML mail, no embedded links) and with no attachments</p>
</li>
<li>
<p>contain [ANNOUNCE] or [ANN] before a clear subject line</p>
<div class="paragraph">
<p>eg: <code>[ANNOUNCE] Apache PROJECTNAME v2.3 released</code>.</p>
</div>
</li>
<li>
<p>include your project boilerplate ~10-60 words (DOAP = description of a project; eg. <a href="https://projects.apache.org/project.html?bookkeeper" class="bare">https://projects.apache.org/project.html?bookkeeper</a> )</p>
</li>
<li>
<p>include a link to the project homepage or download source(s)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples: <a href="https://lists.apache.org/list.html?announce\@apache.org">https://lists.apache.org/list.html?<a href="mailto:announce@apache.org">announce@apache.org</a></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="social-media"><a class="anchor" href="#social-media"></a>Social Media</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Announce the release using the <code>@ApacheCauseway</code> Twitter account.</p>
</div>
</div>
</div>
</article>
<aside class="article-aside toc hide-for-print" role="navigation">
    <p class="toc-title">On this page</p>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="content">
        <div class="copyright">
            <p>
                Copyright  2010~2024 The Apache Software Foundation, licensed under the Apache License, v2.0.
                <br/>
                Apache, the Apache feather logo, Apache Causeway, and the Apache Causeway project logo are all trademarks of The Apache Software Foundation.
            </p>
        </div>
        <div class="revision">
            <p>Revision: 3.5.0-SNAPSHOT.20251007-0250-e045730d</p>
        </div>
    </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/jquery-3.4.1.min.js"></script>
<script src="../../_/js/vendor/jquery-ui-1.12.1.custom.widget-only.min.js"></script>
<script src="../../_/js/vendor/jquery.tocify.min.js"></script>

<script>
    $(function() {
        $("#article-toc").tocify( {
            showEffect: "slideDown",
            hashGenerator: "pretty",
            hideEffect: "slideUp",
            selectors: "h2, h3",
            scrollTo: 120,
            smoothScroll: true,
            theme: "jqueryui",
            highlightOnScroll: true
        } );
    });
</script>

<script src="../../_/js/vendor/docsearch.min.js"></script>
<script>
  function focusSearchInput () { document.querySelector('#algolia-search-input').focus() }
  var search = docsearch({
    appId: '5ISP5TFAEN',
    apiKey: '0fc51c28b4ad46e7318e96d4e97fab7c',
    indexName: 'causeway-apache-org',
    inputSelector: '#algolia-search-input',
    autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
    debug: false,
  }).autocomplete
  search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
  focusSearchInput()
  window.addEventListener('load', focusSearchInput);
</script>

<!--
  docsearch options:
  https://docsearch.algolia.com/docs/behavior/
-->
<!--
  https://www.algolia.com/doc/api-reference/api-parameters/
  algoliaOptions: { hitsPerPage: 6 },
-->
  </body>
</html>
