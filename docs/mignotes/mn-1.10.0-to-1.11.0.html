<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>From v1.10.0 to 1.11.0 :: Apache Isis</title>
    <link rel="canonical" href="https://isis.apache.org/mignotes/mn-1.10.0-to-1.11.0.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://isis.apache.org">Apache Isis</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mignotes" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="about.html">Migration Notes</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="about.html">Migration Notes</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Migration Notes</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Architecture & Design</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../archdesign/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">DataNucleus ObjectStore</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../odn/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Example App - Demo</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../demoapp/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Example App - Hello World</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../helloworld/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Example App - SimpleApp</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../simpleapp/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions - SecMan</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../ext-secman/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Fundamentals & Beyond</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../ug/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Guides - Reference Guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rg/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Maven Dependencies</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../mavendeps/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Migration Notes</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../relnotes/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Restful Objects Viewer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../vro/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Runtime Services</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../runtime-services/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../security/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">SmokeTest App</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../smoketests/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Table of Contents</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../toc/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../testing/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Wicket Viewer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../vw/about.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../toc/about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="about.html">Migration Notes</a></li>
    <li><a href="mn-1.10.0-to-1.11.0.html">From v1.10.0 to 1.11.0</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/hobrom/antora/isis/antora/components/mignotes/modules/ROOT/pages/mn-1.10.0-to-1.11.0.adoc">Edit this Page</a></div>
  </div>
<article class="doc">
<h1 class="page">From v1.10.0 to 1.11.0</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Existing projects written against v1.10.0 should run against v1.11.0 with few if any changes.
If you <strong>do</strong> encounter any difficulties then let us know via the <a href="https://isis.apache.org/versions/1.11.0/support.html">users mailing list</a>, so we can support you and document issues here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="swagger-ui"><a class="anchor" href="#swagger-ui"></a>Swagger UI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The new <a href="https://isis.apache.org/versions/1.11.0/guides/rgsvc/rgsvc.html#_rgsvc_metadata-api_SwaggerService"><code>SwaggerService</code></a> allows <a href="http://swagger.io">Swagger</a> spec files to be generated from the Apache Isis metamodel.
These can be downloaded directly through the <code>SwaggerResource</code> (mapped to <code>/restful/swagger/public</code> and <code>/restful/swagger/private</code>) as well as from the Wicket UI through the <code>SwaggerServiceMenu</code>.</p>
</div>
<div class="paragraph">
<p>In addition, the <a href="https://isis.apache.org/versions/1.11.0/arch/simpleapp/about.html">SimpleApp archetype</a> now bundles <a href="https://github.com/swagger-api/swagger-ui">Swagger UI</a>, which documents the main features of the REST API and allows it to be explored.</p>
</div>
<div class="paragraph">
<p>To enable this in your application, first update the <code>web.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;servlet&gt;
    &lt;servlet-name&gt;WebjarsServlet&lt;/servlet-name&gt;                         <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;servlet-class&gt;org.webjars.servlet.WebjarsServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;disableCache&lt;/param-name&gt;
        &lt;param-value&gt;false&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;WebjarsServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/webjars/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
...
&lt;filter&gt;
    &lt;filter-name&gt;IsisSessionFilterForRestfulObjects&lt;/filter-name&gt;
    ...
    &lt;init-param&gt;
        &lt;param-name&gt;whenNoSession&lt;/param-name&gt;
        &lt;param-value&gt;auto&lt;/param-value&gt;                                 <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;/init-param&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;passThru&lt;/param-name&gt;                               <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;param-value&gt;/restful/swagger&lt;/param-value&gt;
    &lt;/init-param&gt;
&lt;/filter&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>provides access to the Swagger UI (packaged as a webjar)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>issues a 401 status, but with the <code>WWW-Authenticate</code> challenge suppressed if requested from the Swagger UI</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>provides access to the RESTful resource that generates the Swagger spec.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There is also an HTML page to load the Swagger UI itself; this resides in <code>src/main/webapp/swagger-ui/index.html</code>.
Copy the <a href="https://github.com/apache/isis/blob/master/example/application/simpleapp/webapp/src/main/webapp/swagger-ui/index.html">file from Apache Isis' repo</a>, or from the app generated by the <a href="https://isis.apache.org/versions/1.11.0/arch/simpleapp/about.html">SimpleApp archetype</a>.</p>
</div>
<div class="paragraph">
<p>The text of the simple app&#8217;s <code>about/index.html</code> has also changed (the <code>&lt;li</code>&gt; for the <code>/restful</code> URL has been replaced with a <code>/swagger-ui</code> URL).
If you use <a href="https://github.com/apache/isis/blob/master/example/application/simpleapp/webapp/src/main/webapp/about/index.html">this file</a>, then update it.</p>
</div>
<div class="paragraph">
<p>If your application is bootstrapped using an <code>AppManifest</code> (recommended; <a href="https://isis.apache.org/versions/1.11.0/guides/rgcms/rgcms.html#_rgcms_classes_AppManifest-bootstrapping">here</a>) then the default implementation of the <code>SwaggerService</code> will automatically be discovered and registered.
However, if you are still using the older <code>isis.properties</code> configuration file to explicitly register services then you will need to add in this service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="routingservice"><a class="anchor" href="#routingservice"></a><code>RoutingService</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The new <a href="https://isis.apache.org/versions/1.11.0/guides/rgsvc/rgsvc.html#_rgsvc_presentation-layer-spi_RoutingService"><code>RoutingService</code></a> SPI service provides a plugin point to the <a href="https://isis.apache.org/versions/1.11.0/guides/ugvw/ugvw.html">Wicket viewer</a> so that a different object than that returned from an action invocation can be rendered.</p>
</div>
<div class="paragraph">
<p>The framework provides a default implementation of this service that will - instead of a void or a <code>null</code> result - render the home page (as per the <a href="https://isis.apache.org/versions/1.11.0/guides/rgant/rgant.html#_rgant-HomePage"><code>@HomePage</code></a> annotation) if there is one.
This is therefore a subtle change in the UI.
If you wish to retain the original behaviour (to return the "no results" page instead), then you should implement your own no-op implementation of this service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainService
@DomainServiceLayout(menuOrder="1")
public class IdentityRoutingService implements RoutingService {
    public boolean canRoute(Object original) { return true; }
    public Object route(Object original) { return original; }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wicket-viewer-i18n"><a class="anchor" href="#wicket-viewer-i18n"></a>Wicket Viewer i18n</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://isis.apache.org/versions/1.11.0/guides/ugvw/html.adoc#">Wicket viewer</a> (its labels, buttons, messages etc) can now be internationalized using the <a href="https://isis.apache.org/versions/1.11.0/guides/rgsvc/rgsvc.html#_rgsvc_presentation-layer-spi_TranslationService"><code>TranslationService</code></a>.</p>
</div>
<div class="paragraph">
<p>To enable this, new <code>msgId</code>s and corresponding translations must be added to the <code>translations.po</code> file.
Full details of these <code>msgId</code>s can be found in <a href="https://isis.apache.org/versions/1.11.0/guides/ugbtb/ugbtb.html#__ugbtb_i18n_wicket-viewer">i18n</a> section of the "beyond the basics" guide.</p>
</div>
<div class="paragraph">
<p>If no translations are available, then the fallback is to use the previous mechanism, ie Wicket&#8217;s original resource bundles.
This feature can therefore be considered as optional.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
