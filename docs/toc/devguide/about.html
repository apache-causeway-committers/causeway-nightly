<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Developers' Guide :: Apache Isis</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-custom.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">
          <span class="icon">
            <img src="../../_/img/isis-logo-48x48.png"></img>
          </span>
        <span>Apache Isis</span>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <a class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Quick Start</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Starter Apps</span>
            <a class="navbar-item" href="../../starters/helloworld/about.html">Hello World</a>
            <a class="navbar-item" href="../../starters/simpleapp/about.html">Simple App</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Demos &amp; Tutorials</span>
            <a class="navbar-item" href="../../demoapp/about.html">Demo App</a>
            <a class="navbar-item" href="https://danhaywood.gitlab.io/isis-petclinic-tutorial-docs/petclinic/1.16.2/intro.html">Petclinic (tutorial)</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../userguide/about.html">User Guide</a>
            <a class="navbar-item" href="../../refguide/about.html">Reference Guide</a>
            <a class="navbar-item" href="../../testing/about.html">Testing Guide</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Libraries</span>
            <a class="navbar-item" href="../../subdomain/about.html">Subdomain Libraries</a>
            <a class="navbar-item" href="../../valuetypes/about.html">Value Types</a>
            <a class="navbar-item" href="../../mappings/about.html">Bounded Context Mapping Libraries</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Resources</span>
            <a class="navbar-item" href="../../toc/devguide/about.html">Developers' Guide</a>
            <a class="navbar-item" href="../../toc/mavendeps/about.html">Maven dependencies</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Components</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Viewers</span>
            <a class="navbar-item" href="../../vw/about.html">Wicket UI</a>
            <a class="navbar-item" href="../../vro/about.html">Restful Objects (REST)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../security/about.html">Security Guide</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Persistence</span>
            <a class="navbar-item" href="../../odn/about.html">DataNucleus Object Store</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Extensions</span>
            <a class="navbar-item" href="../../extensions/about.html">Extensions Catalog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Contact</span>
            <a class="navbar-item" href="../../toc/support/slack-channel.html">Slack</a>
            <a class="navbar-item" href="../../toc/support/mailing-list.html">Mailing Lists</a>
            <a class="navbar-item" href="https://issues.apache.org/jira/browse/ISIS">JIRA</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/isis">Stack Overflow</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Releases</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Releases</span>
            <a class="navbar-item" href="../../toc/downloads/how-to.html">Downloads</a>
            <a class="navbar-item" href="../../relnotes/about.html">Release Notes</a>
            <a class="navbar-item" href="../../mignotes/about.html">Migration Notes</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">More Libraries</span>
            <a class="navbar-item" href="../../incubator/about.html">Incubator</a>
            <a class="navbar-item" href="../../legacy/about.html">Legacy</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Internal</span>
            <a class="navbar-item" href="../../toc/comguide/about.html">Committers' Guide</a>
            <a class="navbar-item" href="../../core/about.html">Core Design</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">ASF</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="http://www.apache.org/">Apache Homepage</a>
            <a class="navbar-item" href="https://www.apache.org/events/current-event">Events</a>
            <a class="navbar-item" href="https://www.apache.org/licenses/">Licenses</a>
            <a class="navbar-item" href="https://www.apache.org/security/">Security</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <hr class="navbar-divider"/>
            <a class="navbar-item" href="https://whimsy.apache.org/board/minutes/Isis.html">PMC board minutes</a>
          </div>
        </div>
        <a class="navbar-item" href="../../toc/about.html">
          <span class="icon">
            <img src="../../_/img/home.png"></img>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body ">
<div class="nav-container" data-component="toc" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../about.html"> </a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">What is Apache Isis?</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../what-is-apache-isis/isis-in-pictures.html">Apache Isis in pictures</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../what-is-apache-isis/common-use-cases.html">Common Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../what-is-apache-isis/screencasts.html">Screencasts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../what-is-apache-isis/powered-by.html">Powered By</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Starter Apps</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/apache/isis-app-helloworld">HelloWorld</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/apache/isis-app-simpleapp">SimpleApp</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Demos &amp; Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../demoapp/about.html">Demo App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://danhaywood.gitlab.io/isis-petclinic-tutorial-docs/petclinic/1.16.2/intro.html">Petclinic (tutorial)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Guides</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Core</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../userguide/about.html">User Guide</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../refguide/about.html">Reference Guide</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../testing/about.html">Testing Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Libraries</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../subdomains/about.html">Subdomain Libraries</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../valuetypes/about.html">Value Types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../mappings/about.html">Bounded Context Mapping Libraries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="about.html">Developers' Guide</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../mavendeps/about.html">Maven dependencies</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Viewers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../vw/about.html">Wicket UI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../vro/about.html">Restful Objects (REST API)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Security</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../security/about.html">Security Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Persistence</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../pjdo/about.html">DataNucleus (JDO)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extensions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../extensions/about.html">Extensions Catalog</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Support</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../support/slack-channel.html">Slack</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../support/mailing-list.html">Mailing Lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=87">ASF JIRA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="http://stackoverflow.com/questions/tagged/isis">Stack Overflow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Releases</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/how-to.html">Downloads</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../relnotes/about.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mignotes/about.html">Migration Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Nightly Builds (not ASF)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="https://github.com/apache-isis-committers/isis-nightly">CI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="https://repo.incode.cloud/">Maven Repo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="https://apache-isis-committers.github.io/isis-nightly/toc/about.html">Website preview</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Internal</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../comguide/about.html">Committers' Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../comguide/about.html#cutting-a-release">Cutting a Release</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../comguide/about.html#verifying-releases">Verifying a Release</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../core/about.html">Core Design</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../more-thanks/more-thanks.html">Acknowledgements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">More Libraries</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../incubator/about.html">Incubator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../legacy/about.html">Legacy</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title"> </span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title"> </span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">BC Mappings Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mappings/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Core Framework</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../core/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">DataNucleus ObjectStore</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../pjdo/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../extensions/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Incubator Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../incubator/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Legacy Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../legacy/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Reference Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../refguide/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Restful Objects Viewer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../vro/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../security/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Starter Apps</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../starters/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Subdomains Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../subdomains/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../testing/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Tutorial App - Demo</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../demoapp/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">User Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../userguide/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Value Types Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../valuetypes/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Wicket Viewer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../vw/about.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../about.html"> </a></li>
    <li>Guides</li>
    <li>Resources</li>
    <li><a href="about.html">Developers' Guide</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/apache/isis/edit/HEAD/antora/components/toc/modules/devguide/pages/about.adoc">Edit</a></div>
</div>
<article class="doc">
    <a name="section-top"></a>
<h1 class="page">Developers' Guide</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide provides guidance to anyone in the community wanting to contribute to Apache Isis' ongoing development.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ide"><a class="anchor" href="#ide"></a>Using an IDE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The vast majority of Java developers use an IDE to assist with developing their code, and we highly recommend that you do likewise as you develop your Apache Isis applications using an IDE.
Apache Isis is built with Maven, and all modern IDEs can import Maven projects.</p>
</div>
<div class="paragraph">
<p>This chapter shows how to setup and use two of the most popular IDEs, IntelliJ IDEA and Eclipse.</p>
</div>
<div class="sect2">
<h3 id="intellij"><a class="anchor" href="#intellij"></a>Developing using IntelliJ IDEA</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This material does not constitute an endorsement; JetBrains is not affiliated to Apache Software Foundation in any way.  JetBrains does however provide complimentary copies of the IntelliJ IDE to Apache committers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This section describes how to install and setup JetBrains' IntelliJ IDEA, then how to import an application into IntelliJ and run it.</p>
</div>
<div class="sect3">
<h4 id="installing-and-setting-up"><a class="anchor" href="#installing-and-setting-up"></a>Installing and Setting up</h4>
<div class="paragraph">
<p>This section covers installation and setup. These notes/screenshots were prepared using IntelliJ Community Edition 14.1.x, but are believed to be compatible with more recent versions/other editions of the IDE.</p>
</div>
<div class="sect4">
<h5 id="download-and-install"><a class="anchor" href="#download-and-install"></a>Download and Install</h5>
<div class="paragraph">
<p><a href="https://www.jetbrains.com/idea/download/">Download</a> latest version of IntelliJ Community Edition, and install:</p>
</div>
<div class="paragraph">
<p>Start the wizard, click through the welcome page:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/010-installing/010-welcome-page.png"><img src="_images/intellij-idea/010-installing/010-welcome-page.png" alt="010 welcome page" width="400px"></a>
</div>
<div class="title">Figure 1. IntelliJ Installation Wizard - Welcome page</div>
</div>
<div class="paragraph">
<p>Choose the location to install the IDE:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/010-installing/020-choose-location.png"><img src="_images/intellij-idea/010-installing/020-choose-location.png" alt="020 choose location" width="400px"></a>
</div>
<div class="title">Figure 2. IntelliJ Installation Wizard - Choose Location</div>
</div>
<div class="paragraph">
<p>Adjust any installation options as you prefer:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/010-installing/030-installation-options.png"><img src="_images/intellij-idea/010-installing/030-installation-options.png" alt="030 installation options" width="400px"></a>
</div>
<div class="title">Figure 3. IntelliJ Installation Wizard - Installation Options</div>
</div>
<div class="paragraph">
<p>and the start menu:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/010-installing/040-start-menu-folder.png"><img src="_images/intellij-idea/010-installing/040-start-menu-folder.png" alt="040 start menu folder" width="400px"></a>
</div>
<div class="title">Figure 4. IntelliJ Installation Wizard - Start Menu Folder</div>
</div>
<div class="paragraph">
<p>and finish up the wizard:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/010-installing/050-completing.png"><img src="_images/intellij-idea/010-installing/050-completing.png" alt="050 completing" width="400px"></a>
</div>
<div class="title">Figure 5. IntelliJ Installation Wizard - Completing the Wizard</div>
</div>
<div class="paragraph">
<p>Later on we&#8217;ll specify the Apache Isis/ASF code style settings, so for now select <code>I do not want to import settings</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/010-installing/060-import-settings-or-not.png"><img src="_images/intellij-idea/010-installing/060-import-settings-or-not.png" alt="060 import settings or not" width="400px"></a>
</div>
<div class="title">Figure 6. IntelliJ Installation Wizard - Import Settings</div>
</div>
<div class="paragraph">
<p>Finally, if you are a trendy hipster, set the UI theme to Darcula:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/010-installing/070-set-ui-theme.png"><img src="_images/intellij-idea/010-installing/070-set-ui-theme.png" alt="070 set ui theme" width="600px"></a>
</div>
<div class="title">Figure 7. IntelliJ Installation Wizard Set UI Theme</div>
</div>
</div>
<div class="sect4">
<h5 id="new-project"><a class="anchor" href="#new-project"></a>New Project</h5>
<div class="paragraph">
<p>In IntelliJ a project can contain multiple modules; these need not be physically located together.  (If you are previously an Eclipse user, you can think of it as similar to an Eclipse workspace).</p>
</div>
<div class="paragraph">
<p>Start off by creating a new project:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/020-create-new-project/010-new-project-create.png"><img src="_images/intellij-idea/020-create-new-project/010-new-project-create.png" alt="010 new project create" width="400px"></a>
</div>
<div class="title">Figure 8. IntelliJ Create New Project</div>
</div>
<div class="paragraph">
<p>We want to create a new <strong>Java</strong> project:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/020-create-new-project/020-java-project-setup-jdk.png"><img src="_images/intellij-idea/020-create-new-project/020-java-project-setup-jdk.png" alt="020 java project setup jdk" width="500px"></a>
</div>
<div class="title">Figure 9. IntelliJ Create New Project - Create a Java project</div>
</div>
<div class="paragraph">
<p>We therefore need to specify the JDK.  Apache Isis supports both Java 7 and Java 8.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/020-create-new-project/030-java-project-select-jdk.png"><img src="_images/intellij-idea/020-create-new-project/030-java-project-select-jdk.png" alt="030 java project select jdk" width="250px"></a>
</div>
<div class="title">Figure 10. IntelliJ Create New Java Project - Select the JDK</div>
</div>
<div class="paragraph">
<p>Specify the directory containing the JDK:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/020-create-new-project/050-name-and-location.png"><img src="_images/intellij-idea/020-create-new-project/050-name-and-location.png" alt="050 name and location" width="400px"></a>
</div>
<div class="title">Figure 11. IntelliJ Create New Project - Select the JDK location</div>
</div>
<div class="paragraph">
<p>Finally allow IntelliJ to create the directory for the new project:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/020-create-new-project/060-create-dir.png"><img src="_images/intellij-idea/020-create-new-project/060-create-dir.png" alt="060 create dir" width="250px"></a>
</div>
<div class="title">Figure 12. IntelliJ Create New Project</div>
</div>
</div>
<div class="sect4">
<h5 id="file-templates"><a class="anchor" href="#file-templates"></a>File templates</h5>
<div class="paragraph">
<p>Next we recommend you import a set of standard file templates.  These are used to create new classes or supporting files:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/030-import-settings/040-file-templates.png"><img src="_images/intellij-idea/030-import-settings/040-file-templates.png" alt="040 file templates" width="400px"></a>
</div>
<div class="title">Figure 13. File templates</div>
</div>
<div class="paragraph">
<p>The file templates are provided as a settings JAR file, namely <strong><a href="_attachments/intellij/isis-settings-file-templates.jar">isis-settings-file-templates.jar</a></strong>.  Download this file.</p>
</div>
<div class="paragraph">
<p>Next, import using <code>File &gt; Import Settings</code>, specifying the directory that you have downloaded the file to:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/030-import-settings/010-settings-import-jar.png"><img src="_images/intellij-idea/030-import-settings/010-settings-import-jar.png" alt="010 settings import jar" width="400px"></a>
</div>
<div class="title">Figure 14. IntelliJ Import Settings - Specify JAR file</div>
</div>
<div class="paragraph">
<p>Select all the categories (there should just be one), and hit OK.  then hit restart.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If importing into IntelliJ 2017.2.3 two categories are shown - "File templates" and "File templates (schemes)". Select all the categories.</p>
</div>
<div class="paragraph">
<p>Apparently no categories are shown if importing into IntelliJ 2016.1.1 Community Edition (and perhaps other 2016
versions).  The file does import ok into IntelliJ 15.0.x, so we think this is a bug in the 2016 version.</p>
</div>
<div class="paragraph">
<p>The workaround is to extract the <code>.jar</code> file locally and copy the files into IntelliJ&#8217;s <code>config</code> directory, somewhere
in your home directory:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Windows <code>&lt;User home&gt;\.IdeaIC2016\config</code></p>
</li>
<li>
<p>Linux <code>~/..IdeaIC2016/config</code></p>
</li>
<li>
<p>Mac OS <code>~/Library/Preferences/IdeaIC2016</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="live-templates"><a class="anchor" href="#live-templates"></a>Live templates</h5>
<div class="paragraph">
<p>We also recommend you import a set  of live templates.  These are used to add new methods to existing classes:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/030-import-settings/050-live-templates.png"><img src="_images/intellij-idea/030-import-settings/050-live-templates.png" alt="050 live templates" width="600px"></a>
</div>
<div class="title">Figure 15. Live templates</div>
</div>
<div class="paragraph">
<p>The live templates have a prefix of either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>is</code> : for Apache Isis domain objects</p>
</li>
<li>
<p><code>ju</code> : for JUnit tests</p>
</li>
<li>
<p><code>jm</code> : for JMock mocks or libraries</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The live templates are also provided as a settings JAR file, namely <strong><a href="_attachments/resources/intellij/isis-settings-live-templates.jar">isis-settings-live-templates.jar</a></strong>.
Download and import (as for the previous settings JAR files).</p>
</div>
</div>
<div class="sect4">
<h5 id="coding-standards"><a class="anchor" href="#coding-standards"></a>Coding Standards</h5>
<div class="paragraph">
<p>Next, we suggest you import settings for standard ASF/Apache Isis coding conventions.  This file is also
provided as a settings file, namely <strong><a href="_attachments/intellij/isis-settings-code-style.jar">isis-settings-code-style.jar</a></strong>.  Download and import (as for the above settings JAR files).</p>
</div>
</div>
<div class="sect4">
<h5 id="other-settings-compiler"><a class="anchor" href="#other-settings-compiler"></a>Other Settings (Compiler)</h5>
<div class="paragraph">
<p>There are also some other settings that influence the compiler.  We highly recommend you set these.</p>
</div>
<div class="paragraph">
<p>On the <strong>Compiler</strong> Settings page, ensure that <code>build automatically</code> is enabled (and optionally <code>compile independent modules in parallel</code>):</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/040-other-settings-compiler/010-build-automatically.png"><img src="_images/intellij-idea/040-other-settings-compiler/010-build-automatically.png" alt="010 build automatically" width="700px"></a>
</div>
<div class="title">Figure 16. IntelliJ Compiler Settings</div>
</div>
<div class="paragraph">
<p>On the <strong>Annotation Processors</strong> page, enable and adjust for the 'default' setting:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/040-other-settings-compiler/020-annotation-processor.png"><img src="_images/intellij-idea/040-other-settings-compiler/020-annotation-processor.png" alt="020 annotation processor" width="700px"></a>
</div>
<div class="title">Figure 17. IntelliJ Annotation Processor Settings</div>
</div>
<div class="paragraph">
<p>This setting enables the generation of the <code>Q*</code> classes for DataNucleus type-safe queries, as well as being required
for frameworks such as <a href="project-lombok.html" class="page">Project Lombok</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>IntelliJ may also have inferred these settings for specific projects/modules when importing; review the list on the left to see if the default is overridden and fix/delete as required.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="other-settings-maven"><a class="anchor" href="#other-settings-maven"></a>Other Settings (Maven)</h5>
<div class="paragraph">
<p>There are also some other settings for Maven that we recommend you adjust (though these are less critical):</p>
</div>
<div class="paragraph">
<p>First, specify an up-to-date Maven installation, using <code>File &gt; Settings</code> (or <code>IntelliJ &gt; Preferences</code> if on MacOS):</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/042-other-settings-maven/010-maven-installation.png"><img src="_images/intellij-idea/042-other-settings-maven/010-maven-installation.png" alt="010 maven installation" width="700px"></a>
</div>
<div class="title">Figure 18. IntelliJ Maven Settings - Installation</div>
</div>
<div class="paragraph">
<p>Still on the Maven settings page, configure as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/042-other-settings-maven/020-maven-configuration.png"><img src="_images/intellij-idea/042-other-settings-maven/020-maven-configuration.png" alt="020 maven configuration" width="700px"></a>
</div>
<div class="title">Figure 19. IntelliJ Maven Settings - Configuration</div>
</div>
</div>
<div class="sect4">
<h5 id="other-settings-misc"><a class="anchor" href="#other-settings-misc"></a>Other Settings (Misc)</h5>
<div class="paragraph">
<p>These settings are optional but also recommended.</p>
</div>
<div class="paragraph">
<p>On the <strong>auto import</strong> page, check the <code>optimize imports on the fly</code> and <code>add unambiguous imports on the fly</code></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/044-other-settings-misc/010-auto-import.png"><img src="_images/intellij-idea/044-other-settings-misc/010-auto-import.png" alt="010 auto import" width="700px"></a>
</div>
<div class="title">Figure 20. IntelliJ Maven Settings - Auto Import</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="importing-maven-modules"><a class="anchor" href="#importing-maven-modules"></a>Importing Maven Modules</h4>
<div class="paragraph">
<p>Let&#8217;s load in some actual code!  We do this by importing the Maven modules.</p>
</div>
<div class="paragraph">
<p>First up, open up the Maven tool window (<code>View &gt; Tool Windows &gt; Maven Projects</code>).  You can then use the 'plus' button to add Maven modules.  In the screenshot you can see we&#8217;ve loaded in Apache Isis core; the modules are listed in the <em>Maven Projects</em> window and corresponding (IntelliJ) modules are shown in the <em>Projects</em> window:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/100-maven-module-mgmt/010-maven-modules-view.png"><img src="_images/intellij-idea/100-maven-module-mgmt/010-maven-modules-view.png" alt="010 maven modules view" width="730px"></a>
</div>
<div class="title">Figure 21. IntelliJ Maven Module Management - Importing Maven modules</div>
</div>
<div class="paragraph">
<p>We can then import another module (from some other directory).  For example, here we are importing the Isis Addons' todoapp example:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/100-maven-module-mgmt/020-adding-another-module.png"><img src="_images/intellij-idea/100-maven-module-mgmt/020-adding-another-module.png" alt="020 adding another module" width="400px"></a>
</div>
<div class="title">Figure 22. IntelliJ Maven Module Management - Importing another Module</div>
</div>
<div class="paragraph">
<p>You should then see the new Maven module loaded in the <em>Projects</em> window and also the <em>Maven Projects</em> window:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/100-maven-module-mgmt/030-other-module-added.png"><img src="_images/intellij-idea/100-maven-module-mgmt/030-other-module-added.png" alt="030 other module added" width="730px"></a>
</div>
<div class="title">Figure 23. IntelliJ Maven Module Management -</div>
</div>
<div class="paragraph">
<p>If any dependencies are already loaded in the project, then IntelliJ will automatically update the CLASSPATH to resolve to locally held modules (rather from <code>.m2/repository</code> folder).  So, for example (assuming that the <code>&lt;version&gt;</code> is correct, of course), the Isis todoapp will have local dependencies on the Apache Isis core.</p>
</div>
<div class="paragraph">
<p>You can press F4 (or use <code>File &gt; Project Structure</code>) to see the resolved classpath for any of the modules loaded into the project.</p>
</div>
<div class="paragraph">
<p>If you want to focus on one set of code (eg the Isis todoapp but not Apache Isis core) then you <em>could</em> remove the module; but better is to ignore those modules.  This will remove them from the <em>Projects</em> window but keep them available in the <em>Maven Projects</em> window for when you next want to work on them:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/100-maven-module-mgmt/040-ignoring-modules.png"><img src="_images/intellij-idea/100-maven-module-mgmt/040-ignoring-modules.png" alt="040 ignoring modules" width="730px"></a>
</div>
<div class="title">Figure 24. IntelliJ Maven Module Management - Ignoring Modules</div>
</div>
<div class="paragraph">
<p>Confirm that it&#8217;s ok to ignore these modules:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/100-maven-module-mgmt/050-ignoring-modules-2.png"><img src="_images/intellij-idea/100-maven-module-mgmt/050-ignoring-modules-2.png" alt="050 ignoring modules 2" width="300px"></a>
</div>
<div class="title">Figure 25. IntelliJ Maven Module Management - Ignoring Modules (ctd)</div>
</div>
<div class="paragraph">
<p>All being well you should see that the <em>Projects</em> window now only contains the code you are working on.
Its classpath dependencies will be adjusted (eg to resolve to Apache Isis core from <code>.m2/repository</code>):</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/100-maven-module-mgmt/060-ignored-modules.png"><img src="_images/intellij-idea/100-maven-module-mgmt/060-ignored-modules.png" alt="060 ignored modules" width="730px"></a>
</div>
<div class="title">Figure 26. IntelliJ Maven Module Management - Updated Projects Window</div>
</div>
</div>
<div class="sect3">
<h4 id="running"><a class="anchor" href="#running"></a>Running</h4>
<div class="paragraph">
<p>Let&#8217;s see how to run both the app and the tests.</p>
</div>
<div class="sect4">
<h5 id="running-the-app"><a class="anchor" href="#running-the-app"></a>Running the App</h5>
<div class="paragraph">
<p>Once you&#8217;ve imported your Apache Isis application, we should run it.  We do this by creating a Run configuration, using <code>Run &gt; Edit Configurations</code>.</p>
</div>
<div class="paragraph">
<p>Set up the details as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/110-running-the-app/010-run-configuration.png"><img src="_images/intellij-idea/110-running-the-app/010-run-configuration.png" alt="010 run configuration" width="600px"></a>
</div>
<div class="title">Figure 27. IntelliJ Running the App - Run Configuration</div>
</div>
<div class="paragraph">
<p>We specify the <code>Main class</code> to be <code>org.apache.isis.WebServer</code>; this is a wrapper around Jetty.  It&#8217;s possible to pass program arguments to this (eg to automatically install fixtures), but for now leave this blank.</p>
</div>
<div class="paragraph">
<p>Also note that <code>Use classpath of module</code> is the webapp module for your app, and that the <code>working directory</code> is <code>$MODULE_DIR$</code>.</p>
</div>
<div class="paragraph">
<p>Next, and most importantly, configure the DataNucleus enhancer to run for your <code>dom</code> goal.  This can be done by defining a Maven goal to run before the app:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/110-running-the-app/020-datanucleus-enhancer-goal.png"><img src="_images/intellij-idea/110-running-the-app/020-datanucleus-enhancer-goal.png" alt="020 datanucleus enhancer goal" width="400px"></a>
</div>
<div class="title">Figure 28. IntelliJ Running the App - Datanucleus Enhancer Goal</div>
</div>
<div class="paragraph">
<p>The <code>-o</code> flag in the goal means run off-line; this will run faster.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you forget to set up the enhancer goal, or don&#8217;t run it on the correct (dom) module, then you will get all sorts of errors when you startup.  These usually manifest themselves as class cast exception in DataNucleus.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You should now be able to run the app using <code>Run &gt; Run Configuration</code>.  The same configuration can also be used to debug the app if you so need.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Under windows you may get 'Standard error from the DataNucleus tool + org.datanucleus.enhancer.DataNucleusEnhancer : The command line is too long' although 'fork=false' is set in pom.xml. Can be worked around via setting '-Dfork=false' before or after 'datanucleus:enhance -o'.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="running-the-unit-tests"><a class="anchor" href="#running-the-unit-tests"></a>Running the Unit Tests</h5>
<div class="paragraph">
<p>The easiest way to run the unit tests is just to right click on the <code>dom</code> module in the <em>Project Window</em>, and choose run unit tests.  Hopefully your tests will pass (!).</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/110-running-the-app/030-running-unit-tests.png"><img src="_images/intellij-idea/110-running-the-app/030-running-unit-tests.png" alt="030 running unit tests" width="600px"></a>
</div>
<div class="title">Figure 29. IntelliJ Running the App - Unit Tests Run Configuration</div>
</div>
<div class="paragraph">
<p>As a side-effect, this will create a run configuration, very similar to the one we manually created for the main app:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/110-running-the-app/040-running-unit-tests-run-configuration.png"><img src="_images/intellij-idea/110-running-the-app/040-running-unit-tests-run-configuration.png" alt="040 running unit tests run configuration" width="600px"></a>
</div>
<div class="title">Figure 30. IntelliJ Running the App - Unit Tests Run Configuration</div>
</div>
<div class="paragraph">
<p>Thereafter, you should run units by selecting this configuration (if you use the right click approach you&#8217;ll end up with lots of run configurations, all similar).</p>
</div>
</div>
<div class="sect4">
<h5 id="running-the-integration-tests"><a class="anchor" href="#running-the-integration-tests"></a>Running the Integration Tests</h5>
<div class="paragraph">
<p>Integration tests can be run in the same way as unit tests, however the <code>dom</code> module must also have been enhanced.</p>
</div>
<div class="paragraph">
<p>One approach is to initially run the tests use the right click on the <code>integtests</code> module; the tests will fail because the code won&#8217;t have been enhanced, but we can then go and update the run configuration to run the datanucleus enhancer goal (same as when running the application):</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/110-running-the-app/050-running-integration-tests-run-configuration.png"><img src="_images/intellij-idea/110-running-the-app/050-running-integration-tests-run-configuration.png" alt="050 running integration tests run configuration" width="600px"></a>
</div>
<div class="title">Figure 31. IntelliJ Running the App - Integration Tests Run Configuration</div>
</div>
<div class="paragraph">
<p>Also make sure that the <code>search for tests</code> radio button is set to <code>In single module</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/400-running-integtests/run-debug-configuration-single-module.png"><img src="_images/intellij-idea/400-running-integtests/run-debug-configuration-single-module.png" alt="run debug configuration single module" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>If this radio button is set to one of the other options then you may obtain class loading issues; these result from IntelliJ attempting to run unit tests of the <code>dom</code> project that depend on test classes in that module, but using the classpath of the <code>integtests</code> module whereby the <code>dom</code> test-classes (<code>test-jar</code> artifact) are not exposed on the Maven classpath.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="intellij-hints-and-tips"><a class="anchor" href="#intellij-hints-and-tips"></a>Hints and Tips</h4>
<div class="sect4">
<h5 id="keyboard-cheat-sheets"><a class="anchor" href="#keyboard-cheat-sheets"></a>Keyboard Cheat Sheets</h5>
<div class="paragraph">
<p>You can download 1-page PDFs cheat sheets for IntelliJ&#8217;s keyboard shortcuts:
* for <a href="https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard.pdf">Windows</a>
* for <a href="https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf">MacOS</a></p>
</div>
<div class="paragraph">
<p>Probably the most important shortcut on them is for <code>Find Action</code>:
- <code>ctrl-shift-A</code> on Windows
- <code>cmd-shift-A</code> on MacOS.</p>
</div>
<div class="paragraph">
<p>This will let you search for any action just by typing its name.</p>
</div>
</div>
<div class="sect4">
<h5 id="switch-between-tools-editors"><a class="anchor" href="#switch-between-tools-editors"></a>Switch between Tools &amp; Editors</h5>
<div class="paragraph">
<p>The Tool Windows are the views around the editor (to left, bottom and right).  It&#8217;s possible to move these around to your preferred locations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>alt-1</code> through <code>alt-9</code> (or <code>cmd-1</code> through <code>alt-9</code>) to select the tool windows</p>
<div class="ulist">
<ul>
<li>
<p>Press it twice and the tool window will hide itself; so can use to toggle</p>
</li>
</ul>
</div>
</li>
<li>
<p>If in the <em>Project Window</em> (say) and hit enter on a file, then it will be shown in the editor, but (conveniently) the focus remains in the tool window.  To switch to the editor, just press <code>Esc</code>.</p>
<div class="ulist">
<ul>
<li>
<p>If in the <em>Terminal Window</em>, you&#8217;ll need to press <code>Shift-Esc</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If on the editor and want to locate the file in (say) the <em>Project Window</em>, use <code>alt-F1</code>.</p>
</li>
<li>
<p>To change the size of any tool window, use <code>ctrl-shift-arrow</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using these shortcuts you can easily toggle between the tool windows and the editor, without using the mouse.  Peachy!</p>
</div>
</div>
<div class="sect4">
<h5 id="navigating-around"><a class="anchor" href="#navigating-around"></a>Navigating Around</h5>
<div class="paragraph">
<p>For all of the following, you don&#8217;t need to type every letter, typing "ab" will actually search for ".<strong>a.*b.</strong>".</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to open classes or files or methods that you know the name of:</p>
<div class="ulist">
<ul>
<li>
<p><code>ctrl-N</code> to open class</p>
</li>
<li>
<p><code>ctrl-shift-N</code> to open a file</p>
</li>
<li>
<p>(bit fiddly this) <code>ctrl-shift-alt-N</code> to search for any symbol.</p>
</li>
</ul>
</div>
</li>
<li>
<p>open up dialog of recent files: <code>ctrl-E</code></p>
</li>
<li>
<p>search for any file: <code>shift-shift</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Navigating around:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>find callers of a method (the call hierarchy): <code>ctrl-alt-H</code></p>
</li>
<li>
<p>find subclasses or overrides: <code>ctrl-alt-B</code></p>
</li>
<li>
<p>find superclasses/interface/declaration: <code>ctrl-B</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Viewing the structure (ie outline) of a class
* <code>ctrl-F12</code> will pop-up a dialog showing all members
** hit <code>ctrl-F12</code> again to also see inherited members</p>
</div>
</div>
<div class="sect4">
<h5 id="editing"><a class="anchor" href="#editing"></a>Editing</h5>
<div class="ulist">
<ul>
<li>
<p>Extend selection using <code>ctrl-W</code></p>
<div class="ulist">
<ul>
<li>
<p>and contract it down again using <code>ctrl-shift-W</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>to duplicate a line, it&#8217;s <code>ctrl-D</code></p>
<div class="ulist">
<ul>
<li>
<p>if you have some text selected (or even some lines), it&#8217;ll actually duplicate the entire selection</p>
</li>
</ul>
</div>
</li>
<li>
<p>to delete a line, it&#8217;s <code>ctrl-X</code></p>
</li>
<li>
<p>to move a line up or down: <code>shift-alt-up</code> and <code>shift-alt-down</code></p>
<div class="ulist">
<ul>
<li>
<p>if you have selected several lines, it&#8217;ll move them all togethe</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>ctrl-shift-J</code> can be handy for joining lines together</p>
<div class="ulist">
<ul>
<li>
<p>just hit enter to split them apart (even in string quotes; IntelliJ will "do the right thing")</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="intentions-and-code-completion"><a class="anchor" href="#intentions-and-code-completion"></a>Intentions and Code Completion</h5>
<div class="paragraph">
<p>Massively useful is the "Intentions" popup; IntelliJ tries to guess what you might want to do.  You can activate this using`alt-enter`, whenever you see a lightbulb/tooltip in the margin of the current line.</p>
</div>
<div class="paragraph">
<p>Code completion usually happens whenever you type '.'.  You can also use <code>ctrl-space</code> to bring these up.</p>
</div>
<div class="paragraph">
<p>In certain circumstances (eg in methods0) you can also type <code>ctrl-shift-space</code> to get a smart list of methods etc that you might want to call.  Can be useful.</p>
</div>
<div class="paragraph">
<p>Last, when invoking a method, use <code>ctrl-P</code> to see the parameter types.</p>
</div>
</div>
<div class="sect4">
<h5 id="refactoring"><a class="anchor" href="#refactoring"></a>Refactoring</h5>
<div class="paragraph">
<p>Loads of good stuff on the <code>Refactor</code> menu; most used are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rename (<code>shift-F6</code>)</p>
</li>
<li>
<p>Extract</p>
<div class="ulist">
<ul>
<li>
<p>method: <code>ctrl-alt-M</code></p>
</li>
<li>
<p>variable: <code>ctrl-alt-V</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Inline method/variable: <code>ctrl-alt-N</code></p>
</li>
<li>
<p>Change signature</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you can&#8217;t remember all those shortcuts, just use <code>ctrl-shift-alt-T</code> (might want to rebind that to something else!) and get a context-sensitive list of refactorings available for the currently selected object</p>
</div>
</div>
<div class="sect4">
<h5 id="plugins"><a class="anchor" href="#plugins"></a>Plugins</h5>
<div class="paragraph">
<p>You might want to set up some additional plugins.  You can do this using <code>File &gt; Settings &gt; Plugins</code> (or equivalently <code>File &gt; Other Settings &gt; Configure Plugins</code>).</p>
</div>
<div class="paragraph">
<p>Recommended are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://plugins.jetbrains.com/plugin/7179?pr=idea">Maven Helper</a> plugin</p>
<div class="paragraph">
<p>More on this below.</p>
</div>
</li>
<li>
<p><a href="https://github.com/asciidoctor/asciidoctor-intellij-plugin">AsciiDoctor</a> plugin</p>
<div class="paragraph">
<p>Useful if you are doing any authoring of documents.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some others you might like to explore are:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/050-some-plugins/020-some-plugins-confirmation.png"><img src="_images/intellij-idea/050-some-plugins/020-some-plugins-confirmation.png" alt="020 some plugins confirmation" width="600px"></a>
</div>
<div class="title">Figure 32. IntelliJ Plugins</div>
</div>
<div class="sect5">
<h6 id="maven-helper-plugin"><a class="anchor" href="#maven-helper-plugin"></a>Maven Helper Plugin</h6>
<div class="paragraph">
<p>This plugin provides a couple of great features.  One is better visualization of dependency trees (similar to Eclipse).</p>
</div>
<div class="paragraph">
<p>If you open a <code>pom.xml</code> file, you&#8217;ll see an additional "Dependencies" tab:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/050-some-plugins/maven-helper/010-dependency-tab.png"><img src="_images/intellij-idea/050-some-plugins/maven-helper/010-dependency-tab.png" alt="010 dependency tab" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>Clicking on this gives a graphical tree representation of the dependencies, similar to that obtained by <code>mvn dependency:tree</code>, but filterable.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/050-some-plugins/maven-helper/020-dependency-as-tree.png"><img src="_images/intellij-idea/050-some-plugins/maven-helper/020-dependency-as-tree.png" alt="020 dependency as tree" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>The plugin also provides the ability to easily run a Maven goal on a project:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/050-some-plugins/maven-helper/030-maven-run-goal.png"><img src="_images/intellij-idea/050-some-plugins/maven-helper/030-maven-run-goal.png" alt="030 maven run goal" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>This menu can also be bound to a keystroke so that it is available as a pop-up:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/050-some-plugins/maven-helper/040-maven-quick-run.png"><img src="_images/intellij-idea/050-some-plugins/maven-helper/040-maven-quick-run.png" alt="040 maven quick run" width="600px"></a>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="troubleshooting"><a class="anchor" href="#troubleshooting"></a>Troubleshooting</h5>
<div class="paragraph">
<p>When a Maven module is imported, IntelliJ generates its own project files (suffix <code>.ipr</code>), and the application is actually built from that.</p>
</div>
<div class="paragraph">
<p>Occasionally these don&#8217;t keep in sync (even if auto-import of Maven modules has been enabled).</p>
</div>
<div class="paragraph">
<p>To fix the issue, try:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>reimport module</p>
</li>
<li>
<p>rebuild selected modules/entire project</p>
</li>
<li>
<p>remove and then re-add the project</p>
</li>
<li>
<p>restart, invalidating caches</p>
</li>
<li>
<p>hit StackOverflow (!)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>One thing worth knowing; IntelliJ actively scans the filesystem all the time.  It&#8217;s therefore (almost always) fine to build the app from the Maven command line; IntelliJ will detect the changes and keep in sync.  If you want to force that, use <code>File &gt; Synchronize</code>, <code>ctrl-alt-Y</code>.</p>
</div>
<div class="paragraph">
<p>If you hit an error of "duplicate classes":</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/060-troubleshooting/010-duplicate-classes.png"><img src="_images/intellij-idea/060-troubleshooting/010-duplicate-classes.png" alt="010 duplicate classes" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>then make sure you have correctly configured the <a href="#other-settings-compiler">annotation processor</a>
settings.  Pay attention in particular to the "Production sources directory" and "Test sources directory", that these
are set up correctly.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="faster-turnaround-times"><a class="anchor" href="#faster-turnaround-times"></a>Faster turnaround times</h4>
<div class="paragraph">
<p>In this section are several options that will reduce the time it takes between making a source code edit and seeing the results in the running app. code/build/deploy/review feedback loop.</p>
</div>
<div class="sect4">
<h5 id="using-grade-to-compileenhance"><a class="anchor" href="#using-grade-to-compileenhance"></a>Using Grade to compile/enhance</h5>
<div class="paragraph">
<p>Running an Apache Isis application requires that the DataNucleus enhancer runs on the compiled bytecode.  As described <a href="#running_the-app">above</a>, the recommended way to do this with IntelliJ is to use a Run configuration that runs the enhancer goal prior to launch.</p>
</div>
<div class="paragraph">
<p>Alternative, you can use the following <code>build.gradle</code> script in your <code>dom</code> module:</p>
</div>
<div class="listingblock">
<div class="title"><code>build.gradle</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">apply plugin: 'java'
apply plugin: 'tangram.tools'
sourceCompatibility = 1.8
targetCompatibility = 1.8
version = (new XmlParser()).parse('pom.xml').parent.version.text()
buildscript {
  repositories {
    maven { url "http://oss.jfrog.org/artifactory/oss-snapshot-local" }
    jcenter()
  }
  dependencies {
    classpath 'tangram:gradle-plugin:1.1.2'
  }
}
repositories {
    mavenLocal()
    maven { url "http://oss.jfrog.org/artifactory/oss-snapshot-local" }
    jcenter()
}
dependencies {
    compile group: 'org.apache.isis.core', name: 'isis-core-applib', version: version
}
task copyClasses &lt;&lt; {
    copy {
        from 'build/classes/main'
        into 'target/classes'
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The script is intended to be in the background as a daemon while editing/developing; whenever a change is made to any
source code, gradle will automatically compile <em>and</em> enhance the code.  In this way it eliminates the need to start up
Maven and run the enhancer goal.</p>
</div>
<div class="paragraph">
<p>To use, you must disable the IntelliJ&#8217;s automatic building of the 'dom' project.  This is done using:
<code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Excludes</code>, and then exclude the <code>&#8230;&#8203;/dom/src/main/java</code>
directory:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/002-compiler-exclude.png"><img src="_images/intellij-idea/070-advanced/002-compiler-exclude.png" alt="002 compiler exclude" width="800px"></a>
</div>
</div>
<div class="paragraph">
<p>The script can be run in the background using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">gradle -t --offline &amp;</code></pre>
</div>
</div>
<div class="paragraph">
<p>from the command line (in the <code>dom</code> module).</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/004-gradle-output.png"><img src="_images/intellij-idea/070-advanced/004-gradle-output.png" alt="004 gradle output" width="600px"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="using-gradle-for-livereload"><a class="anchor" href="#using-gradle-for-livereload"></a>Using Gradle for liveReload</h5>
<div class="paragraph">
<p>Similarly, gradle can be run to reduce the turn-around time when tweaking the UI (defined by the
 <a href="../../vw/layout.html#file-based" class="page"><code>*.layout.xml</code></a> file for each domain class), when the app is running.</p>
</div>
<div class="paragraph">
<p>The framework will automatically notice any changes to <code>.layout.xml</code> files, but these are read from the classpath (the <code>target/classes</code> directory), not the source path.  With IntelliJ these can be copied over manually
by invoking <code>Run &gt; Reload Changed Classes</code>.  Once the browser is refreshed, the new layout will be rendered.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We&#8217;ve occasionally noticed that this interferes with Wicket&#8217;s own javascript - switching tabs becomes unresponsive.
The work-around is just to reload the page.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To reduce the turn-around time there are therefore two steps to be automated:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the copying of the <code>.layout.xml</code> files over to the <code>target/classes</code> directory</p>
</li>
<li>
<p>the triggering of a page refresh by the browser.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>layouts.gradle</code> script takes care of the first of these; whenever a change is made to any <code>.layout.xml</code> file, gradle
will automatically copy over the file to the <code>target/classes</code> directory:</p>
</div>
<div class="listingblock">
<div class="title"><code>layouts.gradle</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">defaultTasks 'copyLayouts'
task copyLayouts(type:Copy) {
    from 'src/main/java'
    into 'target/classes'
    include '**/*.layout.xml'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, the <code>liveReload.gradle</code> script takes care of the browser refresh:</p>
</div>
<div class="listingblock">
<div class="title"><code>liveReload.gradle</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">defaultTasks 'liveReload'
buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'org.kordamp.gradle:livereload-gradle-plugin:0.2.1'
    }
}
apply plugin: 'org.kordamp.gradle.livereload'
liveReload {
    docRoot new File('target/classes').canonicalPath
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>These scripts can be run together using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">gradle -t --offline -b layouts.gradle &amp;
gradle -t --offline -b liveReload.gradle &amp;</code></pre>
</div>
</div>
<div class="paragraph">
<p>from the command line (in the <code>dom</code> module):</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/005-gradle-output.png"><img src="_images/intellij-idea/070-advanced/005-gradle-output.png" alt="005 gradle output" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>Live reload also requires that the <code>isis.viewer.wicket.liveReloadUrl</code> configuration property is set appropriately:</p>
</div>
<div class="listingblock">
<div class="title"><code>viewer_wicket.properties</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-ini hljs" data-lang="ini">isis.viewer.wicket.liveReloadUrl=http://localhost:35729/livereload.js?snipver=1</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can confirm the script is loaded correctly using the web browser&#8217;s development tools, eg:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/006-livereload-js.png"><img src="_images/intellij-idea/070-advanced/006-livereload-js.png" alt="006 livereload js" width="800px"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="setting-up-dcevm"><a class="anchor" href="#setting-up-dcevm"></a>Setting up DCEVM</h5>
<div class="paragraph">
<p><a href="http://github.com/dcevm/dcevm">DCEVM</a> enhances the JVM with true hot-swap adding/removing of methods as well as more
reliable hot swapping of the implementation of existing methods.</p>
</div>
<div class="paragraph">
<p>In the context of Apache Isis, this is very useful for contributed actions and mixins and also view models; you should
then be able to write these actions and have them be picked up without restarting the application.</p>
</div>
<div class="paragraph">
<p>Changing persisting domain entities is more problematic, for two reasons: the JDO/DataNucleus enhancer needs to run on
domain entities, and also at runtime JDO/DataNucleus would need to rebuild its own metamodel.  You may find that adding
actions will work, but adding new properties or collections is much less likely to.</p>
</div>
<div class="paragraph">
<p>To set up DCEVM, download the appropriate JAR from the <a href="https://dcevm.github.io/">github page</a>, and run the
installer.  For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">java -jar DCEVM-light-8u51-installer.jar</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Be sure to run with appropriate privileges to be able to write to the installation directories of the JDK.  If running
on Windows, that means running as <code>Administrator</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After a few seconds this will display a dialog listing all installations of JDK that have been found:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/010-dcevm-list-of-found-jdk-installations.png"><img src="_images/intellij-idea/070-advanced/010-dcevm-list-of-found-jdk-installations.png" alt="010 dcevm list of found jdk installations" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>Select the corresponding installation, and select <code>Replace by DCEVM</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/020-dcevm-once-installed.png"><img src="_images/intellij-idea/070-advanced/020-dcevm-once-installed.png" alt="020 dcevm once installed" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>In IntelliJ, register the JDK in <code>File &gt; Project Structure</code> dialog:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/030-dcevm-intellij-project-structure.png"><img src="_images/intellij-idea/070-advanced/030-dcevm-intellij-project-structure.png" alt="030 dcevm intellij project structure" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>Finally, in the run configuration, select the patched JDK:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/intellij-idea/070-advanced/040-dcevm-run-configuration.png"><img src="_images/intellij-idea/070-advanced/040-dcevm-run-configuration.png" alt="040 dcevm run configuration" width="600px"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="setting-up-jrebel"><a class="anchor" href="#setting-up-jrebel"></a>Setting up JRebel</h5>
<div class="paragraph">
<p>See the repo for the (non-ASF) <a href="https://github.com/isisaddons/isis-jrebel-plugin">Isis JRebel</a> plugin.</p>
</div>
<div class="paragraph">
<p>Note that JRebel is a commercial product, requiring a license.  At the time of writing there is also currently a
non-commercial free license (though note this comes with some usage conditions).</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="eclipse"><a class="anchor" href="#eclipse"></a>Developing using Eclipse</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This material does not constitute an endorsement; Eclipse foundation is not affiliated to Apache Software Foundation in any way.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you are an <a href="http://www.eclipse.org">Eclipse</a> user, then we recommend you download the "Eclipse JEE package" configuration.</p>
</div>
<div class="paragraph">
<p>When running an Apache Isis application, it&#8217;s necessary to setup the development environment so that the Java bytecode can be enhanced by the <a href="http://www.datanucleus.org">DataNucleus</a> enhancer.
If working in Eclipse, then JDO enhancement is most easily done by installing the <a href="http://www.datanucleus.org/products/accessplatform/jpa/tools.html#eclipse">DataNucleus' Eclipse plugin</a>.
This hooks the bytecode enhancement of your domain objects into Eclipse&#8217;s normal incremental compilation.</p>
</div>
<div class="paragraph">
<p>This plugin needs to be configured for each of your domain modules (usually just one in any given app).</p>
</div>
<div class="sect3">
<h4 id="editor-templates"><a class="anchor" href="#editor-templates"></a>Editor Templates</h4>
<div class="paragraph">
<p>We provide a set of editor templates.  These are used to add new methods to existing classes.  (These are equivalent to the <a href="#live-templates">IntelliJ live templates</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>is</code> (Apache Isis domain objects).  <a href="./resources/eclipse/isis-templates.xml">Download</a></p>
</li>
<li>
<p><code>ju</code> (for JUnit tests) <a href="./resources/eclipse/junit4-templates.xml">Download</a></p>
</li>
<li>
<p><code>jm</code> (for JMock mocks or libraries) <a href="./resources/eclipse/jmock2-templates.xml">Download</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To install, download each XML file, then go to <code>Windows &gt; Preferences &gt; Java &gt; Editor &gt; Templates</code> and choose <code>Import</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="install-project-lombok"><a class="anchor" href="#install-project-lombok"></a>Install Project Lombok</h4>
<div class="paragraph">
<p>The <a href="https://github.com/apache/isis-app-simpleapp">SimpleApp archetype</a> uses <a href="http://projectlombok.org">Project Lombok</a> annotations (<code>@Getter</code> and <code>@Setter</code> and so on) to reduce the boilerplate.
For Eclipse IDE this requires an <a href="https://projectlombok.org/setup/eclipse">installation step</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Locate the <code>lombok.jar</code> jar file:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/2017-oxygen/010-lombok-locate-jar.png"><img src="_images/eclipse/2017-oxygen/010-lombok-locate-jar.png" alt="010 lombok locate jar" width="600px"></a>
</div>
</div>
</li>
<li>
<p>Run using <code>java -jar</code> (or double click on Windows):</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/2017-oxygen/020-lombok-install-into-eclipse.png"><img src="_images/eclipse/2017-oxygen/020-lombok-install-into-eclipse.png" alt="020 lombok install into eclipse" width="600px"></a>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then restart Eclipse.</p>
</div>
</div>
<div class="sect3">
<h4 id="install-the-datanucleus-plugin"><a class="anchor" href="#install-the-datanucleus-plugin"></a>Install the DataNucleus plugin</h4>
<div class="paragraph">
<p>The DataNucleus plugin hooks into the Eclipse compiler and will automatically enhance the compiled class files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use Help &gt; Install New Software:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/2017-oxygen/030-datanucleus-install-new-software.png"><img src="_images/eclipse/2017-oxygen/030-datanucleus-install-new-software.png" alt="030 datanucleus install new software" width="600px"></a>
</div>
</div>
</li>
<li>
<p>Specify the DataNucleus plugin repository:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/2017-oxygen/040-datanucleus-specify-repository.png"><img src="_images/eclipse/2017-oxygen/040-datanucleus-specify-repository.png" alt="040 datanucleus specify repository" width="400px"></a>
</div>
</div>
</li>
<li>
<p>Select the plugin</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/2017-oxygen/050-datanucleus-select-plugin.png"><img src="_images/eclipse/2017-oxygen/050-datanucleus-select-plugin.png" alt="050 datanucleus select plugin" width="600px"></a>
</div>
</div>
</li>
<li>
<p>Press Next and Finish to complete the installation of the plugin</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then restart Eclipse</p>
</div>
</div>
<div class="sect3">
<h4 id="importing-the-project"><a class="anchor" href="#importing-the-project"></a>Importing the Project</h4>
<div class="paragraph">
<p>Use File &gt; Import, then Maven &gt; Existing Maven Projects.</p>
</div>
<div class="paragraph">
<p>However, you will have some compile errors until you enable annotation processing, discussed below.</p>
</div>
<div class="sect4">
<h5 id="enable-annotation-processing"><a class="anchor" href="#enable-annotation-processing"></a>Enable Annotation Processing</h5>
<div class="paragraph">
<p>Both DataNucleus and Project Lombok use annotation processors that must be enabled in Eclipse.</p>
</div>
<div class="paragraph">
<p>For each project, open its <em>Properties</em> page and then <em>Java Compiler &gt; Annotation Processing</em> to specify the generated source directory of <code>target/generated-sources/annotations</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/2017-oxygen/060-enable-annotation-processor.png"><img src="_images/eclipse/2017-oxygen/060-enable-annotation-processor.png" alt="060 enable annotation processor" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>Eclipse should automatically add this directory as a source path; at this point all remaining compiler errors should disappear.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configure-datanucleus"><a class="anchor" href="#configure-datanucleus"></a>Configure DataNucleus</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure you are in the 'Java' Perspective, not the 'Java EE' Perspective.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In Eclipse, for the <em>domain object model</em> project(s), first add DataNucleus support:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-100-project-support.png"><img src="_images/eclipse/eclipse-100-project-support.png" alt="eclipse 100 project support" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>Then turn on Auto-Enhancement:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-110-project-support.png"><img src="_images/eclipse/eclipse-110-project-support.png" alt="eclipse 110 project support" width="600px"></a>
</div>
</div>
<div class="sect4">
<h5 id="update-the-classpath"><a class="anchor" href="#update-the-classpath"></a>Update the classpath</h5>
<div class="paragraph">
<p>DataNucleus' enhancer uses the domain object model&#8217;s own classpath to reference DataNucleus JARs.
So, even though your domain objects are unlikely to depend on DataNucleus, these references must still be present.</p>
</div>
<div class="paragraph">
<p>See the section in <a href="hints-and-tips/datanucleus-enhancer.html" class="page">DataNucleus enhancer</a> for details of the contents of the <code>pom.xml</code>.
Chances are it is already set up from running the <a href="https://github.com/apache/isis-app-helloworld">HelloWorld</a> or the <a href="https://github.com/apache/isis-app-simpleapp">SimpleApp</a> archetype.</p>
</div>
<div class="paragraph">
<p>Then, tell DataNucleus to use the project classpath:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-010-windows-preferences.png"><img src="_images/eclipse/eclipse-010-windows-preferences.png" alt="eclipse 010 windows preferences" width="750px"></a>
</div>
</div>
<div class="paragraph">
<p>When the enhancer runs, it will print out to the console:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-120-console.png"><img src="_images/eclipse/eclipse-120-console.png" alt="eclipse 120 console" width="500px"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="workaround-for-path-limits-the-dn-plugin-to-use-the-persistence-xml"><a class="anchor" href="#workaround-for-path-limits-the-dn-plugin-to-use-the-persistence-xml"></a>Workaround for path limits (the DN plugin to use the persistence.xml)</h5>
<div class="paragraph">
<p>If running on Windows then the DataNucleus plugin is very likely to hit the Windows path limit.</p>
</div>
<div class="paragraph">
<p>To fix this, we configure the enhancer to read from the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p>As a prerequisite, first make sure that your domain object model has a <code>persistence.xml</code> file.  Then specify the <code>persistence-unit</code> in the project properties:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-025-project-properties.png"><img src="_images/eclipse/eclipse-025-project-properties.png" alt="eclipse 025 project properties" width="750px"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="workaround-if-the-enhancer-fails"><a class="anchor" href="#workaround-if-the-enhancer-fails"></a>Workaround: If the enhancer fails</h5>
<div class="paragraph">
<p>On occasion it appears that Eclipse can attempt to run two instances of the DataNucleus enhancer. This is probably due to multiple Eclipse builders being defined; we&#8217;ve noticed multiple entries in the Eclipse&#8217;s <code>Debug</code> view:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-210-enhancer-fails-duplicates.png"><img src="_images/eclipse/eclipse-210-enhancer-fails-duplicates.png" alt="eclipse 210 enhancer fails duplicates" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>At any rate, you&#8217;ll know you&#8217;ve encountered this error if you see the following in the console:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-200-enhancer-fails-duplicates.png"><img src="_images/eclipse/eclipse-200-enhancer-fails-duplicates.png" alt="eclipse 200 enhancer fails duplicates" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>The best solution is to remove DataNucleus support and then to re-add it:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/eclipse/eclipse-220-enhancer-fails-duplicates.png"><img src="_images/eclipse/eclipse-220-enhancer-fails-duplicates.png" alt="eclipse 220 enhancer fails duplicates" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>If you consistently hit problems, then the final recourse is to disable the automatic enhancement and to remember to manually enhance your domain object model before each run.</p>
</div>
<div class="paragraph">
<p>Not ideal, we know. Please feel free to contribute a better solution :-)</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="running-the-app-2"><a class="anchor" href="#running-the-app-2"></a>Running the App</h4>
<div class="paragraph">
<p>The simpleapp archetype automatically provides a <code>.launch</code> configurations in the <code>webapp</code> module. You can therefore very simply run the application by right-clicking on one of these files, and choosing "Run As…" or "Debug As…".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The screencast above shows this in action.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="other-domain-projects"><a class="anchor" href="#other-domain-projects"></a>Other domain projects.</h4>
<div class="paragraph">
<p>There is nothing to prevent you having multiple domain projects.
You might want to do such that each domain project corresponds to a <a href="http://www.methodsandtools.com/archive/archive.php?id=97p2">DDD module</a>, thus guaranteeing that there are no cyclic dependencies between your modules.</p>
</div>
<div class="paragraph">
<p>If you do this, make sure that each project has its own <code>persistence.xml</code> file.
And, remember also to configure Eclipse&#8217;s DataNucleus plugin for these other domain projects.</p>
</div>
</div>
<div class="sect3">
<h4 id="advanced"><a class="anchor" href="#advanced"></a>Advanced</h4>
<div class="paragraph">
<p>In this section are a couple of options that will reduce the length of the change code/build/deploy/review feedback loop.</p>
</div>
<div class="sect4">
<h5 id="setting-up-dcevm-2"><a class="anchor" href="#setting-up-dcevm-2"></a>Setting up DCEVM</h5>
<div class="paragraph">
<p><a href="http://github.com/dcevm/dcevm">DCEVM</a> enhances the JVM with true hot-swap adding/removing of methods as well as more
reliable hot swapping of the implementation of existing methods.</p>
</div>
<div class="paragraph">
<p>In the context of Apache Isis, this is very useful for contributed actions and mixins and also view models; you should
then be able to write these actions and have them be picked up without restarting the application.</p>
</div>
<div class="paragraph">
<p>Changing persisting domain entities is more problematic, for two reasons: the JDO/DataNucleus enhancer needs to run on
domain entities, and also at runtime JDO/DataNucleus would need to rebuild its own metamodel.  You may find that adding
actions will work, but adding new properties or collections is much less likely to.</p>
</div>
<div class="paragraph">
<p>For details of setting up DCEVM, see the <a href="#advanced_dcevm">corresponding section</a> in the IntelliJ documentation.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hints-and-tips"><a class="anchor" href="#hints-and-tips"></a>Hints and Tips</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides some solutions for problems we&#8217;ve encountered ourselves or have been raised on the Apache Isis mailing lists.</p>
</div>
<div class="sect2">
<h3 id="datanucleus-enhancer"><a class="anchor" href="#datanucleus-enhancer"></a>Datanucleus Enhancer</h3>
<div class="paragraph">
<p><a href="http://www.datanucleus.org/">DataNucleus</a> is the reference implementation of the JDO (Java data objects) spec, and Apache Isis integrates with DataNucleus as its persistence layer.
Datanucleus is a very powerful library, allowing domain entities to be mapped not only to relational database tables, but also to NoSQL stores such as <a href="http://neo4j.com/">Neo4J</a>, <a href="http://www.mongodb.org/">MongoDB</a> and <a href="http://cassandra.apache.org/">Apache Cassandra</a>.</p>
</div>
<div class="paragraph">
<p>With such power comes a little bit of complexity to the development environment: all domain entities must be enhanced through the DataNucleus enhancer.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Bytecode enhancement is actually a requirement of the JDO spec; the process is described in outline <a href="http://db.apache.org/jdo/enhancement.html">here</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>What this means is that the enhancer&#8201;&#8212;&#8201;available as both a Maven plugin and as an Eclipse plugin&#8201;&#8212;&#8201;must, one way or another, be integrated into your development environment.</p>
</div>
<div class="paragraph">
<p>If working from the Maven command line, JDO enhancement is done using the <code>datanucleus-maven-plugin</code>.</p>
</div>
<div class="paragraph">
<p>Both the <a href="https://github.com/apache/isis-app-helloworld">HelloWorld</a> and <a href="https://github.com/apache/isis-app-simpleapp">SimpleApp</a> Maven archetypes generate applications that have this plugin pre-configured.</p>
</div>
<div class="sect3">
<h4 id="meta-infpersistence-xml"><a class="anchor" href="#meta-infpersistence-xml"></a>META-INF/persistence.xml</h4>
<div class="paragraph">
<p>It&#8217;s also a good idea to ensure that every domain module(s) containing entities has a JDO <code>META-INF/persistence.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd" version="1.0"&gt;

    &lt;persistence-unit name="simple"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>change as required; typically is the name of the domain module.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Again, the applications generated by both the <a href="https://github.com/apache/isis-app-helloworld">HelloWorld</a> and <a href="https://github.com/apache/isis-app-simpleapp">Simpleapp</a> Maven archetypes do this.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If running on Windows, then there&#8217;s a good chance you&#8217;ll hit the <a href="http://msdn.microsoft.com/en-us/library/aa365247%28VS.85%29.aspx#maxpath">maximum path length limit</a>.
In this case the <code>persistence.xml</code> file is mandatory rather than optional.</p>
</div>
<div class="paragraph">
<p>This file is also required if you are using developing in Eclipse and relying on the DataNucleus plugin for Eclipse rather than the DataNucleus plugin for Maven.
More information can be found <a href="#eclipse">here</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enabling-logging"><a class="anchor" href="#enabling-logging"></a>Enabling Logging</h3>
<div class="paragraph">
<p>Sometimes you just need to see what is going on.
There are various ways in which logging can be enabled, here are the ones we tend to use.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In Apache Isis<br></p>
<div class="paragraph">
<p>Modify <code>WEB-INF/logging.properties</code> (a log4j config file)</p>
</div>
</li>
<li>
<p>In DataNucleus<br></p>
<div class="paragraph">
<p>As per the <a href="http://www.datanucleus.org/products/accessplatform/logging.html">DN logging page</a></p>
</div>
</li>
<li>
<p>In the JDBC Driver<br></p>
<div class="paragraph">
<p>Configure <code>log4jdbc</code> JDBC rather than the vanilla driver (see <code>WEB-INF/persistor_datanucleus.properties</code>) and configure log4j logging (see <code>WEB-INF/logging.properties</code>).
There are examples of both in the <a href="https://github.com/apache/isis-app-simpleapp">SimpleApp archetype</a>.</p>
</div>
</li>
<li>
<p>In the database<br></p>
<div class="paragraph">
<p>Details below.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Database logging can be configured:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for HSQLDB<br></p>
<div class="paragraph">
<p>by adding`;sqllog=3` to the end of the JDBC URL.</p>
</div>
</li>
<li>
<p>for PostgreSQL:<br></p>
<div class="paragraph">
<p>Can change <code>postgresql\9.2\data\postgresql.conf</code>; see <a href="http://www.postgresql.org/docs/9.2/static/runtime-config-logging.html">this article</a> for details.</p>
</div>
</li>
<li>
<p>for MS SQL Server Logging:<br></p>
<div class="paragraph">
<p>We like to use the excellent SQL Profiler tool.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhance-only"><a class="anchor" href="#enhance-only"></a>Enhance only (IntelliJ)</h3>
<div class="paragraph">
<p>From the Apache Isis mailing list is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Is there a simple way to make a run configuration in IntelliJ for running the datanucleus enhancer before running integration test?</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Yes, you can; here&#8217;s one way:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Duplicate your run configuration for running the webapp</p>
<div class="ulist">
<ul>
<li>
<p>the one where the main class is <code>org.apache.isis.WebServer</code></p>
</li>
<li>
<p>there&#8217;s a button for this on the run configurations dialog.</p>
</li>
</ul>
</div>
</li>
<li>
<p>then, on your copy change the main class to <code>org.apache.isis.Dummy</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Or, you could just write a small shell script and run from the command line:</p>
</div>
<div class="listingblock">
<div class="title">enhance.sh</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn -pl dom datanucleus:enhance -o</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="how-run-fixtures-on-app-startup"><a class="anchor" href="#how-run-fixtures-on-app-startup"></a>How run fixtures on startup?</h3>
<div class="paragraph">
<p>From this <a href="http://isis.markmail.org/thread/g6amfj2eyf2xfjbr">thread</a> on the Apache Isis users mailing list:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>my fixtures have grown into a couple of files the application needs to read in when it starts the first time (and possibly later on when the files content change).
What is the right way to do this?
Hook up into the webapp start?
Use events?</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The standard approach is to use <a href="#fixtures:ROOT:about.adoc" class="page unresolved">fixture scripts</a>.
These can be run in on start-up typically by being specified in the <a href="../../refguide/applib-cm/classes/AppManifest-bootstrapping.html" class="page"><code>AppManifest</code></a>, see for example the <a href="https://github.com/apache/isis-app-simpleapp">SimpleApp archetype</a>.</p>
</div>
<div class="paragraph">
<p>Alternatively just set <code>isis.fixtures</code> and <code>isis.persistor.datanucleus.install-fixtures</code> properties.</p>
</div>
<div class="paragraph">
<p>In terms of implementations, you might also want to check out the (non-ASF) <a href="https://platform.incode.org" target="_blank" rel="noopener">Incode Platform</a>'s excel module, by using <code>ExcelFixture</code> and overriding <code>ExcelFixtureRowHandler</code>.</p>
</div>
<div class="paragraph">
<p>An example can be found in this (non ASF) <a href="https://github.com/incodehq/contactapp">contactapp</a>, see <a href="https://github.com/incodehq/contactapp/blob/master/backend/fixture/src/main/java/org/incode/eurocommercial/contactapp/fixture/scenarios/demo/ContactImport.java"><code>ContactRowHandler</code></a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-apache-isis"><a class="anchor" href="#building-apache-isis"></a>Building Apache Isis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="git"><a class="anchor" href="#git"></a>Git</h3>
<div class="paragraph">
<p>The Apache Isis source code lives in a git repo.</p>
</div>
<div class="sect3">
<h4 id="installation"><a class="anchor" href="#installation"></a>Installation</h4>
<div class="paragraph">
<p>The easiest place to get hold of command-line git is probably the <a href="http://git-scm.com/downloads">github download page</a>.</p>
</div>
<div class="paragraph">
<p>On Windows, this also installs the rather good mSysGit Unix shell. We recommend that you enable git for both the mSysgit and the Windows command prompt:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/building-apache-isis/setting-up-git.png"><img src="_images/building-apache-isis/setting-up-git.png" alt="setting up git" width="350px"></a>
</div>
</div>
<div class="paragraph">
<p>Once git is installed, the two main command line tools to note are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>git</code> command line tool</p>
</li>
<li>
<p><code>gitk</code> for viewing the commit history</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If using Windows, note that github also have a dedicated <a href="https://help.github.com/articles/set-up-git">Windows client</a>. With a little <a href="http://haacked.com/archive/2012/05/30/using-github-for-windows-with-non-github-repositories.aspx">hacking around</a>, it can also be made to work with non-github repositories.</p>
</div>
<div class="paragraph">
<p>If using Mac, you might also want to check out Atlassian&#8217;s <a href="http://www.atlassian.com/software/sourcetree/overview">Sourcetree</a>.</p>
</div>
<div class="sect4">
<h5 id="cloning-the-apache-isis-repo"><a class="anchor" href="#cloning-the-apache-isis-repo"></a>Cloning the Apache Isis repo</h5>
<div class="paragraph">
<p>First, clone the Apache Isis repo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/apache/isis.git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="configuring-git"><a class="anchor" href="#configuring-git"></a>Configuring Git</h5>
<div class="paragraph">
<p>Next up is to configure your user name and password:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git config user.name "&lt;i&gt;My Name Here&lt;/i&gt;"
git config user.email &lt;i&gt;myusername@apache.org&lt;/i&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, configure the <code>core.autocrlf</code> so that line endings are normalized to LF (Unix style) in the rep; again see <a href="https://git-wip-us.apache.org/">Apache&#8217;s git</a> page:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>on Windows, use:<br></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git config core.autocrlf true</code></pre>
</div>
</div>
</li>
<li>
<p>on Mac/Linux, use:<br></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git config core.autocrlf input</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Windows setting means that files are converted back to CRLF on checkout; the Mac/Linux setting means that the file is left as LF on checkout.</p>
</div>
<div class="paragraph">
<p>We also recommend setting <code>core.safecrlf</code>, which aims to ensure that any line ending conversion is repeatable. Do this on all platforms:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git config core.safecrlf true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that these settings are supplemented in the repo by the <code>.gitattributes</code> file and that explicitly specifies line handling treatment for most of the common file types that we have.</p>
</div>
<div class="paragraph">
<p>Next, we recommend you setup this a refspec so that you can distinguish remote tags from local ones. To do that, locate the <code>[remote &quot;origin&quot;]</code> section in your <code>.git/config</code> and add the third entry shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">[remote "origin"]
    url = ... whatever ...
    fetch = ... whatever ...
    fetch = +refs/tags/*:refs/tags/origin/*</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will ensure that a <code>git fetch</code> or <code>git pull</code> places any remote tags under <code>origin/xxx.  For example, the`isis-1.0.0`tag on the origin will appear under`origin/isis-1.0.0</code>.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t use git outside of Apache, you can add the <code>--global</code> flag so that the above settings apply for all repos managed by git on your PC.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting-help"><a class="anchor" href="#getting-help"></a>Getting help</h4>
<div class="paragraph">
<p>Three commands of git that in particular worth knowing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>git help <em>command</em></code><br></p>
<div class="paragraph">
<p>will open the man page in your web browser</p>
</div>
</li>
<li>
<p><code>git gui</code><br></p>
<div class="paragraph">
<p>will open up a basic GUI client to staging changes and making commits.</p>
</div>
</li>
<li>
<p><code>gitk --all</code><br></p>
<div class="paragraph">
<p>will open the commit history for all branches. In particular, you should be able to see the local <code>master</code>, which branch you are working on (the <code>HEAD</code>), and also the last known position of the <code>master</code> branch from the central repo, called <code>origin/master</code>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You might also want to explore using a freely available equivalent such as <a href="https://www.sourcetreeapp.com/">Atlassian SourceTree</a>.</p>
</div>
<div class="paragraph">
<p>For further reading, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.kernel.org/pub/software/scm/git/docs/git-config.html">git config man page</a></p>
</li>
<li>
<p><a href="http://www.kernel.org/pub/software/scm/git/docs/gitattributes.html">.gitattributes man page</a></p>
</li>
<li>
<p><a href="http://git-scm.com/docs/gitattributes">.gitattributes git-scm.com docs</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installing-java"><a class="anchor" href="#installing-java"></a>Installing Java</h3>
<div class="paragraph">
<p>Apache Isis is compatible with Java 7 and Java 8.  For every-day use, the framework is usually compiled against Java 8.</p>
</div>
<div class="paragraph">
<p>Releases however are <a href="../comguide/about.html#cutting-a-release" class="page">cut</a> using Java 7, leveraging the <a href="http://maven.apache.org/plugins/maven-toolchains-plugin/">Maven toolchains plugin</a>).</p>
</div>
<div class="paragraph">
<p>Therefore install either/both of Java 7 JDK and Java 8 JDK.  Note that the JRE is <em>not</em> sufficient.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you intend to contribute back patches to Apache Isis, note that while you can develop using Java 8 within your IDE,
be sure not to use any Java 8 APIs.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="configure-maven-toolchains-plugin"><a class="anchor" href="#configure-maven-toolchains-plugin"></a>Configure Maven toolchains plugin</h4>
<div class="paragraph">
<p>If you are a committer that will be performing releases of Apache Isis, then you <em>must</em> configure the
<a href="http://maven.apache.org/plugins/maven-toolchains-plugin/">toolchains</a> plugin so that releases can be built using
Java 7.</p>
</div>
<div class="paragraph">
<p>This is done by placing the <code>toolchains.xml</code> file in <code>~/.m2</code> directory.  Use the following file as a template,
adjusting paths for your platform:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF8"?&gt;
&lt;toolchains&gt;
    &lt;toolchain&gt;
        &lt;type&gt;jdk&lt;/type&gt;
        &lt;provides&gt;
            &lt;version&gt;1.8&lt;/version&gt;
            &lt;vendor&gt;oracle&lt;/vendor&gt;
        &lt;/provides&gt;
        &lt;configuration&gt;
            &lt;jdkHome&gt;/usr/lib64/jvm/jdk1.8.0_65&lt;/jdkHome&gt;
            &lt;!--
            &lt;jdkHome&gt;c:\Program Files\Java\jdk1.8.0_65&lt;/jdkHome&gt;
            --&gt;
        &lt;/configuration&gt;
    &lt;/toolchain&gt;
    &lt;toolchain&gt;
        &lt;type&gt;jdk&lt;/type&gt;
        &lt;provides&gt;
            &lt;version&gt;1.7&lt;/version&gt;   <i class="conum" data-value="1"></i><b>(1)</b>
            &lt;vendor&gt;oracle&lt;/vendor&gt;
        &lt;/provides&gt;
        &lt;configuration&gt;
            &lt;jdkHome&gt;/usr/lib64/jvm/jdk1.7.0_79&lt;/jdkHome&gt;
            &lt;!--
            &lt;jdkHome&gt;c:\Program Files\Java\jdk1.7.0_79&lt;/jdkHome&gt;
            --&gt;
        &lt;/configuration&gt;
    &lt;/toolchain&gt;
&lt;/toolchains&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The Apache Isis build is configured to search for the (<code>1.7, oracle</code>) JDK toolchain.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Apache Isis parent <code>pom.xml</code> activates this plugin whenever the <code>apache-release</code> profile is enabled.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installing-maven"><a class="anchor" href="#installing-maven"></a>Installing Maven</h3>
<div class="paragraph">
<p>Install Maven 3.0.x, downloadable <a href="http://maven.apache.org/download.html">here</a>.</p>
</div>
<div class="paragraph">
<p>Set <code>MAVEN_OPTS</code> environment variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export MAVEN_OPTS="-Xms512m -Xmx1024m"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="building-all-of-apache-isis"><a class="anchor" href="#building-all-of-apache-isis"></a>Building all of Apache Isis</h3>
<div class="paragraph">
<p>To build the source code from the command line, simply go to the root directory and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first time you do this, you&#8217;ll find it takes a while since Maven needs to download all of the Apache Isis prerequisites.</p>
</div>
<div class="paragraph">
<p>Thereafter you can speed up the build by adding the <code>-o</code> (offline flag).  To save more time still, we also recommend that you build in parallel.  (Per this <a href="http://zeroturnaround.com/rebellabs/your-maven-build-is-slow-speed-it-up/">blog post</a>), you could also experiment with a number of JDK parameters that we&#8217;ve found also speed up Maven:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export MAVEN_OPTS="-Xms512m -Xmx1024m -XX:+TieredCompilation -XX:TieredStopAtLevel=1"
mvn clean install -o -T1C</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the most part, though, you may want to rely on an IDE such as Eclipse to build the codebase for you. Both Eclipse and Idea (12.0+) support incremental background compilation.</p>
</div>
<div class="paragraph">
<p>When using Eclipse, a Maven profile is configured such that Eclipse compiles to <code>target-ide</code> directory rather than the usual <code>target</code> directory. You can therefore switch between Eclipse and Maven command line without one interfering with the other.</p>
</div>
</div>
<div class="sect2">
<h3 id="checking-for-vulnerabilities"><a class="anchor" href="#checking-for-vulnerabilities"></a>Checking for Vulnerabilities</h3>
<div class="paragraph">
<p>Apache Isis configures the <a href="https://www.owasp.org/index.php/Main_Page">OWASP</a> <a href="https://www.owasp.org/index.php/OWASP_Dependency_Check">dependency check</a> <a href="http://jeremylong.github.io/DependencyCheck/dependency-check-maven/index.html">Maven plugin</a> to determine whether the framework uses libraries that are known to have security vulnerabilities.</p>
</div>
<div class="paragraph">
<p>To check, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn org.owasp:dependency-check-maven:aggregate -Dowasp</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate a single report under <code>target/dependency-check-report.html</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The first time this runs can take 10~20 minutes to download the NVD data feeds.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To disable, either run in offline mode (add <code>-o</code> or <code>--offline</code>) or omit the <code>owasp</code> property.</p>
</div>
</div>
<div class="sect2">
<h3 id="checking-for-use-of-internal-jdk-apis"><a class="anchor" href="#checking-for-use-of-internal-jdk-apis"></a>Checking for use of internal JDK APIs</h3>
<div class="paragraph">
<p>Apache Isis configures the <a href="https://maven.apache.org/plugins-archives/maven-jdeps-plugin-3.0.0/">jdeps maven plugin</a> to check for any usage of internal JDK APIs.  This is in preparation for Java 9 module system (Jigsaw) which will prevent such usage of APIs.</p>
</div>
<div class="paragraph">
<p>To check, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install -Djdeps</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will fail the build on any module that currently uses an internal JDK API.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>At the time of writing the <code>isis-core-schema</code> module fails the build.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-docs-and-website"><a class="anchor" href="#building-docs-and-website"></a>Building Docs and Website</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="contributing"><a class="anchor" href="#contributing"></a>Contributing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This page explains how you can contribute to Apache Isis. You&#8217;ll probably also want <a href="ide.html" class="page">set up your IDE</a> and learn <a href="building-apache-isis.html" class="page">how to build Apache Isis</a>.</p>
</div>
<div class="paragraph">
<p>Thanks for considering to help out, your contributions are appreciated!</p>
</div>
<div class="sect2">
<h3 id="recommended-workflow-github"><a class="anchor" href="#recommended-workflow-github"></a>Recommended Workflow (github)</h3>
<div class="paragraph">
<p>Apache Isis' source code is hosted in at github (<a href="https://github.com/apache/isis.git">https</a>, or ssh: <code>git@github.com:apache/isis.git</code>).</p>
</div>
<div class="paragraph">
<p>As you might imagine, only committers are permitted to push changes to the github repo.
As a contributor, we recommend that you fork the <a href="https://github.com/apache/isis.git">apache/isis</a> github repo, and then use your fork as a way of publishing your patches for the Apache Isis committers to apply.</p>
</div>
<div class="paragraph">
<p>The diagram below illustrates the process:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/contributing/git-workflow.png"><img src="_images/contributing/git-workflow.png" alt="git workflow" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>That is:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>as a one-time activity, you fork the <a href="https://github.com/apache/isis.git">github.com/apache/isis</a> repo into your own fork on github.com</p>
</li>
<li>
<p>as a one-time activity, you clone your fork to your local computer</p>
</li>
<li>
<p>you set the <a href="https://github.com/apache/isis.git">github.com/apache/isis</a> as your upstream branch; this will allow you to keep your local clone up-to-date with new commits</p>
<div class="ulist">
<ul>
<li>
<p>note the asymmetry here: the <code>upstream</code> repo (the Apache github repo) is <strong>not</strong> the same as the <code>origin</code> repo (your fork).</p>
</li>
</ul>
</div>
</li>
<li>
<p>you work on your changes locally; when done, you push them to your github fork</p>
</li>
<li>
<p>to contribute back a change, raise a <a href="https://issues.apache.org/jira/browse/ISIS">JIRA</a> ticket, and ensure your commit message is in the form: <code>ISIS-nnnn: &#8230;&#8203;</code> so that changes can be tracked (more discussion on this point below). In any case, before you decide to start hacking with Apache Isis, it&#8217;s always worth creating a ticket in JIRA and then have a discussion about it on the <a href="#toc:ROOT:support.adoc" class="page unresolved">mailing lists</a>.</p>
</li>
<li>
<p>Use github to raise a <a href="https://help.github.com/articles/using-pull-requests/">pull request</a> for your feature</p>
</li>
<li>
<p>An Apache Isis committer will review your change, and apply it if suitable.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-your-forkclone"><a class="anchor" href="#setting-up-your-forkclone"></a>Setting up your fork/clone</h3>
<div class="paragraph">
<p>If you choose to create your own fork then you&#8217;ll need an account on <a href="https://github.com">github.com</a>. You then fork simply by pressing the "Fork" button:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/contributing/github-forking.png"><img src="_images/contributing/github-forking.png" alt="github forking" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>An account isn&#8217;t needed if you just clone straight from the <a href="http://github.com/apache/isis">github.com/apache/isis</a>.</p>
</div>
<div class="paragraph">
<p>Whether you&#8217;ve forked or not, you then need to clone the repo onto your computer. Github makes this very easy to do:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for Windows users, we suggest you use github&#8217;s 'Clone in Windows' feature</p>
</li>
<li>
<p>for Mac/Linux users, create a clone from the command line:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Again, the info is easily found in the github page:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/contributing/github-cloning.png"><img src="_images/contributing/github-cloning.png" alt="github cloning" width="600px"></a>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;ve created your own fork, then you need to add the <code>upstream</code> remote to the <a href="https://github.com/apache/isis">github.com/apache/isis</a>. This remote is traditionally called <code>upstream</code>. You should then arrange for your <code>master</code> branch to track the <code>upstream/master</code> remote branch:</p>
</div>
<div class="paragraph">
<p>If you didn&#8217;t create your own fork, you can omit the above step. Either way around, you can now fetch new commits using simply:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git fetch</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info on tracking branches <a href="http://git-scm.com/book/en/Git-Branching-Remote-Branches">here</a> and <a href="http://gitready.com/beginner/2009/03/09/remote-tracking-branches.html">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="commit-messages"><a class="anchor" href="#commit-messages"></a>Commit messages</h3>
<div class="paragraph">
<p>Although with git your commits are always performed on your local repo, those commit messages become public when the patch is applied by an Apache Isis committer. You should take time to write a meaningful commit message that helps explain what the patch refers to; if you don&#8217;t then there&#8217;s a chance that your patch may be rejected and not applied. No-one likes hard work to go to waste!</p>
</div>
<div class="paragraph">
<p>We therefore recommend that your commit messages are as follows:<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-other hljs" data-lang="other">ISIS-999: Make the example in CONTRIBUTING imperative and concrete

Without this patch applied the example commit message in the CONTRIBUTING
document is not a concrete example.  This is a problem because the
contributor is left to imagine what the commit message should look like
based on a description rather than an example.  This patch fixes the
problem by making the example concrete and imperative.

The first line is a real life imperative statement with a ticket number
from our issue tracker.  The body describes the behavior without the patch,
why this is a problem, and how the patch fixes the problem when applied.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-the-patch-file"><a class="anchor" href="#creating-the-patch-file"></a>Creating the patch file</h3>
<div class="paragraph">
<p>If you are working without a github fork of Apache Isis, then you can create the patches from your own local git repository.</p>
</div>
<div class="paragraph">
<p>As per <a href="http://stackoverflow.com/questions/6658313/generate-a-git-patch-for-a-specific-commit">this stackoverflow question</a>, create the patch using <code>git format-patch</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git format-patch -10 HEAD --stdout &gt; 0001-last-10-commits.patch</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here <code>-10</code> is the last 10 commits you have done. You need to change that integer according to the commits you need to apply into the patch.</p>
</div>
</div>
<div class="sect2">
<h3 id="sample-contribution-workflow"><a class="anchor" href="#sample-contribution-workflow"></a>Sample Contribution Workflow</h3>
<div class="paragraph">
<p>Assuming you&#8217;re development environment is all setup, let&#8217;s walk through how you might make contribute a patch. In this example, suppose that you&#8217;ve decided to work on JIRA ticket #123, an enhancement to support Blob/Clob datatypes.</p>
</div>
<div class="sect3">
<h4 id="update-your-master-branch"><a class="anchor" href="#update-your-master-branch"></a>Update your master branch</h4>
<div class="paragraph">
<p>The first thing to do is to make sure your local clone is up-to-date. We do this by retrieving new commits from upstream repo and then merging them as a fast-forward into your local branch.</p>
</div>
<div class="paragraph">
<p>Irrespective of whether you are using a github fork, the upstream for your local <code>master</code> branch will be tracking the appropriate remote&#8217;s <code>master</code> branch. So n either case, the same commands work:</p>
</div>
<div class="paragraph">
<p>Alternatively, you can combine the <code>git fetch</code> and <code>git merge</code> and just use <code>git pull</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git checkout master
git pull --ff-only</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>merge</code> or <code>pull</code> fails, it means that you must have made commits and there have been changes meanwhile on the remote <code>master&#8217;s branch. You can use `gitk --all</code> to confirm. If this fails, see our <a href="#_dg_git-cookbook.adoc" class="page unresolved">git cookbook</a> page for a procedure to retrospectively sort out this situation.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-a-topic-branch"><a class="anchor" href="#create-a-topic-branch"></a>Create a topic branch</h4>
<div class="paragraph">
<p>We recommend you name topic branches by the JIRA ticket, ie &lt;tt&gt;ISIS-nnn-description&lt;/tt&gt;. So let&#8217;s create a new branch based off <code>master</code> and call it "ISIS-123-blobs"</p>
</div>
<div class="paragraph">
<p>You can confirm the branch is there and is your new <code>HEAD</code> using either <code>gitk --all</code>. Alternatively, use the command line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ git checkout -b ISIS-123-blobs</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command line prompt should also indicate you are on a branch, isolated from any changes that might happen on the <code>master</code> branch.</p>
</div>
</div>
<div class="sect3">
<h4 id="make-file-changes-and-commit"><a class="anchor" href="#make-file-changes-and-commit"></a>Make File Changes and Commit</h4>
<div class="paragraph">
<p>Next, make changes to your files using the usual commands (see also our <a href="git-cookbook.html" class="page">git cookbook</a> section):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>git add</code></p>
</li>
<li>
<p><code>git mv</code></p>
</li>
<li>
<p><code>git rm</code></p>
</li>
<li>
<p><code>git commit</code></p>
</li>
<li>
<p><code>git status</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and so on.</p>
</div>
<div class="paragraph">
<p>Continue this way until happy with the change. Remember to run all your tests on the topic branch (including a full <code>mvn clean install</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="rebasing-with-master"><a class="anchor" href="#rebasing-with-master"></a>Rebasing with <code>master</code></h4>
<div class="paragraph">
<p>Before you can share your change, you should rebase (in other words replay) your changes on top of the <code>master</code> branch.</p>
</div>
<div class="paragraph">
<p>The first thing to do is to pull down any changes made in upstream remote&#8217;s <code>master</code> since you started your topic branch:</p>
</div>
<div class="paragraph">
<p>These are the same commands that you would have run before you created your topic branch. If you use <code>gitk --all</code>, there&#8217;s a good chance that new commits have come in.</p>
</div>
<div class="paragraph">
<p>Next, we reintegrate our topic branch by rebasing onto <code>master</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git checkout ISIS-123-blobs
git rebase master</code></pre>
</div>
</div>
<div class="paragraph">
<p>This takes all of the commits in your branch, and applies them on top of the new <code>master</code> branch. When your change is eventually integrated back in, it will result in a nice clear linear history on the public repo.</p>
</div>
<div class="paragraph">
<p>If the rebase fails because of a conflict, then you&#8217;ll be dumped into REBASE mode. Edit the file that has the conflict, and make the appropriate edits. Once done:</p>
</div>
<div class="paragraph">
<p>Once the rebase has completed, re-run your tests to confirm that everything is still good.</p>
</div>
</div>
<div class="sect3">
<h4 id="raising-a-pull-request"><a class="anchor" href="#raising-a-pull-request"></a>Raising a pull request</h4>
<div class="paragraph">
<p>If you have your own fork, you can now simply push the changes you&#8217;ve made locally to your fork:</p>
</div>
<div class="paragraph">
<p>This will create a corresponding branch in the remote github repo. If you use <code>gitk --all</code>, you&#8217;ll also see a <code>remotes/origin/ISIS-123-blobs</code> branch.</p>
</div>
<div class="paragraph">
<p>Then, use github to raise a <a href="https://help.github.com/articles/using-pull-requests/">pull request</a>. Pull requests sent to the Apache GitHub repositories will forward a pull request e-mail to the <a href="#toc:ROOT:support.adoc" class="page unresolved">dev mailing list</a>. You&#8217;ll probably want to sign up to the dev mailing list first before issuing your first pull request (though that isn&#8217;t mandatory).</p>
</div>
<div class="paragraph">
<p>The process to raise the pull request, broadly speaking:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a web browser to your github fork of isis</p>
</li>
<li>
<p>Select your topic branch (pushed in the previous step) so that the pull request references the topic branch.</p>
</li>
<li>
<p>Click the <code>Pull Request</code> button.</p>
</li>
<li>
<p>Check that the Apache Isis mailing list email came through.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="if-your-pull-request-is-accepted"><a class="anchor" href="#if-your-pull-request-is-accepted"></a>If your pull request is accepted</h3>
<div class="paragraph">
<p>To double check that your pull request is accepted, update your <code>master</code> branch from the <code>upstream</code> remote:</p>
</div>
<div class="paragraph">
<p>You can then use <code>gitk --all</code> (or <code>git log</code> if you prefer the command line) to check your contribution has been added.</p>
</div>
<div class="paragraph">
<p>You can now delete your topic branch and remove the branch in your github:</p>
</div>
<div class="paragraph">
<p>Finally, you might want to push the latest changes in master back up to your github fork. If so, use:</p>
</div>
<div class="sect3">
<h4 id="if-your-pull-request-is-rejected"><a class="anchor" href="#if-your-pull-request-is-rejected"></a>If your pull request is rejected</h4>
<div class="paragraph">
<p>If your pull request is rejected, then you&#8217;ll need to update your branch from the main repository and then address the rejection reason.</p>
</div>
<div class="paragraph">
<p>You&#8217;ll probably also want to remove the remote branch on github:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git push origin --delete ISIS-123-blobs</code></pre>
</div>
</div>
<div class="paragraph">
<p>... and continue as before until you are ready to resubmit your change.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="git-cookbook"><a class="anchor" href="#git-cookbook"></a>Appendix: Git Cookbook</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This appendix describes the commands often used while working with git.  In addition to these basic commands, please make sure you have read:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="building-apache-isis.html" class="page">building Apache Isis</a></p>
</li>
<li>
<p><a href="contributing.html" class="page">Contributing</a></p>
</li>
<li>
<p><a href="../comguide/about.html#policies/git-policy" class="page">Git policy</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="modifying-existing-files"><a class="anchor" href="#modifying-existing-files"></a>Modifying existing files</h3>
<div class="paragraph">
<p>To modify existing files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add filename
git commit -m "ISIS-nnn: yada yada"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>git add</code> command adds the changes to the file(s) to the git index (aka staging area).  If you were to make subsequent changes to the file these would not be committed.</p>
</div>
<div class="paragraph">
<p>The <code>git commit</code> takes all the staged changes and commits them locally.  Note that these changes are not shared public with Apache Isis' central git repo.</p>
</div>
<div class="paragraph">
<p>You can combine these two commands using <code>-am</code> flag to git commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git commit -am "ISIS-nnn: yada yada"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-new-files"><a class="anchor" href="#adding-new-files"></a>Adding new files</h3>
<div class="paragraph">
<p>To add a new file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .
git commit -m "ISIS-nnn: yada yada"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that this sequence of commands is identical to modifying an existing file.  However, it isn&#8217;t possible to combine the two steps using <code>git commit -am</code>; the <code>git add</code> is always needed when adding new files to the repo.</p>
</div>
</div>
<div class="sect2">
<h3 id="deleting-files"><a class="anchor" href="#deleting-files"></a>Deleting files</h3>
<div class="paragraph">
<p>To delete a file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git rm filename
git commit -m "ISIS-nnn: yada yada"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="renaming-or-moving-files"><a class="anchor" href="#renaming-or-moving-files"></a>Renaming or moving files</h3>
<div class="paragraph">
<p>To rename or move a file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git mv &lt;i&gt;filename&lt;/i&gt; &lt;i&gt;newfilename&lt;/i&gt;
git commit -m "ISIS-nnn: yada yada"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="common-workflows"><a class="anchor" href="#common-workflows"></a>Common Workflows</h3>
<div class="paragraph">
<p>The <a href="contributing.html" class="page">contributing</a> page describes the workflow for non-committers.  The <a href="../comguide/about.html#policies/git-policy" class="page">Git policy</a> page describes a workflow for Apache Isis <strong>committers</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="backing-up-a-local-branch"><a class="anchor" href="#backing-up-a-local-branch"></a>Backing up a local branch</h3>
<div class="paragraph">
<p>If committing to a local branch, the changes are still just that: local, and run risk of a disk failure or other disaster.</p>
</div>
<div class="paragraph">
<p>To create a new, similarly named branch on the central repo, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git push -u origin &lt;i&gt;branchname&lt;/i&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using <code>gitk --all</code> will show you this new branch, named <strong>origin/branchname</strong>.</p>
</div>
<div class="paragraph">
<p>Thereafter, you can push subsequent commits using simply:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git push</code></pre>
</div>
</div>
<div class="paragraph">
<p>Doing this also allows others to collaborate on this branch, just as they would for <code>master</code>.</p>
</div>
<div class="paragraph">
<p>When, eventually, you have reintegrated this branch, you can delete the remote branch using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git push origin --delete &lt;i&gt;branchname&lt;/i&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more detail, see this <a href="http://stackoverflow.com/questions/2003505/how-do-i-delete-a-git-branch-both-locally-and-in-github">stackoverflow post</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="quick-change-stashing-changes"><a class="anchor" href="#quick-change-stashing-changes"></a>Quick change: stashing changes</h3>
<div class="paragraph">
<p>If you are working on something but are not ready to commit, then use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git stash</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use <code>gitk --all</code> then you&#8217;ll see new commits are made that hold the current state of your working directory and staging area.</p>
</div>
<div class="paragraph">
<p>You can then, for example, pull down the latest changes using <code>git pull --rebase</code> (see above).</p>
</div>
<div class="paragraph">
<p>To reapply your stash, then use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git stash pop</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that stashing works even if switching branches</p>
</div>
</div>
<div class="sect2">
<h3 id="ignoring-files"><a class="anchor" href="#ignoring-files"></a>Ignoring files</h3>
<div class="paragraph">
<p>Put file patterns into <code>.gitignore</code>.  There is one at the root of the git repo, but they can additionally appear in subdirectories (the results are cumulative).</p>
</div>
<div class="paragraph">
<p>See also:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://help.github.com/articles/ignoring-files">github&#8217;s help page</a></p>
</li>
<li>
<p><a href="http://www.kernel.org/pub/software/scm/git/docs/gitignore.html">man page</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="more-advanced-use-cases"><a class="anchor" href="#more-advanced-use-cases"></a>More advanced use cases</h3>
<div class="sect3">
<h4 id="if-accidentally-push-to-remote"><a class="anchor" href="#if-accidentally-push-to-remote"></a>If accidentally push to remote</h4>
<div class="paragraph">
<p>Suppose you committed to <code>master</code>, and then pushed the change, and then decided that you didn&#8217;t intend to do that:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">C1  -  C2  -  C3  -  C4  -  C5  -  C6  -  C7
                                          ^
                                          master
                                          ^
                                          origin/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>To go back to an earlier commit, first we wind back the local <code>master</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git reset --hard C5</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>C5</code> is the long sha-id for that commit.</p>
</div>
<div class="paragraph">
<p>This gets us to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">C1  -  C2  -  C3  -  C4  -  C5  -  C6  -  C7
                            ^
                            master
                                          ^
                                          origin/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, do a force push:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git push origin master --force</code></pre>
</div>
</div>
<div class="paragraph">
<p>If this doesn&#8217;t work, it may be that the remote repo has disabled this feature.  There are other hacks to get around this, see for example <a href="http://stackoverflow.com/questions/1377845/git-reset-hard-and-a-remote-repository">here</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="if-youve-accidentally-worked-on-master-branch"><a class="anchor" href="#if-youve-accidentally-worked-on-master-branch"></a>If you&#8217;ve accidentally worked on <code>master</code> branch</h3>
<div class="paragraph">
<p>If at any time the <code>git pull</code> from your upstream fails, it most likely means that you must have made commits on the <code>master</code> branch.  You can use <code>gitk --all</code> to confirm; at some point in time both <code>master</code> and <code>origin\master</code> will have a common ancestor.</p>
</div>
<div class="paragraph">
<p>You can retrospectively create a topic branch for the work you&#8217;ve accidentally done on <code>master</code>.</p>
</div>
<div class="paragraph">
<p>First, create a branch for your current commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git branch &lt;i&gt;newbranch&lt;/i&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, make sure you have no outstanding edits.  If you do, you should commit them or stash them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git stash</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, locate the shaId of the commit you want to roll back to (easily obtained in <code>gitk -all</code>), and wind <code>master</code> branch back to that commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git checkout master
git reset --hard &lt;i&gt;shaId&lt;/i&gt;      # move master branch shaId of common ancestor</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="if-youve-forgotten-to-prefix-your-commits-but-not-pushed"><a class="anchor" href="#if-youve-forgotten-to-prefix-your-commits-but-not-pushed"></a>If you&#8217;ve forgotten to prefix your commits (but not pushed)</h3>
<div class="paragraph">
<p>One of our committers, Alexander Krasnukhin, has put together some git scripts to help his workflow.  Using one of these, <code>git prefix</code>, you can just commit with proper message without bothering about prefix and add prefix only in the end <strong>before</strong> the final push.</p>
</div>
<div class="paragraph">
<p>For example, to prefix all not yet prefixed commits <code>master..isis/666</code> with <code>ISIS-666</code> prefix, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git prefix ISIS-666 master..isis/666</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can grab this utility, and others, from <a href="https://github.com/themalkolm/git-boots">this repo</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="working-with-many-repos"><a class="anchor" href="#working-with-many-repos"></a>Appendix: Working with Many Repos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Applications built with Apache Isis often (should) consist of multiple modules.
For example, there are the various modules that make up the (non-ASF) <a href="https://platform.incode.org" target="_blank" rel="noopener">Incode Platform</a> that provide various technical/cross-cutting concerns and generic business functionality.</p>
</div>
<div class="paragraph">
<p>In addition, your own application may well be structured as a number of distinct modules (probably with the entities in each module being mapped to a different schema), and using such techniques as the <a href="../../userguide/fun/building-blocks.html#domain-events" class="page">event bus</a> and <a href="../../userguide/fun/building-blocks.html#mixins" class="page">mixins</a> so that these modules are decoupled from each other.</p>
</div>
<div class="paragraph">
<p>All of which is a preamble to say that you will likely have multiple directories on your local development computer, for each such git repository that you contribute to.</p>
</div>
<div class="paragraph">
<p>In this appendix we provide some simple but useful bash scripts to help you manage each such.</p>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h3>
<div class="paragraph">
<p>We recommend that you adopt a convention for your directories.  For example, open source repositories (such as Apache Isis itself or the Incode Platform) reside in <a href="https://github.com/">github.com</a>, while your own proprietary code might reside in some other service, eg <a href="https://bitbucket.org/">bitbucket</a>.  For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>/users/home/me/
    BITBUCKET/
        mycompany/
            myapp/
            otherapp/
    GITHUB/
        apache/
            isis/
        incodehq/
            incode-platform/</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_repos-txt"><a class="anchor" href="#_repos-txt"></a><code>_repos.txt</code></h3>
<div class="paragraph">
<p>Create a file <code>_repos.txt</code> that catalogues the repositories, eg:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>#
# our code
#
/users/home/me/BITBUCKET/mycompany/myapp
/users/home/me/BITBUCKET/mycompany/otherapp
#
# open source modules
#
/users/home/me/GITHUB/apache/isis
/users/home/me/GITHUB/incodehq/incode-platform</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="bash-functions"><a class="anchor" href="#bash-functions"></a>Bash functions</h3>
<div class="paragraph">
<p>The <code>.bash_functions</code> file (downloadable from this <a href="https://gist.github.com/danhaywood/21b5b885433fd8bc440da3fab88c91cb">gist</a>) provides the following two functions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>repo</code><br></p>
<div class="paragraph">
<p>Switches (using <code>pushd</code>) to the specified directory (as listed in the <code>_repos.txt</code> file).</p>
</div>
</li>
<li>
<p><code>foreach</code><br></p>
<div class="paragraph">
<p>Runs the specified command for all (or matching) repositories (as listed in <code>_repos.txt</code> file).</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">repo plat</code></pre>
</div>
</div>
<div class="paragraph">
<p>would switch to <code>/users/home/me/GITHUB/incodehq/incode-platform</code>, the first module that matches the fragment.</p>
</div>
<div class="paragraph">
<p>Meanwhile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">foreach git status</code></pre>
</div>
</div>
<div class="paragraph">
<p>would perform a <code>git status</code> on every git repository, while</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">foreach -g plat git fetch</code></pre>
</div>
</div>
<div class="paragraph">
<p>would perform a <code>git fetch</code> but only to those repositories which match "plat" (<code>-g</code> flag standing for <code>grep</code>).</p>
</div>
<div class="paragraph">
<p>To load the functions into your profile (<code>.bashrc</code> or <code>.profile</code> or similar), use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">. ~/.bash_functions</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoc-syntax"><a class="anchor" href="#asciidoc-syntax"></a>Appendix: Asciidoc Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This appendix describes the main syntax conventions when writing Asciidoctor/Asciidoc.</p>
</div>
<div class="paragraph">
<p>For more info, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="asciidoc-syntax-quick-reference.pdf">asciidoc-syntax-quick-reference.pdf</a></p>
</li>
<li>
<p><a href="asciidoc-writers-guide.pdf">asciidoc-writers-guide.pdf</a></p>
</li>
<li>
<p><a href="https://powerman.name/doc/asciidoc">online cheat sheet</a></p>
</li>
<li>
<p><a href="http://asciidoctor.org/docs/user-manual">asciidoctor online user manual</a></p>
</li>
<li>
<p><a href="http://www.methods.co.nz/asciidoc/userguide.html">asciidoc online user manual</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="headings"><a class="anchor" href="#headings"></a>Headings</h3>
<div class="paragraph">
<p>The number of preceding <code>=</code> signs indicates the heading level.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>= Level 1</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>There can only be one level 1 per .adoc (at the very top).</p>
</div>
<div class="paragraph">
<p>The paragraph immediately following the heading is the "preamble", and is rendered in a larger font.
It&#8217;s therefore a good place to summarize the content of the document.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>== Level 2</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Level 2</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>=== Level 3</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Level 3</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>==== Level 4</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Level 4</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="paragraphs"><a class="anchor" href="#paragraphs"></a>Paragraphs</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>Paragraphs are separated by one or more blank lines.

So, this is a separate paragraph.</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Paragraphs are separated by one or more blank lines.</p>
</div>
<div class="paragraph">
<p>So, this is a separate paragraph.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>All consecutive sentences are rendered in the same paragraph.
This is another sentence in the para.
And another one.
Yet another.</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sentences without a blank line are in the same paragraph.
Don&#8217;t worry about word wrapping, just start the next sentence on the next line.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In general, there&#8217;s no need to indent paragraphs; keep things left-aligned.
Let the markup specify the logical indentation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Start each sentence on a new line</div>
<div class="paragraph">
<p>Don&#8217;t worry about wrapping sentences at 80 characters, just start each new sentence on a new line.
Asciidoc will take care of the rendering.</p>
</div>
<div class="paragraph">
<p>This simple tip has a number of other benefits:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>when the document is edited (eg correct a typo or insert a missing word), then only a single line in the file is changed.<br></p>
<div class="paragraph">
<p>This will reduce change of merge conflicts, too.</p>
</div>
</li>
<li>
<p>You can easily see if a sentence is too long, and should be split</p>
</li>
<li>
<p>You can easily see if all sentences are the same length: good writing should vary the length of sentences</p>
</li>
<li>
<p>You can easily see if successive sentences start with the same phrase (that might be a good thing, or a bad thing, depending).</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="bulleted-lists"><a class="anchor" href="#bulleted-lists"></a>Bulleted lists</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>The blank line after this para is required:

* Bullet 1 +
+
Indented paragraph (note the '+' to to chain this para with the bullet)

* Bullet 2

** Child bullets +
+
More indenting

** Another child bullet

* Bullet 3</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The blank line after this para is required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bullet 1<br></p>
<div class="paragraph">
<p>Indented paragraph (note the '+' to chain this para with the bullet)</p>
</div>
</li>
<li>
<p>Bullet 2</p>
<div class="ulist">
<ul>
<li>
<p>Child bullets<br></p>
<div class="paragraph">
<p>More indenting</p>
</div>
</li>
<li>
<p>Another child bullet</p>
</li>
</ul>
</div>
</li>
<li>
<p>Bullet 3</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="numbered-lists"><a class="anchor" href="#numbered-lists"></a>Numbered lists</h3>
<div class="paragraph">
<p>There&#8217;s no need to keep track of numbers, just use '1' or 'a' etc:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>The blank line after this para is required:

1. Bullet 1 +
+
Indented paragraph

2. Bullet 2

a. Child bullets +
+
More indenting

b. Another child bullet

3. Bullet 3</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The blank line after this para is required:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Bullet 1<br></p>
<div class="paragraph">
<p>Indented paragraph</p>
</div>
</li>
<li>
<p>Bullet 2</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Child bullets<br></p>
<div class="paragraph">
<p>More indenting</p>
</div>
</li>
<li>
<p>Another child bullet</p>
</li>
</ol>
</div>
</li>
<li>
<p>Bullet 3</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While it isn&#8217;t necessary to maintain the ordering manually (could just use '1' for all bullets), this does generate warnings when the document is built.</p>
</div>
</div>
<div class="sect2">
<h3 id="links-and-cross-references"><a class="anchor" href="#links-and-cross-references"></a>Links and Cross-references</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>link:http://ciserver:8080[CI Server]</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://ciserver:8080">CI Server</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Link to an external hyperlink</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>link:http://ciserver:8080[CI Server^]</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="http://ciserver:8080" target="_blank" rel="noopener">CI Server</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Link to an external hyperlink, with <code>target=blank</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>xref:toc:devguide:about.adoc#links-and-xrefs[background]</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#links-and-xrefs">background</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Cross-reference to section in Antora document</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="tables"><a class="anchor" href="#tables"></a>Tables</h3>
<div class="literalblock">
<div class="content">
<pre>.Some table
[cols="3a,2a", options="header"]
|===

| Header col 1
| Header col 2

| Row 1 col 1
| Row 1 col 2

| Row 2 col 1
| Row 2 col 2

|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Some table</caption>
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Header col 1</th>
<th class="tableblock halign-left valign-top">Header col 2</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Row 1 col 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Row 1 col 2</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Row 2 col 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Row 2 col 2</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>cols</code> attribute says how many columns there are and their respective widths.</p>
</li>
<li>
<p>the "a" suffix indicates that the contents is parsed as Asciidoc</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="column-attributes"><a class="anchor" href="#column-attributes"></a>Column Attributes</h4>
<div class="paragraph">
<p>Other options are (<a href="http://mrhaki.blogspot.co.uk/2014/11/awesome-asciidoctor-styling-columns-and.html">credit</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>e: emphasized</p>
</li>
<li>
<p>a: Asciidoc markup</p>
</li>
<li>
<p>m: monospace</p>
</li>
<li>
<p>h: header style, all column values are styled as header</p>
</li>
<li>
<p>s: strong</p>
</li>
<li>
<p>l: literal, text is shown in monospace font and line breaks are kept</p>
</li>
<li>
<p>d: default</p>
</li>
<li>
<p>v: verse, keeps line breaks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.Table with column style e,a,m
[cols="e,a,m"]
|===
| Emphasized (e) | Asciidoc (a) | Monospaced (m)

| Asciidoctor
| NOTE: *Awesome* way to write documentation
| It is just code

|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Table with column style e,a,m</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Emphasized (e)</th>
<th class="tableblock halign-left valign-top">Asciidoc (a)</th>
<th class="tableblock halign-left valign-top">Monospaced (m)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Asciidoctor</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong>Awesome</strong> way to write documentation
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>It is just code</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>and:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.Table with column style h,s,l
[cols="h,s,l"]
|===
| Header (h) | Strong (s) | Literal (l)

| Asciidoctor
| Awesome way to write documentation
| It is
just code

|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Table with column style h,s,l</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Header (h)</th>
<th class="tableblock halign-left valign-top">Strong (s)</th>
<th class="tableblock halign-left valign-top"> Literal (l)</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Asciidoctor</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Awesome way to write documentation</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="literal"><pre> It is
just code</pre></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>and:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.Table with column style d,v
[cols="d,v"]
|===
| Default (d) | Verse (v)

| Asciidoctor
| Awesome way
to write
documentation

|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Table with column style d,v</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Default (d)</th>
<th class="tableblock halign-left valign-top"> Verse (v)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asciidoctor</p></td>
<td class="tableblock halign-left valign-top"><div class="verse"> Awesome way
to write
documentation</div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="column-alignment"><a class="anchor" href="#column-alignment"></a>Column Alignment</h4>
<div class="paragraph">
<p>This can be combined with alignment markers (<a href="http://mrhaki.blogspot.co.uk/2014/11/awesome-asciidoctor-table-column-and.html">credit</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&lt;: top align values (default)</p>
</li>
<li>
<p>&gt;: bottom align values</p>
</li>
<li>
<p>^: center values</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[cols="^.&gt;,&lt;.&lt;,&gt;.^", options="header"]
|===

| Name
| Description
| Version

| Asciidoctor
| Awesome way to write documentation
| 1.5.0
|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-bottom">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-right valign-middle">Version</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-bottom"><p class="tableblock">Asciidoctor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Awesome way to write documentation</p></td>
<td class="tableblock halign-right valign-middle"><p class="tableblock">1.5.0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the first column is centered and bottom aligned,</p>
</li>
<li>
<p>the second column is left and top aligned and</p>
</li>
<li>
<p>the third column is right aligned and centered vertically.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="columnrow-spanning"><a class="anchor" href="#columnrow-spanning"></a>Column/Row Spanning</h4>
<div class="paragraph">
<p>We can also have columns or rows spanning multiple cells (<a href="http://mrhaki.blogspot.co.uk/2014/12/awesome-asciidoctor-span-cell-over-rows.html">credit</a>):</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.Cell spans columns
|===
| Name | Description

| Asciidoctor
| Awesome way to write documentation

2+| The statements above say it all

|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Cell spans columns</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asciidoctor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Awesome way to write documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">The statements above say it all</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>N+</code> sign notation tells Asciidoctor to span this cell over N columns.</p>
</div>
<div class="paragraph">
<p>while:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.Cell spans rows
|===
| Name | Description

.2+| Asciidoctor
| Awesome way to write documentation

| Works on the JVM

|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Cell spans rows</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Asciidoctor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Awesome way to write documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Works on the JVM</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>.N+</code> notation tells Asciidoctor to span this cell over N rows.</p>
</div>
<div class="paragraph">
<p>and:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.Cell spans both rows and columns
|===

| Row 1, Col 1 | Row 1, Col 2 | Row 1, Col 3

2.2+| Cell spans 2 cols, 2 rows
| Row 2, Col 3
| Row 3, Col 3

|===</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Cell spans both rows and columns</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Row 1, Col 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Row 1, Col 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Row 1, Col 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" rowspan="2"><p class="tableblock">Cell spans 2 cols, 2 rows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Row 2, Col 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Row 3, Col 3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>N.M+</code> notation tells Asciidoctor to span this cell over N columns and M rows.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admonitions"><a class="anchor" href="#admonitions"></a>Admonitions</h3>
<div class="paragraph">
<p>Callout or highlight content of particular note.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>NOTE: the entire note must be a single sentence.</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the entire note must be a single sentence.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>[NOTE]
====
the note is multiple paragraphs, and can have all the usual styling,
* eg bullet points:
* etc etc
====</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>the note is multiple paragraphs, and can have all the usual styling,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>eg bullet points:</p>
</li>
<li>
<p>etc etc</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>[TIP]
====
Here's something worth knowing...
====</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Here&#8217;s something worth knowing&#8230;&#8203;</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>[WARNING]
====
Be careful...
====</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Be careful&#8230;&#8203;</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>[IMPORTANT]
====
Don't forget...
====</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Don&#8217;t forget&#8230;&#8203;</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="source-code"><a class="anchor" href="#source-code"></a>Source code</h3>
<div class="paragraph">
<p>Use <code>[source]</code> macro to specify source content:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[source,powershell]
----
get-command -module BomiArtifact
----</pre>
</div>
</div>
<div class="paragraph">
<p>will render as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-powershell hljs" data-lang="powershell">get-command -module BomiArtifact</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some languages support syntax highlighting.
For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[source,java]
----
public class SomeClass extends SomeOtherClass {
    ...
}
----</pre>
</div>
</div>
<div class="paragraph">
<p>will render as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeClass extends SomeOtherClass {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Callouts can also be added using an appropriate comment syntax.
For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[source,java]
----
public class SomeClass
                extends SomeOtherClass {        // &lt;1&gt;
    public static void main(String[] args) {    // &lt;2&gt;
        ...
    }
}
----
&lt;1&gt; inherits from `SomeOtherClass`
&lt;2&gt; entry point into the program</pre>
</div>
</div>
<div class="paragraph">
<p>will render as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeClass
                extends SomeOtherClass {        <i class="conum" data-value="1"></i><b>(1)</b>
    public static void main(String[] args) {    <i class="conum" data-value="2"></i><b>(2)</b>
        ...
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>inherits from <code>SomeOtherClass</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>entry point into the program</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[source,xml]
----
&lt;a&gt;
    &lt;b c="foo"/&gt;     &lt;!--1--&gt;
&lt;/a&gt;
----
&lt;1&gt; some comment</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;a&gt;
    &lt;b c="foo"/&gt;     <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/a&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>some comment</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to include source code snippets; see the guides linked previously</p>
</div>
</div>
<div class="sect2">
<h3 id="images"><a class="anchor" href="#images"></a>Images</h3>
<div class="paragraph">
<p>Use the <code>image:</code> macro to reference images.
For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>image:_images/vscode.png[]</pre>
</div>
</div>
<div class="paragraph">
<p>To make the image clickable, add in the <code>link</code> attribute:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>image:_images/vscode.png[link="_images/vscode.png"]</pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to specify the width using <code>scaledwidth</code> (for PDF/HTML) or <code>width</code> and <code>height</code> (for HTML only).</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>image:_images/vscode.png[link="_images/vscode.png",width="800px"]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="child-documents"><a class="anchor" href="#child-documents"></a>Child Documents</h3>
<div class="paragraph">
<p>Use the <code>include:</code> macro to break up a document into multiple sections.</p>
</div>
<div class="paragraph">
<p>For example, this <a href="about.html" class="page">developers' guide</a> document is broken into several files:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>dg.adoc
_dg_ide.adoc
_dg_hints-and-tips.adoc
_dg_building-apache-isis.adoc
...</pre>
</div>
</div>
<div class="paragraph">
<p>and so on.</p>
</div>
<div class="paragraph">
<p>These are included using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">include::_dg_ide.adoc[leveloffset=+1]
include::_dg_hints-and-tips.adoc[leveloffset=+1]
include::_dg_building-apache-isis.adoc[leveloffset=+1]
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>leveloffset=+1</code> means that each included file&#8217;s heading levels are automatically adjusted.
The net effect is that all documents can and should use heading 1 as their top-level.</p>
</div>
<div class="paragraph">
<p>Child documents should have '_' as prefix.
This ensures that they are ignored by the build; only .html and PDF files are created for the top-level parent documents.</p>
</div>
<div class="paragraph">
<p>The CI/documentation platform also supports the "Improve this doc" button, allowing any document to be edited via the TFS portal; very useful for small fixes.
To make this work, it relies upon the following naming conventions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>every document should have an id anchor for its level heading corresponding to its file name</p>
</li>
<li>
<p>every child document&#8217;s name should be an '_ followed by the name of its parent.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, <code>dg.adoc</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[[dg]]
= Developers' Guide
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>while its child document <code>_dg_ide.adoc</code> starts with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">= Using an IDE
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In general, we use '_' to separate out the logical hierarchy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>xxx-xxx/xxx-xxx.adoc
        _xxx-xxx_ppp-ppp.adoc
        _xxx-xxx_qqq-qqq.adoc
        _xxx-xxx_qqq-qqq_mmm-mmm.adoc
        _xxx-xxx_qqq-qqq_nnn-nnn.adoc</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any referenced images should be in subdirectories of the <code>_images</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>xxx-xxx/_images/.
              /ppp-ppp/.
              /qqq-qqq/.
                      /mmm-mmm
                      /nnn-nnn</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="metadata"><a class="anchor" href="#metadata"></a>Metadata</h3>
<div class="paragraph">
<p>The top-level document must include the <code>_basedir</code> attribute; this points to the parent directory <code>src/main/asciidoc</code>.
This attribute is set immediately after the top-level heading.</p>
</div>
<div class="paragraph">
<p>In addition, the <code>:toc:</code> adds a table of contents.</p>
</div>
<div class="paragraph">
<p>For example, the <code>setting-up/concepts/concepts.adoc</code> file starts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[[concepts]]
= Concepts
:_basedir: ../../

...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="uml-diagrams"><a class="anchor" href="#uml-diagrams"></a>UML diagrams</h3>
<div class="paragraph">
<p>Asciidoctor includes support for the <a href="http://plantuml.com/">plantuml</a>, allowing simple UML diagrams to be easily sketched.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[plantuml]
----
class Car

Driver - Car : drives &gt;
Car *- Wheel : have 4 &gt;
Car -- Person : &lt; owns
----</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<div class="imageblock plantuml">
<div class="content">
<img src="http://www.plantuml.com/plantuml/png/SoWkIImgAStDuKhEIImkLd1EBEBYSYdAB4ijKj05yHIi5590t685EouGLqjN8JmZDJK7A9wHM9QgO08LrzLL24WjAixF0qhOAEINvnLpEQJcfG1D1W00" alt="diagram">
</div>
</div>
</div>
<div class="sect2">
<h3 id="ditaa-diagrams"><a class="anchor" href="#ditaa-diagrams"></a>Ditaa diagrams</h3>
<div class="paragraph">
<p>Asciidoctor includes support for the <a href="http://ditaa.sourceforge.net/">ditaa</a>, allowing boxes-and-lines diagrams to be easily sketched.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[ditaa,images/asciidoctor/ditaa-demo,png]
----
    +--------+   +-------+    +-------+
    |        | --+ ditaa +--&gt; |       |
    |  Text  |   +-------+    |diagram|
    |Document|   |!magic!|    |       |
    |     {d}|   |       |    |       |
    +---+----+   +-------+    +-------+
        :                         ^
        |       Lots of work      |
        +-------------------------+
----</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<div class="imageblock plantuml">
<div class="content">
<img src="http://www.plantuml.com/plantuml/png/SoWkIImgISaiIKpaKW02RLqeq4RYQ2FBQ8FLrIX0GOq2I1vi04Y97Loc1gOk9BMY1A81nRoQbCp4zAB4NAWwb_paqjpKl1AGkXh5tCJqp6J56cIRQf3ihKwfhK6MmbG7iagR27-0W9K2BX37fO1i1H3uv9SKA-IdAPJd5sKZsuSITXX0cyiXDIy574W0" alt="images/asciidoctor/ditaa-demo">
</div>
</div>
</div>
<div class="sect2">
<h3 id="graphviz-diagrams"><a class="anchor" href="#graphviz-diagrams"></a>Graphviz diagrams</h3>
<div class="paragraph">
<p>Asciidoctor includes support for the <a href="http://ditaa.sourceforge.net/">ditaa</a>, allowing boxes-and-lines diagrams to be easily sketched.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[graphviz,images/asciidoctor/graphviz-demo,png]
----
digraph automata_0 {
  size ="8.5, 11";
  node [shape = circle];
  0 [ style = filled, color=lightgrey ];
  2 [ shape = doublecircle ];
  0 -&gt; 2 [ label = "a " ];
  0 -&gt; 1 [ label = "other " ];
  1 -&gt; 2 [ label = "a " ];
  1 -&gt; 1 [ label = "other " ];
  2 -&gt; 2 [ label = "a " ];
  2 -&gt; 1 [ label = "other " ];
  "Machine: a" [ shape = plaintext ];
}
----</pre>
</div>
</div>
<div class="paragraph">
<p>renders as:</p>
</div>
<div class="imageblock plantuml">
<div class="content">
<img src="http://www.plantuml.com/plantuml/png/VP1B2i90343tFKMOjOfJ44Ifz0AUe8Z4JkmCn9aoJS4FtjrMAtJJRlFU2oHv8nZ514cCgoBM5h2LS4F1ynfU2K3ZdWIPsgus2z1QxRkH3uQWQ2pM7O7InPBfr8Cr5D38W_lnrJ6JMK0PECICNMMbYlI0hvZsuj2Rq5wOVbjWMBCyV1N62t6dA0GrGdgCWbYAVwodIprVfjDbEb-g8vRMUTe1gj5PDQFpGdVfhNUIapVTbpy0" alt="images/asciidoctor/graphviz-demo">
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This requires graphviz to be installed and the <code>dot.exe</code> on the PATH.
Alternatively, specify the location, eg using:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>:graphvizdot: c:\Program Files (x86)\Graphviz2.38\bin\dot.exe</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-lombok"><a class="anchor" href="#project-lombok"></a>Appendix: Project Lombok</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://projectlombok.org/">Project Lombok</a> is an open source project to reduce the amount of boilerplate in
your code.</p>
</div>
<div class="paragraph">
<p>For example, rather than write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private String name;
public String getName() {
    return name;
}
public void setName(String name) {
    this.name = name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can instead write simply:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Getter @Setter
private String name;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Under the covers it is implemented as an annotation processor; it basically hooks into the Java compiler
so that it can emit additional bytecode (eg for the getter and setter).  See <a href="#other-settings-compiler">here</a> for details of setting up in IntelliJ (Eclipse has very similar support).</p>
</div>
<div class="paragraph">
<p>Apache Isis supports <a href="https://projectlombok.org/">Project Lombok</a>, in that the annotations that would normally be placed on the getter (namely <a href="../../refguide/applib-ant/Property.html" class="page"><code>Property</code></a>, <a href="../../refguide/applib-ant/PropertyLayout.html" class="page"><code>@PropertyLayout</code></a>, <a href="../../refguide/applib-ant/Collection.html" class="page"><code>@Collection</code></a>, <a href="../../refguide/applib-ant/CollectionLayout.html" class="page"><code>@CollectionLayout</code></a> and <a href="../../refguide/applib-ant/MemberOrder.html" class="page"><code>@MemberOrder</code></a>) can be placed on the field instead.</p>
</div>
<div class="paragraph">
<p>There are plugins for Lombok for maven; it&#8217;s just a matter of adding the required dependency.  To compile the code
within your IDE (eg so that its compiler "knows" that there is, actually, a getter and setter) will require an
Lombok plugin appropriate to that IDE.  See the <a href="https://projectlombok.org/download.html">Lombok download page</a> for more information.</p>
</div>
<div class="sect2">
<h3 id="future-thoughts"><a class="anchor" href="#future-thoughts"></a>Future thoughts</h3>
<div class="paragraph">
<p>In the future we might extend/fork Lombok so that it understands Isis' own annotations (ie <a href="../../refguide/applib-ant/Property.html" class="page"><code>@Property</code></a> and <a href="../../refguide/applib-ant/Collection.html" class="page"><code>@Collection</code></a>)
rather than Lombok&#8217;s own <code>@Getter</code> and `@Setter.</p>
</div>
<div class="paragraph">
<p>It might also be possible to use Lombok to generate the domain event classes for each member.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="agilej"><a class="anchor" href="#agilej"></a>Appendix: AgileJ</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This material does not constitute an endorsement; AgileJ Structure Views is not affiliated to Apache Software Foundation in any way.  AgileJ has however provided a complimentary copy of its software to Apache Isis committers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="http://www.agilej.com/">AgileJ Structure Views</a> is a commercial product to reverse engineer and visualize Java classes from source code.</p>
</div>
<div class="paragraph">
<p>The key to using the tool is in developing a suitable filter script, a DSL.  You can use the following script as a starting point for visualizing Apache Isis domain models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-AgileJ hljs" data-lang="AgileJ">// use CTRL+SPACE for completion suggestions
hide all fields
hide setter methods
hide private methods
hide methods named compareTo
hide methods named toString
hide methods named inject*
hide methods named disable*
hide methods named default*
hide methods named hide*
hide methods named autoComplete*
hide methods named choices*
hide methods named title
hide methods named iconName
hide methods named validate*
hide methods named modify*
hide protected methods
hide types annotated as DomainService
hide types named Constants
hide types named InvoicingInterval
hide enums
hide constructors
hide inner types named *Event
hide inner types named *Functions
hide inner types named *Predicates
show getter methods in green
show methods annotated as Programmatic in orange
show methods annotated as Action in largest
hide dependency lines
hide call lines
hide method lines</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information on AgileJ, see Paul Wells' 8-part tutorial series on Youtube; the first can be found <a href="https://www.youtube.com/watch?v=YrZQ7lMSsH0">here</a> (view the "show more" comments to click through to other parts).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cheat-sheet"><a class="anchor" href="#cheat-sheet"></a>Appendix: Cheat Sheet</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This "one-pager" cheat sheet summarises the main programming conventions to follow when writing an Apache Isis application.</p>
</div>
<div class="paragraph">
<p><br/></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_attachments/resources/IsisCheatSheet.pdf"><img src="_images/resources/IsisCheatSheet.png" alt="IsisCheatSheet" width="800px"></a>
</div>
</div>
<div class="paragraph">
<p><br/></p>
</div>
<div class="paragraph">
<p>You can download the cheat sheet as either a <a href="_attachments/resources/IsisCheatSheet.pdf">Acrobat PDF</a> or as an <a href="_attachments/resources/IsisCheatSheet.docx">MS Word .docx</a> file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="icons"><a class="anchor" href="#icons"></a>Appendix: Icons</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most Apache Isis viewers use icons to help identify domain objects in the user interface.
It&#8217;s a good idea to ensure that these are styled consistently.
Here are some open source icon sets for both personal and commercial use (though some require a link back to the authors website):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://icons8.com/">icons8</a> (both free and commercial)</p>
</li>
<li>
<p><a href="http://tango.freedesktop.org/Tango_Icon_Library">tango desktop</a> icon set - as used in Linux GNOME and KDE desktops (free)</p>
</li>
<li>
<p><a href="http://thenounproject.com/">the noun project</a> community of icon providers (both free and commercial)</p>
</li>
<li>
<p><a href="http://www.flaticon.com/">flaticon</a> - free vector icons</p>
</li>
<li>
<p><a href="http://google.github.io/material-design-icons/">Google material design</a> and <a href="http://www.google.com/design/spec/resources/sticker-sheets.html#">zip here</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you know of any others freely usable and easily accessible, let us know through the <a href="#toc:ROOT:support.adoc" class="page unresolved">mailing list</a>.</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Inspiration for the recommended commit format comes from the <a href="https://github.com/puppetlabs/puppet">puppet</a> project&#8217;s <a href="https://github.com/puppetlabs/puppet/blob/master/CONTRIBUTING.md">contributing</a> page.
</div>
</div>
</article>
<aside class="article-aside toc" role="navigation">
    <p class="toc-title">On this page</p>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="content">
        <div class="copyright">
            <p>
                Copyright © 2010~2019 The Apache Software Foundation, licensed under the Apache License, v2.0.
                <br/>
                Apache, the Apache feather logo, Apache Isis, and the Apache Isis project logo are all trademarks of The Apache Software Foundation.
            </p>
        </div>
        <div class="revision">
            <p>Revision: 2.0.0-M2.20200115-2137-d004fc09</p>
        </div>
    </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/jquery-3.4.1.min.js"></script>
<script src="../../_/js/vendor/jquery-ui-1.12.1.custom.widget-only.min.js"></script>
<script src="../../_/js/vendor/jquery.tocify.min.js"></script>

<script>
    $(function() {
        $("#article-toc").tocify( {
            showEffect: "slideDown",
            hideEffect: "slideUp",
            scrollTo: 120,
            smoothScroll: true,
            theme: "jqueryui",
            highlightOnScroll: true
        } );
    });
</script>
  </body>
</html>
