<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>From v1.11.0 to 1.12.0 :: Apache Isis</title>
    <link rel="canonical" href="https://isis.apache.org/mignotes/mn-1.11.0-to-1.12.0.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://isis.apache.org">Apache Isis</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mignotes" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="about.html">Migration Notes</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="about.html">Migration Notes</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Migration Notes</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Architecture & Design</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../archdesign/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">DataNucleus ObjectStore</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../odn/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Example App - Demo</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../demoapp/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Example App - Hello World</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../helloworld/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Example App - SimpleApp</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../simpleapp/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions - SecMan</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../ext-secman/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Fundamentals & Beyond</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../ug/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Guides - Reference Guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rg/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Maven Dependencies</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../mavendeps/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Migration Notes</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../relnotes/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Restful Objects Viewer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../vro/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Runtime Services</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../runtime-services/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../security/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">SmokeTest App</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../smoketests/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Table of Contents</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../toc/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../testing/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Wicket Viewer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../vw/about.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../toc/about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="about.html">Migration Notes</a></li>
    <li><a href="mn-1.11.0-to-1.12.0.html">From v1.11.0 to 1.12.0</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/hobrom/antora/isis/antora/components/mignotes/modules/ROOT/pages/mn-1.11.0-to-1.12.0.adoc">Edit this Page</a></div>
  </div>
<article class="doc">
<h1 class="page">From v1.11.0 to 1.12.0</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Existing projects written against v1.11.x should run against v1.12.0 with few if any changes.
If you <strong>do</strong> encounter any difficulties then let us know via the <a href="https://isis.apache.org/versions/1.12.0/support.html#">users mailing list</a>, so we can support you and document issues here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dynamic-xml-layouts"><a class="anchor" href="#dynamic-xml-layouts"></a>Dynamic XML Layouts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The major new feature in 1.12.0 is <a href="https://isis.apache.org/versions/1.12.0/guides/ugvw/ugvw.html#_ugvw_layout_file-based">dynamic XML layouts</a>, providing much enhanced support for custom layouts.</p>
</div>
<div class="paragraph">
<p>The new <code>Xxx.layout.xml</code> file is optional; without it domain objects will continue to be rendered as before, using metadata from annotations (<a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-DomainObjectLayout"><code>@DomainObjectLayout</code></a>, <a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-PropertyLayout"><code>@PropertyLayout</code></a>, <a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-CollectionLayout"><code>@CollectionLayout</code></a>, <a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-ActionLayout"><code>@ActionLayout</code></a>, <a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-MemberOrder"><code>@MemberOrder</code></a> and <a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-MemberGroupLayout"><code>@MemberGroupLayout</code></a>), and also from any <a href="https://isis.apache.org/versions/1.12.0/guides/ugvw/ugvw.html#_ugvw_layout_file-based"><code>Xxx.layout.json</code></a> file that might already exist.
There is therefore no requirement to move to the new more flexible XML-based layout.</p>
</div>
<div class="paragraph">
<p>If you do want to start using the new format, then you will find that 1.12.0 provides a mixin action (available in prototype mode only) called "download XML layout".
This will allow you to download the current layout file for the object being rendered.
This can then be saved alongside the class' Java source file.
Once a <code>Xxx.layout.xml</code> file is present, any existing <code>Xxx.layout.json</code> file will be ignored; any annotations though will continue to be honoured.</p>
</div>
<div class="paragraph">
<p>If you wish to migrate all your domain objects to use XML layouts, this can be done using the "download layouts (XML)" (on the "Prototyping" menu), as a single zip file.
This can then be unzipped into the <code>src/main/java</code> directory.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mixins"><a class="anchor" href="#mixins"></a>Mixins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(As mentioned above), 1.12.0 provides a number of new mixin actions and properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://isis.apache.org/versions/1.12.0/guides/rgcms/rgcms.html#__rgcms_classes_mixins_Object_clearHints">clear hints</a> action</p>
</li>
<li>
<p><a href="https://isis.apache.org/versions/1.12.0/guides/rgcms/rgcms.html#__rgcms_classes_mixins_Object_downloadLayoutXml">download Layout XML</a> action (prototype mode)</p>
</li>
<li>
<p><a href="https://isis.apache.org/versions/1.12.0/guides/rgcms/rgcms.html#__rgcms_classes_mixins_Object_rebuildMetamodel">rebuild metamodel</a> action (prototype mode)</p>
</li>
<li>
<p><a href="https://isis.apache.org/versions/1.12.0/guides/rgcms/rgcms.html#__rgcms_classes_mixins_Persistable_datanucleusXxx">id and version</a> properties (for domain entities only)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These are in addition to the <a href="https://isis.apache.org/versions/1.12.0/guides/rgcms/rgcms.html#__rgcms_classes_mixins_Persistable_downloadJdoMetadata">download JDO metadata</a> mixin action (prototype mode) provided in earlier versions of the framework.</p>
</div>
<div class="paragraph">
<p>The properties are grouped in a "metadata" fieldset, and the mixin actions associated with that fieldset.
If the domain object is a view model rather than an entity (that is, has no id or version) then the actions will instead be rendered as top-level actions.</p>
</div>
<div class="paragraph">
<p>Most of these mixin object members are visible only in prototype mode, though some are visible in production mode and so potentially visible to end-users.
If you wish to suppress these members from the view, you can either use <a href="https://isis.apache.org/versions/1.12.0/guides/ugsec/ugsec.html#">security</a>, or alternatively you can write <a href="https://isis.apache.org/versions/1.12.0/guides/rgcms/rgcms.html#_rgcms_classes_super_AbstractSubscriber">subscriber</a>s to veto the visibility of these members by subscribing to their respective domain events.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jaxb-view-models-are-editable"><a class="anchor" href="#jaxb-view-models-are-editable"></a>JAXB view models are editable</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All <a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-XmlRootElement"><code>@XmlRootElement</code></a> view models are now implicitly editable.
Therefore any view models that should be read-only should have editing attribute disabled using <a href="https://isis.apache.org/versions/1.12.0/guides/rgant/rgant.html#_rgant-DomainObject_editing"><code>@DomainObject#editing()</code></a> (or use a <a href="https://isis.apache.org/versions/1.12.0/guides/rgcms/rgcms.html#_rgcms_classes_super_AbstractSubscriber">subscriber</a> to veto editability).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="domainobjectcontainer-domain-service"><a class="anchor" href="#domainobjectcontainer-domain-service"></a><code>DomainObjectContainer</code> domain service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://isis.apache.org/versions/1.12.0/guides/rgsvc/rgsvc.html#_rgsvc_core-domain-api_DomainObjectContainer"><code>DomainObjectContainer</code></a>domain service has been deprecated, with its methods moved to a new set of more fine-grained domain services, such as <a href="https://isis.apache.org/versions/1.12.0/guides/rgsvc/rgsvc.html#_rgsvc_persistence-layer-api_RepositoryService"><code>RepositoryService</code></a> and
<a href="https://isis.apache.org/versions/1.12.0/guides/rgsvc/rgsvc.html#_rgsvc_application-layer-api_MessageService"><code>MessageService</code></a>.</p>
</div>
<div class="paragraph">
<p>The <code>DomainObjectContainer</code> service will continue to be supported until Apache Isis v2.0.0, but in the meantime, consider changing existing application code to use these new domain services.</p>
</div>
<div class="paragraph">
<p>Please note that when migrating from _rgsvc_core-domain-api_DomainObjectContainer_object-persistence-api.adoc#_rgsvc_core-domain-api_DomainObjectContainer_object-persistence-api[<code>DomainObjectContainer#persist()</code>] to <a href="https://isis.apache.org/versions/1.12.0/../guides/rgsvc/rgsvc.html#_rgsvc_persistence-layer-api_RepositoryService"><code>RepositoryService#persist()</code></a>, no exception will be thrown if the Domain Object is already persisted, so the behavior of <a href="https://isis.apache.org/versions/1.12.0/guides/rgsvc/rgsvc.html#_rgsvc_persistence-layer-api_RepositoryService"><code>RepositoryService#persist()</code></a> will be the same as that of <a href="https://isis.apache.org/versions/1.12.0/guides/rgsvc/rgsvc.html#_rgsvc_core-domain-api_DomainObjectContainer_object-persistence-api"><code>DomainObjectContainer#persistIfNotAlready()</code></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-the-self-host-profile"><a class="anchor" href="#removal-of-the-self-host-profile"></a>Removal of the <code>self-host</code> profile</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>self-host</code> profile has been removed from the <a href="https://isis.apache.org/versions/1.12.0/arch/simpleapp/about.html">SimpleApp archetype</a>.
Instead, run the application using either the <code>org.apache.isis.WebServer</code> main class, or <code>mvn jetty:run</code>, or build the WAR and deploy to a servlet container such as Tomcat.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="isis-viewer-wicket-disablemodaldialogs-removed"><a class="anchor" href="#isis-viewer-wicket-disablemodaldialogs-removed"></a><code>isis.viewer.wicket.disableModalDialogs</code> removed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Apache Isis Wicket viewer uses a modal dialog for action parameters.  Before this feature was implemented (prior to 1.4.0), action parameters were rendered on their own page.  This property was provided to re-enable the old behaviour.</p>
</div>
<div class="paragraph">
<p>The property has now been removed and this feature removed; actions parameters are always now always shown in a modal dialog.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
