<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Value types :: causeway</title>
    <link rel="canonical" href="https://apache-causeway-committers.github.io/causeway-nightly/userguide/latest/value-types.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-custom.css">
<link rel="home" href="https://apache-causeway-committers.github.io/causeway-nightly" title="causeway">
  <link rel="next" href="meta-annotations.html" title="Meta-annotations">
  <link rel="prev" href="modules.html" title="Modules">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://apache-causeway-committers.github.io/causeway-nightly">
          <span class="icon">
            <img src="../../_/img/causeway-logo-no-words-65x48.png"></img>
          </span>
        <span class="navbar-title">causeway</span>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <a class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Quick Start</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Starter Apps</span>
            <a class="navbar-item" href="../../docs/latest/starters/helloworld.html">Hello World</a>
            <a class="navbar-item" href="../../docs/latest/starters/simpleapp.html">Simple App</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Learning &amp; Tutorials</span>
            <a class="navbar-item" href="../../docs/latest/reference/about.html">Reference App</a>
            <a class="navbar-item" href="https://danhaywood.gitlab.io/isis-petclinic-tutorial-docs/petclinic/1.16.2/intro.html">Petclinic</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Resources</span>
            <a class="navbar-item" href="../../docs/latest/resources/cheatsheet.html">Cheatsheet</a>
            <a class="navbar-item" href="../../docs/latest/resources/icons.html">Icons</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../userguide/latest/about.html">User Guide</a>
            <a class="navbar-item" href="../../refguide/latest/about.html">Reference Guide</a>
            <a class="navbar-item" href="../../testing/latest/about.html">Testing Guide</a>
            <a class="navbar-item" href="../../security/latest/about.html">Security Guide</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">For use in apps</span>
            <a class="navbar-item" href="../../valuetypes/latest/about.html">Value Types</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Development</span>
            <a class="navbar-item" href="../../setupguide/latest/about.html">Setup Guide</a>
            <a class="navbar-item" href="../../conguide/latest/about.html">Contributors' Guide</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Components</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../security/latest/bypass/about.html">Bypass</a>
            <a class="navbar-item" href="../../security/latest/simple/about.html">Simple</a>
            <a class="navbar-item" href="../../security/latest/shiro/about.html">Shiro</a>
            <a class="navbar-item" href="../../security/latest/spring/about.html">Spring</a>
            <a class="navbar-item" href="../../security/latest/keycloak/about.html">Keycloak</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Viewers</span>
            <a class="navbar-item" href="../../vw/latest/about.html">Web UI (Wicket)</a>
            <a class="navbar-item" href="../../gqlv/latest/about.html">GraphQL API</a>
            <a class="navbar-item" href="../../vro/latest/about.html">REST API (Restful Objects)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Persistence</span>
            <a class="navbar-item" href="../../pjpa/latest/about.html">JPA (EclipseLink)</a>
            <a class="navbar-item" href="../../pjdo/latest/about.html">JDO (DataNucleus)</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Extensions</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../userguide/latest/commandlog/about.html">Command Log</a>
            <a class="navbar-item" href="../../userguide/latest/docgen/about.html">Doc Gen</a>
            <a class="navbar-item" href="../../userguide/latest/executionlog/about.html">Execution Log</a>
            <a class="navbar-item" href="../../userguide/latest/executionoutbox/about.html">Execution Outbox</a>
            <a class="navbar-item" href="../../userguide/latest/executionrepublisher/about.html">Execution Republisher</a>
            <a class="navbar-item" href="../../userguide/latest/excel/about.html">Excel</a>
            <a class="navbar-item" href="../../userguide/latest/flyway/about.html">Flyway</a>
            <a class="navbar-item" href="../../userguide/latest/layoutloaders/about.html">Layout Loaders</a>
            <a class="navbar-item" href="../../userguide/latest/titlecache/about.html">Title Cache</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../security/latest/secman/about.html">Secman</a>
            <a class="navbar-item" href="../../security/latest/audittrail/about.html">Audit Trail</a>
            <a class="navbar-item" href="../../security/latest/spring-oauth2/about.html">Spring OAuth2 Integration</a>
            <a class="navbar-item" href="../../security/latest/shiro-realm-ldap/about.html">LDAP Realm for Shiro</a>
            <a class="navbar-item" href="../../security/latest/sessionlog/about.html">Session Log</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Web UI (Wicket)</span>
            <a class="navbar-item" href="../../vw/latest/fullcalendar/about.html">Full Calendar</a>
            <a class="navbar-item" href="../../vw/latest/pdfjs/about.html">pdf.js</a>
            <a class="navbar-item" href="../../vw/latest/sse/about.html">Server Side Events</a>
            <a class="navbar-item" href="../../vw/latest/tabular/about.html">Tabular Download</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">REST API (Restful Objects)</span>
            <a class="navbar-item" href="../../vro/latest/cors/about.html">CORS</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Contact</span>
            <a class="navbar-item" href="../../docs/latest/support/slack-channel.html">Slack</a>
            <a class="navbar-item" href="../../docs/latest/support/mailing-list.html">Mailing Lists</a>
            <a class="navbar-item" href="https://issues.apache.org/jira/browse/CAUSEWAY">JIRA</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/causeway">Stack Overflow</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Releases</span>
            <a class="navbar-item" href="../../docs/latest/downloads/how-to.html">Downloads</a>
            <a class="navbar-item" href="../../relnotes/latest/about.html">Release Notes</a>
            <hr class="navbar-divider"/>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Framework</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Process</span>
            <a class="navbar-item" href="../../comguide/latest/about.html">Committers' Guide</a>
            <a class="navbar-item" href="../../tooling/latest/about.html">Tooling</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Automated Analysis</span>
            <a class="navbar-item" href="https://sonarcloud.io/dashboard?id=apache_causeway">SonarCloud.io</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Interim Builds</span>
            <a class="navbar-item" href="../../comguide/latest/nightly-builds.html">Nightly builds</a>
            <a class="navbar-item" href="../../comguide/latest/weekly-builds.html">Weekly builds</a>
            <a class="navbar-item" href="https://apache-causeway-committers.github.io/causeway-nightly">Website Preview (not ASF hosted)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Development</span>
            <a class="navbar-item" href="../../core/latest/about.html">Internal Design Docs</a>
            <a class="navbar-item" href="../../regressiontests/latest/about.html">Regression Tests</a>
            <a class="navbar-item" href="../../incubator/latest/about.html">Incubator</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Thanks</span>
            <a class="navbar-item" href="../../more-thanks/latest/more-thanks.html">Acknowledgements</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">ASF</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="http://www.apache.org/">Apache Homepage</a>
            <a class="navbar-item" href="https://www.apache.org/events/current-event">Events</a>
            <a class="navbar-item" href="https://www.apache.org/licenses/">License</a>
            <a class="navbar-item" href="https://www.apache.org/security/">Security</a>
            <a class="navbar-item" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <hr class="navbar-divider"/>
            <a class="navbar-item" href="https://whimsy.apache.org/board/minutes/Causeway.html">PMC board minutes</a>
          </div>
        </div>
        <a class="navbar-item" href="../../docs/latest/about.html">
          <span class="icon">
            <img src="../../_/img/home.png"></img>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body ">
<div class="nav-container" data-component="userguide" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-search hide-for-print">
  <input id="algolia-search-input" placeholder="Search"></span>
</div>
<div class="nav-panel-pagination">
  <a class="page-previous" rel="prev" href="modules.html" title="Modules"><span></span></a>
  <a class="page-next" rel="next"
     href="meta-annotations.html" title="Meta-annotations"><span></span></a>
<!--
page.parent doesn't seem to be set...
  <a class="page-parent disabled" rel="prev" href="" title="Modules"><span></span></a>
-->
</div>
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="about.html">User Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="overview.html">10,000ft overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="domain-entities.html">Domain Entities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="domain-services.html">Domain Services</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="properties-collections-actions.html">Properties, Collections &amp; Actions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ui-layout-and-hints.html">UI Layout &amp; Hints</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="business-rules.html">Business Rules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="drop-downs-and-defaults.html">Drop downs &amp; Defaults</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="view-models.html">View Models</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="mixins.html">Mixins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="events.html">Events</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="modules.html">Modules</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="value-types.html">Value types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="meta-annotations.html">Meta-annotations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="background-context-and-theory.html">Background, Context &amp; Theory</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="btb/about.html">Beyond the Basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="btb/headless-access.html">Headless Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="btb/programming-model.html">Programming Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="btb/hints-and-tips.html">Hints-n-Tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="btb/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="btb/troubleshooting-visibility-and-usability.html">Troubleshooting Visibility and Usability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="btb/i18n.html">Internationalization (i18n)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extensions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="commandlog/about.html">Command Log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="docgen/about.html">DocGen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="executionlog/about.html">Execution Log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="executionoutbox/about.html">Execution Outbox</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="executionrepublisher/about.html">Execution Republisher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="excel/about.html">Excel Library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="flyway/about.html">Flyway</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="layoutloaders/about.html">Layout Loaders</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="titlecache/about.html">Title Cache</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">User Guide</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title"> </span>
      <ul class="versions">
        <li class="version">
          <a href="../../docs/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Committers' Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../comguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Contributors' Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../conguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Design Docs</span>
      <ul class="versions">
        <li class="version">
          <a href="../../core/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions</span>
      <ul class="versions">
        <li class="version">
          <a href="../../extensions/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">GraphQL Viewer</span>
      <ul class="versions">
        <li class="version">
          <a href="../../gqlv/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Incubator Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../incubator/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JPA</span>
      <ul class="versions">
        <li class="version">
          <a href="../../pjpa/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">QueryDSL</span>
      <ul class="versions">
        <li class="version">
          <a href="../../querydsl/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Reference Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../refguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">regressiontests</span>
      <ul class="versions">
        <li class="version">
          <a href="../../regressiontests/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version">
          <a href="../../relnotes/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">REST API (Restful Objects Viewer)</span>
      <ul class="versions">
        <li class="version">
          <a href="../../vro/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../security/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Setup Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../setupguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing Guide</span>
      <ul class="versions">
        <li class="version">
          <a href="../../testing/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Tutorials</span>
      <ul class="versions">
        <li class="version">
          <a href="../../tutorials/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">User Guide</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Value Types Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../valuetypes/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Web UI (Wicket Viewer)</span>
      <ul class="versions">
        <li class="version">
          <a href="../../vw/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../docs/latest/about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="about.html">User Guide</a></li>
    <li><a href="value-types.html">Value types</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/apache/causeway/edit/main/antora/components/userguide/modules/ROOT/pages/value-types.adoc">Edit</a></div>
</div>
<article class="doc">
    <a name="section-top"></a>
<h1 class="page">Value types</h1>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The state managed by entities and view models is expressed in terms of <a href="properties-collections-actions.html" class="xref page">properties and collections</a>, with properties whose value either refers to other domain objects (reference types) or alternatively holds a value directly, in other words <strong>value types</strong>.
This latter is the topic of this page.</p>
</div>
<div class="paragraph">
<p>Apache Causeway supports a wide variety of value types, including JDK types (eg primitives, dates and <code>String</code>) Causeway-specific (eg <code>AsciiDoc</code>, <code>Vega</code>) and 3rd party (eg Joda Time).
Moreover it is possible to define your own custom types.
You can even teach the framework about other 3rd party libraries you might wish to use.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="programming-model"><a class="anchor" href="#programming-model"></a>Programming Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use a value type is generally very straightforward:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// ...
@Entity
@DomainObject(nature = ENTITY)
public class Customer {

    @Property(editing = Editing.ENABLED)        <i class="conum" data-value="1"></i><b>(1)</b>
    @Getter @Setter                             <i class="conum" data-value="2"></i><b>(2)</b>
    private String firstName;                   <i class="conum" data-value="3"></i><b>(3)</b>

    @Property(editing = Editing.ENABLED)
    @Getter @Setter
    private String lastName;

    @Property(editing = Editing.DISABLED)
    @Column(nullable = false)                   <i class="conum" data-value="4"></i><b>(4)</b>
    @Getter                                     <i class="conum" data-value="5"></i><b>(5)</b>
    private LocalDate dateOfBirth;

    @Property(editing = Editing.DISABLED)
    @Getter
    private Integer numberOfOrdersPlacedToDate;

    // ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Depending on configuration, values are usually annotated with <a href="../../refguide/latest/applib/index/annotation/Property.html" class="xref page">@Property</a>, indicating whether or not they can be edited directly.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Lombok avoids boilerplate.
A setter is required for editable property values.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Depending on context and type, value properties may require additional annotations.
<div class="paragraph">
<p>In this case we have the JPA <code>@Column</code> annotation.
A JAXB view model would require <code>@XmlJavaTypeAdapter(JavaTimeJaxbAdapters.LocalDateToStringAdapter.class)</code></p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Not setter is required since this property is not ediable.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the following sections we look at the other datatypes that you can use as the value types, and then we look at defining custom types.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jdk-types"><a class="anchor" href="#jdk-types"></a>JDK types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The most common value types to use are those built-into JDK.
None of the following require additional annotations when used in entities or view models:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>primitives</p>
<div class="paragraph">
<p><code>int</code>, <code>long</code>, <code>short</code>, <code>byte</code>, <code>char</code>, <code>float</code>, <code>double</code>, <code>boolean</code></p>
</div>
</li>
<li>
<p>wrappers</p>
<div class="paragraph">
<p><code>Integer</code>, <code>Long</code>, <code>Short</code>, <code>Byte</code>, <code>Character</code>, <code>Float</code>, <code>Double</code>, <code>Boolean</code></p>
</div>
</li>
<li>
<p><code>java.lang.String</code></p>
</li>
<li>
<p><code>java.math.BigInteger</code> and <code>java.math.BigDecimal</code></p>
<div class="paragraph">
<p>for arbitrary accuracy.
These can be combined with <code>@Digits</code> to specify scale.</p>
</div>
</li>
<li>
<p><code>java.util.UUID</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These are also a couple of value types that have special properties when rendered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.net.URL</code></p>
<div class="paragraph">
<p>Essentially a string, but will render as a hyperlink that the end-user can click</p>
</div>
</li>
<li>
<p><code>java.awt.image.BufferedImage</code></p>
<div class="paragraph">
<p>In essence a byte array containing a <code>.png</code> or similar.
Note though that properties if this type must be read-only.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">val bytes = _Bytes.of(_Resources.load(getClass(), "spring-boot-logo.png" ));
return javax.imageio.ImageIO.read(new ByteArrayInputStream(bytes));</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dates"><a class="anchor" href="#dates"></a>Dates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dates are also supported of course, though there are lots of options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in the <code>java.time</code> package; these are the most modern and generally is to be preferred:</p>
<div class="ulist">
<ul>
<li>
<p>local times (no time zone):</p>
<div class="paragraph">
<p><code>java.time.LocalDate,</code> <code>java.time.LocalTime</code>, <code>java.time.LocalDateTime</code></p>
</div>
</li>
<li>
<p>for storing date/time, with respect to the UTC:</p>
<div class="paragraph">
<p><code>java.time.OffsetDateTime</code>, <code>java.time.OffsetTime</code></p>
</div>
</li>
<li>
<p>primarily for <em>displaying</em> time in a specified time zone:</p>
<div class="paragraph">
<p><code>java.time.ZonedDateTime</code></p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>in the <code>java.util</code> package:</p>
<div class="paragraph">
<p><code>java.util.Date</code></p>
</div>
<div class="paragraph">
<p>The original date class, but unfortunately it is not immutable, and so is not a very good implementation of a value type.</p>
</div>
</li>
<li>
<p>in the <code>java.sql</code> package:</p>
<div class="paragraph">
<p><code>java.sql.Date,</code> <code>java.sql.Timestamp</code>.</p>
</div>
<div class="paragraph">
<p>Unfortunately also not immutable.
And <code>java.sql.Date</code> compounds the crimes by actually being a subclass of <code>java.util.Date</code>.
Nevertheless, these are sometimes used for optimistic locking.</p>
</div>
</li>
<li>
<p>in <code>org.joda.time</code> package; a very popular 3rd party library that is still widely.
The JDK <code>java.time</code> library took substantial inspiration from Joda.</p>
<div class="ulist">
<ul>
<li>
<p>local date/times (no timezone)</p>
<div class="paragraph">
<p><code>org.joda.time.LocalDate,</code> <code>org.joda.time.LocalDateTime,</code> <code>org.joda.time.LocalTime</code></p>
</div>
</li>
<li>
<p>exact</p>
<div class="paragraph">
<p><code>org.joda.time.DateTime</code> (similar to <code>java.time.ZonedDateTime</code>)</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on context, additional entities may be required on the property&#8217;s field:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When used in entities, some of these classes may require <code>@Column</code> to be specified (it never hurts to do so anyway).</p>
</li>
<li>
<p>When used in JAXB view models, they all <em>will</em> require <code>@XmlJavaTypeAdapter</code> to be specified.
This tells JAXB how to serialize the value in and out of XML.
Apache Causeway provides adapters for all of these.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to supporting JDK and Joda, Apache Causeway defines a number of its own custom value types, described next.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="causeway-specific"><a class="anchor" href="#causeway-specific"></a>Causeway-specific</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apache Causeway defines a number of its own value types.</p>
</div>
<div class="paragraph">
<p>In the <code>org.apache.causeway.applib.value</code> we have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Blob</code></p>
<div class="paragraph">
<p>binary large object, suitable for capturing images, Word documents, Excel spreadsheets, PDFs and so on.</p>
</div>
<div class="paragraph">
<p>If this is used to store a PDF, then the <a href="../../refguide/latest/extensions/index/pdfjs/applib/annotations/PdfJsViewer.html" class="xref page">@PdfJsViewer</a> (from the <a href="../../vw/latest/pdfjs/about.html" class="xref page">PDF.js</a> extension) will cause the <a href="../../vw/latest/about.html" class="xref page">Wicket viewer</a> to render it as a PDF.</p>
</div>
</li>
<li>
<p><code>Clob</code></p>
<div class="paragraph">
<p>Character large object, suitable for text, RFT, base 64 encoded data and similar.</p>
</div>
</li>
<li>
<p><code>Markup</code></p>
<div class="paragraph">
<p>Intended to holds HTML markup.
The <a href="../../vw/latest/about.html" class="xref page">Wicket viewer</a> will render this more or less verbatim.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Take care to sanitize inputs!
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>LocalResourcePath</code></p>
<div class="paragraph">
<p>Resolves to a resource path local to the webapp.
The primary use case for this value type is not as a property, but instead as a return type for an action.
In such cases it will cause the web browser to redirect to the resource.</p>
</div>
<div class="paragraph">
<p>There are several such built-in resources that can be useful in a development/prototyping context:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/restful/</code> - the REST API</p>
</li>
<li>
<p><code>/swagger-ui/index.thtml</code> - the Swagger UI</p>
</li>
<li>
<p><code>/db/</code> - the H2 database console</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You could of course also define additional resources for your own requirements.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above value types are part of the core framework.
There are also several value types that are packaged as extensions in the <a href="../../valuetypes/latest/about.html" class="xref page">Value Types Catalog</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AsciiDoc</code>, provided by the <a href="../../valuetypes/latest/asciidoc/about.html" class="xref page">asciidoc</a> value type extension</p>
<div class="paragraph">
<p>This renders <a href="https://docs.asciidoctor.org/">Asciidoctor</a> content as HTML.</p>
</div>
</li>
<li>
<p><code>Markdown</code>, provided by the <a href="../../valuetypes/latest/markdown/about.html" class="xref page">markdown</a> value type extension</p>
<div class="paragraph">
<p>This renders Markdown content (as defined by the <a href="https://spec.commonmark.org/0.28/">CommonMark</a> spec) as HTML.</p>
</div>
</li>
<li>
<p><code>Vega</code>, provided by the <a href="../../valuetypes/latest/vega/about.html" class="xref page">vega</a> value type extension</p>
<div class="paragraph">
<p>This renders graphics defined by the <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> grammar.</p>
</div>
</li>
<li>
<p><code>Joda Time</code>, provided by the <a href="#valuetypes:jodatime:about.adoc" class="xref unresolved">jodatime</a> value type extension</p>
<div class="paragraph">
<p>This provides support for four value types defined within the <a href="https://www.joda.org/joda-time/">Joda Time</a> library.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="custom-value-types"><a class="anchor" href="#custom-value-types"></a>Custom value types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As well as the built-in support and extensions provided by Apache Causeway, it is also possible to implement your own custom value types.</p>
</div>
<div class="paragraph">
<p>Implementing value types can be a great way of encapsulating functionality.
Rather than have your entities and view models be concerned about the format of an invoice number, instead define an <code>InvoiceNumber</code>.
Similarly, instead of littering your entities and view models with the same logic to ensure that a startDate &lt;= endDate, instead define a <code>DateInterval</code> value type.</p>
</div>
<div class="sect2">
<h3 id="scalar-value-types"><a class="anchor" href="#scalar-value-types"></a>Scalar value types</h3>
<div class="paragraph">
<p>By way of example, let&#8217;s define an <code>EmailAddress</code> value type.</p>
</div>
<div class="paragraph">
<p>The value type itself is pretty easy:</p>
</div>
<div class="listingblock">
<div class="title">EmailAddress.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@org.apache.causeway.applib.annotation.Value        <i class="conum" data-value="1"></i><b>(1)</b>
@lombok.Value                                       <i class="conum" data-value="2"></i><b>(2)</b>
@lombok.AllArgsConstructor(staticName = "of")       <i class="conum" data-value="3"></i><b>(3)</b>
public class EmailAddress {
    String emailAddress;                            <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Defines this as a value type to the framework</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Uses lombok to define getters, a <code>hashCode()</code>, <code>equals()</code>, <code>toString()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Uses lombok to a factory method (makes the constructor private).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The single data attribute</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>And it can be used in an entity or a view model just like a built-in value type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// ..
@DomainObject(nature=Nature.ENTITY)
public class Customer {

    @Property(editing = Editing.ENABLED)
    @Getter @Setter
    private EmailAddress emailAddress;
    // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, we need some glue to "teach" the framework how to render with the value type.
This is done using an implementation of the <a href="../../refguide/latest/applib/index/value/semantics/ValueSemanticsProvider.html" class="xref page">ValueSemanticsProvider</a> SPI:</p>
</div>
<div class="listingblock">
<div class="title">EmailAddressValueSemantics.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named("demo.EmailAddressValueSemantics")
@Component
public class EmailAddressValueSemantics
        extends ValueSemanticsAbstract&lt;EmailAddress&gt; {

    @Override
    public Class&lt;EmailAddress&gt; getCorrespondingClass() {
        return EmailAddress.class;
    }

    @Override
    public ValueType getSchemaValueType() {
        return ValueType.STRING;                                            <i class="conum" data-value="1"></i><b>(1)</b>
    }

    @Override
    public ValueDecomposition decompose(final EmailAddress value) {         <i class="conum" data-value="2"></i><b>(2)</b>
        return decomposeAsNullable(value, EmailAddress::getEmailAddress, ()-&gt;null);
    }

    @Override
    public EmailAddress compose(final ValueDecomposition decomposition) {   <i class="conum" data-value="3"></i><b>(3)</b>
        return composeFromNullable(
                decomposition, ValueWithTypeDto::getString, EmailAddress::of, ()-&gt;null);
    }

    @Override
    public DefaultsProvider&lt;EmailAddress&gt; getDefaultsProvider() {           <i class="conum" data-value="4"></i><b>(4)</b>
        return new DefaultsProvider&lt;EmailAddress&gt;() {
            @Override
            public EmailAddress getDefaultValue() {
                return EmailAddress.of("");
            }
        };
    }

    @Override
    public Renderer&lt;EmailAddress&gt; getRenderer() {                           <i class="conum" data-value="5"></i><b>(5)</b>
        return new Renderer&lt;&gt;() {
            @Override
            public String titlePresentation(Context context, EmailAddress emailAddress) {
                return emailAddress == null ? null : emailAddress.getEmailAddress();
            }
        };
    }

    @Override
    public Parser&lt;EmailAddress&gt; getParser() {                               <i class="conum" data-value="6"></i><b>(6)</b>
        return new Parser&lt;&gt;() {
            // https://stackoverflow.com/a/47181151
            final Pattern REGEX = Pattern.compile("^[\\w-\\+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-zA-Z]{2,})$");

            @Override
            public String parseableTextRepresentation(Context context, EmailAddress value) {
                return renderTitle(value, EmailAddress::getEmailAddress);
            }

            @Override
            public EmailAddress parseTextRepresentation(Context context, String text) {
                if(!REGEX.matcher(text).matches()) {
                    throw new RuntimeException("Invalid email format");
                }
                if (_Strings.isEmpty(text)) return null;
                return EmailAddress.of(text);
            }

            @Override
            public int typicalLength() {
                return 20;
            }

            @Override
            public int maxLength() {
                return 50;
            }
        };
    }

    @Override
    public IdStringifier&lt;EmailAddress&gt; getIdStringifier() {                 <i class="conum" data-value="7"></i><b>(7)</b>
        return new IdStringifier.EntityAgnostic&lt;&gt;() {
            @Override
            public Class&lt;EmailAddress&gt; getCorrespondingClass() {
                return EmailAddressValueSemantics.this.getCorrespondingClass();
            }

            @Override
            public String enstring(@NonNull EmailAddress value) {
                return _Strings.base64UrlEncode(value.getEmailAddress());
            }

            @Override
            public EmailAddress destring(@NonNull String stringified) {
                return EmailAddress.of(_Strings.base64UrlDecode(stringified));
            }
        };
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>determines the UI widget that the framework uses to display/edit the value</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the <code>compose()</code> and <code>decompose()</code> methods are used to serialize the object using the structures defined by the <a href="https://causeway.apache.org/refguide/2.0.0-RC1/schema/about.html">XSD schemas</a>.
<div class="paragraph">
<p>Using this, the framework can render the composite value as JSON (as used by the REST API), or to XML, as used by SPIs such as <a href="../../refguide/latest/applib/index/services/publishing/spi/CommandSubscriber.html" class="xref page">CommandSubscriber</a> (see <a href="../../refguide/latest/applib/index/services/command/Command.html" class="xref page">Command</a> and <a href="../../refguide/latest/schema/cmd.html" class="xref page">CommandDto</a>).</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the <code>getDefaultsProvider()</code> provides an initial value (eg non-nullable properties)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the <code>getRenderer()</code> is used to render the value as a string.
An HTML representation can also be provided, though this type doesn’t warrant one.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the <code>getParser()</code> is used to convert the string (entered in the UI) into the value type.
If the value entered is invalid, then an exception can be thrown.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the <code>getIdStringifier()</code> allows the value type to be used as (part of) an identifier of the object.
The string returned must be URL safe.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As we can see, this is not the simplest of APIs, but the simplification it brings to your entities and view models that can now <em>consume</em> your new value type means that it may be worth the effort.</p>
</div>
<div class="paragraph">
<p>We&#8217;re not quite finished with the glue code, unfortunately.
Chances are that you will want to persist the new value to the database, which means that the ORM also requires its own SPI to be implemented (but they are almost identical).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if using <a href="../../pjpa/latest/about.html" class="xref page">JPA</a>, then implement the <code>javax.persistence.AttributeConverter</code> SPI:</p>
<div class="listingblock">
<div class="title">EmailAddressConverter.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Converter(autoApply = true)
public class EmailAddressConverter implements AttributeConverter&lt;EmailAddress, String&gt;{

    @Override
    public String convertToDatabaseColumn(final EmailAddress memberValue) {
        return memberValue != null
                ? memberValue.getEmailAddress()
                : null;
    }

    @Override
    public EmailAddress convertToEntityAttribute(final String datastoreValue) {
        return datastoreValue != null
                ? EmailAddress.of(datastoreValue)
                : null;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>if using <a href="#pjdo::about.adoc" class="xref unresolved">JDO</a>, then implement the <code>org.datanucleus.store.types.converters.TypeConverter</code> SPI:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class EmailAddressConverter implements TypeConverter&lt;EmailAddress, String&gt;{

    private static final long serialVersionUID = 1L;

    @Override
    public String toDatastoreType(final EmailAddress memberValue) {
        return memberValue != null
                ? memberValue.getEmailAddress()
                : null;
    }

    @Override
    public EmailAddress toMemberType(final String datastoreValue) {
        return datastoreValue != null
                ? EmailAddress.of(datastoreValue)
                : null;
    }
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="composite-value-types"><a class="anchor" href="#composite-value-types"></a>Composite value types</h3>
<div class="paragraph">
<p>A composite value type consists of several simple values.
By way of example, let&#8217;s consider a <code>DateInterval</code>, with a <code>startDate</code> and an <code>endDate</code>, and where we want to enforce that <code>startDate</code> &lt;= <code>endDate</code> at all times.</p>
</div>
<div class="listingblock">
<div class="title">DateInterval.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@org.apache.causeway.applib.annotation.Value
@lombok.Value
@lombok.AllArgsConstructor(staticName = "of")
public class DateInterval {

    LocalDate startDate ;                                       <i class="conum" data-value="1"></i><b>(1)</b>
    LocalDate endDate;                                          <i class="conum" data-value="1"></i><b>(1)</b>

    public boolean overlaps(DateInterval other) {               <i class="conum" data-value="2"></i><b>(2)</b>
        return toJoda().overlap(other.toJoda());
    }
    public DateInterval gap(DateInterval other) {               <i class="conum" data-value="2"></i><b>(2)</b>
        return fromJoda(toJoda().gap(other.toJoda()));
    }
    private Interval toJoda() {                                 <i class="conum" data-value="3"></i><b>(3)</b>
        return new Interval(startDate, endDate);
    }
    private static DateInterval fromJoda(Interval interval) {   <i class="conum" data-value="3"></i><b>(3)</b>
        return interval == null
                ? null
                : DateInterval.of(
                    interval.getStart().toLocalDate(),
                    interval.getEnd().toLocalDate());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The internal fields</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>It&#8217;s common for value types to have a set of methods that act upon them (sometimes called an "algebra").</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Internally we leverage Joda to do the heavy lifting.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The value type can be used in entities and view models the same as any other value type.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// ..
@DomainObject(nature=Nature.ENTITY)
public class CarRental {

    @Property(editing = Editing.ENABLED)
    @Getter @Setter
    private DateInterval dateInterval;
    // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As with scalar custom types, we need some glue to "teach" the framework how to render with the value type, though it works slightly differently; rather than parsing text input to set the value, instead we provide a special mixin that the framework uses to prompt for the constituent values.
The name of this mixin is always called "default".</p>
</div>
<div class="paragraph">
<p>For our <code>DateInterval</code> example:</p>
</div>
<div class="listingblock">
<div class="title">DateInterval_default.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Action(semantics = SemanticsOf.SAFE)
@ActionLayout(promptStyle = PromptStyle.INLINE_AS_IF_EDIT)          <i class="conum" data-value="1"></i><b>(1)</b>
@RequiredArgsConstructor
public class DateInterval_default {                                 <i class="conum" data-value="2"></i><b>(2)</b>

    private final DateInterval mixee;

    @MemberSupport public DateInterval act(
            final LocalDate startDate,
            final LocalDate endDate
    ) {
        return DateInterval.of(startDate, endDate);
    }
    @MemberSupport public LocalDate defaultStartDate() {
        return mixee.getStartDate();
    }
    @MemberSupport public LocalDate defaultEndDate() {
        return mixee.getEndDate();
    }
    @MemberSupport public LocalDate validateAct(                    <i class="conum" data-value="3"></i><b>(3)</b>
            final LocalDate startDate,
            final LocalDate endDate) {
        return startDate.isBefore(endDate)
                    ? null
                    : "Start date must be before the end date";
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The "default" action <em>must</em> use this prompt style</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Must be named "default"</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Enforces validation constraints</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition, we also need an implementation of the <a href="../../refguide/latest/applib/index/value/semantics/ValueSemanticsProvider.html" class="xref page">ValueSemanticsProvider</a> SPI:</p>
</div>
<div class="listingblock">
<div class="title">DateIntervalValueSemantics.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named("demo.DateIntervalValueSemantics")
@Component
@Import({
        DateInterval_default.class                                          <i class="conum" data-value="1"></i><b>(1)</b>
})
@RequiredArgsConstructor(onConstructor_ = { @Inject })
public class DateIntervalValueSemantics
        extends ValueSemanticsAbstract&lt;DateInterval&gt; {

    final ClockService clockService;

    @Override
    public Class&lt;DateInterval&gt; getCorrespondingClass() {
        return DateInterval.class;
    }

    @Override
    public ValueType getSchemaValueType() {                                 <i class="conum" data-value="2"></i><b>(2)</b>
        return ValueType.COMPOSITE;
    }

    @Override
    public ValueDecomposition decompose(final DateInterval value) {         <i class="conum" data-value="3"></i><b>(3)</b>
        return CommonDtoUtils.typedTupleBuilder(value)
                .addFundamentalType(ValueType.LOCAL_DATE, "startDate", DateInterval::getStartDate)
                .addFundamentalType(ValueType.LOCAL_DATE, "endDate", DateInterval::getEndDate)
                .buildAsDecomposition();
    }

    @Override
    public DateInterval compose(final ValueDecomposition decomposition) {   <i class="conum" data-value="3"></i><b>(3)</b>
        return decomposition.right()
                .map(CommonDtoUtils::typedTupleAsMap)
                .map(map-&gt; DateInterval.of(
                        (LocalDate)map.get("startDate"),
                        (LocalDate)map.get("endDate")))
                .orElse(null);
    }

    @Override
    public DefaultsProvider&lt;DateInterval&gt; getDefaultsProvider() {           <i class="conum" data-value="4"></i><b>(4)</b>
        val nowAsMilli = clockService.getClock().now().toEpochMilli();
        val now = new org.joda.time.DateTime(nowAsMilli).toLocalDate();
        return ()-&gt; DateInterval.of(now, now.plusDays(7));
    }

    @Override
    public Renderer&lt;DateInterval&gt; getRenderer() {                           <i class="conum" data-value="5"></i><b>(5)</b>
        return new Renderer&lt;&gt;() {
            @Override
            public String titlePresentation(Context context, DateInterval object) {
                if (object == null) return "(none)";
                return "[" + object.getStartDate() + ", " + object.getEndDate() + "]";
            }
        };
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declares the existence of the "default" mixin.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Indicates this is a composite, and therefore that the value should be manipulated in the UI by way of the "default" mixin&#8217;s prompt</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the <code>compose()</code> and <code>decompose()</code> methods are used to serialize the object using the structures defined by the <a href="https://causeway.apache.org/refguide/2.0.0-RC1/schema/about.html">XSD schemas</a>.
<div class="paragraph">
<p>Using this, the framework can render the composite value as JSON (as used by the REST API), or to XML, as used by SPIs such as <a href="../../refguide/latest/applib/index/services/publishing/spi/CommandSubscriber.html" class="xref page">CommandSubscriber</a> (see <a href="../../refguide/latest/applib/index/services/command/Command.html" class="xref page">Command</a> and <a href="../../refguide/latest/schema/cmd.html" class="xref page">CommandDto</a>).</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the <code>getDefaultsProvider()</code> provides an initial value (eg non-nullable properties)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the <code>getRenderer()</code> is used to render the value as a string.
An HTML representation can also be provided, though this type doesn’t warrant one.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Compared to scalar types, note that the <code>ValueSemanticsProvider</code> does not need to provide an implementation of <code>getParser()</code> - instead the "default" mixin does this work.
Also, it is not possible to use a custom value type as part of the object&#8217;s id, and so no implementation of <code>getIdStringifier()</code> is required either.</p>
</div>
<div class="paragraph">
<p>If using within the database then you will also need to map the custom type to the database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if mapping to <a href="../../pjpa/latest/about.html" class="xref page">JPA/EclipseLink</a>, use <code>@Embedded</code> and <code>@Embeddable</code>; see for example <a href="https://www.baeldung.com/jpa-embedded-embeddable">this baeldung post</a> on the topic.</p>
</li>
<li>
<p>If mapping to <a href="#pjdo::about.adoc" class="xref unresolved">JDO/DataNucleus</a>, use <code>@Embedded</code> and <code>@PersistenceCapable(embeddedOnly="true")</code>; see <a href="https://www.datanucleus.org/products/accessplatform_6_0/jdo/mapping.html#embedded">Datanucleus documentation</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside toc hide-for-print" role="navigation">
    <p class="toc-title">On this page</p>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="content">
        <div class="copyright">
            <p>
                Copyright © 2010~2024 The Apache Software Foundation, licensed under the Apache License, v2.0.
                <br/>
                Apache, the Apache feather logo, Apache Causeway, and the Apache Causeway project logo are all trademarks of The Apache Software Foundation.
            </p>
        </div>
        <div class="revision">
            <p>Revision: 4.0.0-SNAPSHOT.20251015-1619-ac4980e3</p>
        </div>
    </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/jquery-3.4.1.min.js"></script>
<script src="../../_/js/vendor/jquery-ui-1.12.1.custom.widget-only.min.js"></script>
<script src="../../_/js/vendor/jquery.tocify.min.js"></script>

<script>
    $(function() {
        $("#article-toc").tocify( {
            showEffect: "slideDown",
            hashGenerator: "pretty",
            hideEffect: "slideUp",
            selectors: "h2, h3",
            scrollTo: 120,
            smoothScroll: true,
            theme: "jqueryui",
            highlightOnScroll: true
        } );
    });
</script>

<script src="../../_/js/vendor/docsearch.min.js"></script>
<script>
  function focusSearchInput () { document.querySelector('#algolia-search-input').focus() }
  var search = docsearch({
    appId: '5ISP5TFAEN',
    apiKey: '0fc51c28b4ad46e7318e96d4e97fab7c',
    indexName: 'causeway-apache-org',
    inputSelector: '#algolia-search-input',
    autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
    debug: false,
  }).autocomplete
  search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
  focusSearchInput()
  window.addEventListener('load', focusSearchInput);
</script>

<!--
  docsearch options:
  https://docsearch.algolia.com/docs/behavior/
-->
<!--
  https://www.algolia.com/doc/api-reference/api-parameters/
  algoliaOptions: { hitsPerPage: 6 },
-->
  </body>
</html>
