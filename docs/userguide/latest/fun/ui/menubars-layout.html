<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Menu Bars Layout :: Apache Isis</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/site-custom.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Raleway:300,400,500,700,800|Montserrat:300,400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<link rel="home" href="../../../.." title="Apache Isis">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">
          <span class="icon">
            <img src="../../../../_/img/isis-logo-48x48.png"></img>
          </span>
        <span>Apache Isis</span>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <a class="navbar-end">
        <div class="navbar-item hide-for-print">
          <span>
            <input id="algolia-search-input" placeholder="Search"></span>
          </span>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Quick Start</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Starter Apps</span>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/starters/helloworld.html">Hello World</a>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/starters/simpleapp.html">Simple App</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Demos &amp; Tutorials</span>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/demo/about.html">Demo App</a>
            <a class="navbar-item" href="https://danhaywood.gitlab.io/isis-petclinic-tutorial-docs/petclinic/1.16.2/intro.html">Petclinic (tutorial)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Resources</span>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/resources/cheatsheet.html">Cheatsheet</a>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/resources/icons.html">Icons</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Development</span>
            <a class="navbar-item" href="../../../../setupguide/2.0.0-M7/about.html">Setup Guide</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Core</span>
            <a class="navbar-item" href="../../../../userguide/2.0.0-M7/about.html">User Guide</a>
            <a class="navbar-item" href="../../../../refguide/2.0.0-M7/about.html">Reference Guide</a>
            <a class="navbar-item" href="../../../../testing/2.0.0-M7/about.html">Testing Guide</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Components</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Viewers</span>
            <a class="navbar-item" href="../../../../vw/2.0.0-M7/about.html">Web UI (Wicket)</a>
            <a class="navbar-item" href="../../../../vro/2.0.0-M7/about.html">REST API (Restful Objects)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Persistence</span>
            <a class="navbar-item" href="../../../../pjpa/2.0.0-M7/about.html">JPA (EclipseLink)</a>
            <a class="navbar-item" href="../../../../pjdo/2.0.0-M7/about.html">JDO (DataNucleus)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../../../../security/2.0.0-M7/about.html">Security Guide</a>
            <hr class="navbar-divider"/>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Libraries</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">For Use in Apps</span>
            <a class="navbar-item" href="../../../../subdomains/2.0.0-M7/about.html">Subdomain Libraries</a>
            <a class="navbar-item" href="../../../../valuetypes/2.0.0-M7/about.html">Value Type Catalog</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Integrate between Apps</span>
            <a class="navbar-item" href="../../../../mappings/2.0.0-M7/about.html">Bounded Context Mapping Libraries</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Extending the framework itself</span>
            <a class="navbar-item" href="../../../../extensions/2.0.0-M7/about.html">Extensions Catalog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Contact</span>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/support/slack-channel.html">Slack</a>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/support/mailing-list.html">Mailing Lists</a>
            <a class="navbar-item" href="https://issues.apache.org/jira/browse/ISIS">JIRA</a>
            <a class="navbar-item" href="https://stackoverflow.com/questions/tagged/isis">Stack Overflow</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Releases</span>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/downloads/how-to.html">Downloads</a>
            <a class="navbar-item" href="../../../../relnotes/2.0.0-M7/about.html">Release Notes</a>
            <a class="navbar-item" href="../../../../docs/2.0.0-M7/archive/1-x.html">Archive (1.x)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Framework</span>
            <a class="navbar-item" href="../../../../conguide/2.0.0-M7/about.html">Contributors' Guide</a>
            <a class="navbar-item" href="../../../../comguide/2.0.0-M7/about.html">Committers' Guide</a>
            <a class="navbar-item" href="../../../../core/2.0.0-M7/about.html">Core Design</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">ASF</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="http://www.apache.org/">Apache Homepage</a>
            <a class="navbar-item" href="https://www.apache.org/events/current-event">Events</a>
            <a class="navbar-item" href="https://www.apache.org/licenses/">Licenses</a>
            <a class="navbar-item" href="https://www.apache.org/security/">Security</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <hr class="navbar-divider"/>
            <a class="navbar-item" href="https://whimsy.apache.org/board/minutes/Isis.html">PMC board minutes</a>
          </div>
        </div>
        <a class="navbar-item" href="../../../../docs/2.0.0-M7/about.html">
          <span class="icon">
            <img src="../../../../_/img/home.png"></img>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body ">
<div class="nav-container" data-component="userguide" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-pagination">
  <a class="page-previous disabled" rel="prev" href="" title=""><span></span></a>
  <a class="page-next disabled" rel="next"
     href="" title=""><span></span></a>
<!--
page.parent doesn't seem to be set...
  <a class="page-parent disabled" rel="prev" href="" title=""><span></span></a>
-->
</div>
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../about.html">User Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../concepts-patterns.html">Concepts &amp; Patterns</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../domain-entities-and-services.html">Domain Entities &amp; Services</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../object-members.html">Properties, Collections &amp; Actions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ui.html">UI Layout &amp; Hints</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../business-rules.html">Business Rules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../drop-downs-and-defaults.html">Drop downs and Defaults</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../meta-annotations.html">Meta-annotations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../view-models.html">View Models</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mixins.html">Mixins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../btb/about.html">Beyond the Basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../btb/i18n.html">i18n</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../btb/headless-access.html">Headless Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../btb/hints-and-tips.html">Hints-n-Tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../btb/programming-model.html">Programming Model</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extensions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../command-log/about.html">Command Log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../command-replay/about.html">Command Replay</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../flyway/about.html">Flyway</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../quartz/about.html">Quartz</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">User Guide</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title"> </span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../docs/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">BC Mapping Libraries</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../mappings/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Committers' Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../comguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Contributors' Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../conguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Design Docs</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../core/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../extensions/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Incubator Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../incubator/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JDO/DataNucleus</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../pjdo/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JPA</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../pjpa/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Reference Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../refguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../relnotes/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">REST API (Restful Objects Viewer)</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../vro/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../security/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Setup Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../setupguide/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Subdomains Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../subdomains/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../testing/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Tooling</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tooling/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">User Guide</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Value Types Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../valuetypes/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Web UI (Wicket Viewer)</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../vw/latest/about.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../docs/latest/about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../about.html">User Guide</a></li>
    <li><a href="menubars-layout.html">Menu Bars Layout</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/apache/isis/edit/master/antora/components/userguide/modules/fun/pages/ui/menubars-layout.adoc">Edit</a></div>
</div>
<article class="doc">
    <a name="section-top"></a>
<h1 class="page">Menu Bars Layout</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The actions of <a href="../domain-entities-and-services.html#domain-services" class="page">domain services</a> (annotated using <a href="../../../../refguide/latest/applib/index/annotation/DomainService.html" class="page">@DomainService</a> with a <a href="../../../../refguide/latest/applib/index/annotation/DomainService.html#nature" class="page">nature</a> of <code>VIEW</code>) are made available as menu items on menus.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainService(
        nature = NatureOfService.VIEW,                              <i class="conum" data-value="1"></i><b>(1)</b>
        objectType = "simple.SimpleObjects"
        )
public class SimpleObjects {
    // ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Domain service with actions visible in the UI</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default each domain service corresponds to a single menu on this menu bar, with its actions as the drop-down menu items.</p>
</div>
<div class="paragraph">
<p>By annotating the domain service class and its actions, it&#8217;s possible to have a little more control over the placement of the menu items; this is discussed <a href="#annotation-based-menus">below</a>.</p>
</div>
<div class="paragraph">
<p>For more fine-grained control, though, the <code>menubars.layout.xml</code> file can be supplied, as discussed <a href="#file-based-menus">after</a>.
This file is also read dynamically at runtime, so layouts can be changed during prototyping and the page reloaded to check.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="annotation-based-menus"><a class="anchor" href="#annotation-based-menus"></a>Annotation-based</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If using annotations, services can be added to either the primary, secondary or tertiary menu bar, as shown in this screenshot shows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/application-menu/layout-menus.png" alt="layout menus" width="800px">
</div>
</div>
<div class="paragraph">
<p>This is done using the <a href="../../../../refguide/latest/applib/index/annotation/DomainServiceLayout.html#menuBar" class="page">@DomainServiceLayout#menuBar()</a> annotation.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainService(
        nature = NatureOfService.VIEW,                              <i class="conum" data-value="1"></i><b>(1)</b>
        objectType = "simple.SimpleObjects"
        )
@DomainServiceLayout(menuBar = DomainServiceLayout.MenuBar.PRIMARY) <i class="conum" data-value="2"></i><b>(2)</b>
public class SimpleObjects {
    // ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Domain service with actions visible in the UI</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Menu for the service added to the primary menu bar.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The tertiary menu bar consists of a single unnamed menu, rendered underneath the user&#8217;s login, top right.
This is intended primarily for actions pertaining to the user themselves, eg their account, profile or settings:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/application-menu/tertiary.png" alt="tertiary" width="300px">
</div>
</div>
<div class="paragraph">
<p>In addition, the <a href="../../../../refguide/latest/applib/index/annotation/ActionLayout.html" class="page">@ActionLayout</a> annotation can be used to group and order domain service actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@ActionLayout#named()</code> is used to define the name of the menu</p>
<div class="paragraph">
<p>in which the menu items of the domain service action will appear</p>
</div>
</li>
<li>
<p><code>@ActionLayout#sequence()</code> is used to order menu items within that menu.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thus, using <code>named()</code> it&#8217;s possible to group menu items from actions that are from different domain services.</p>
</div>
<div class="paragraph">
<p>There are some significant limitations, however:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>domain services are added to the menu bar alphabetically.
This cannot be controlled using annotations.</p>
</li>
<li>
<p>there is no way to order or group menu items from multiple domain services that appear on the same menu.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The annotation based approach is therefore useful during very early prototyping, but in real-world applications you should use <a href="../ui.html#file-based-menus" class="page">file based</a> menu layouts.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="file-based-menus"><a class="anchor" href="#file-based-menus"></a><code>menubars.layout.xml</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rather than use annotations to specify the location of menu items corresponding to the domain services' actions, the framework instead allow domain service actions to be arranged  using the <code>menubars.layout.xml</code> file.</p>
</div>
<div class="paragraph">
<p>This offers a number of benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Probably most significantly, the layout can be updated without requiring a recompile of the code and redeploy of the app; fine-tuning the layout with your end users is easy to do</p>
</li>
<li>
<p>You&#8217;ll probably find it easier to reason about menu bars layout when all the hints are collated together in a single place (rather than scattered across the domain service classes as annotations).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are some disadvantages to using file-based layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>file-based layouts are not typesafe: a typo will result in the metadata not being picked up for the element.</p>
</li>
<li>
<p>they also suffer from syntactic fragility: an invalid XML document could result in no metadata for the entire class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>menubars.layout.xml</code> file is just the serialized form of a <a href="../../../../refguide/latest/applib-classes/layout/menubars.html" class="page">MenuBars</a> layout class defined within Apache Isis' applib.
These are JAXB-annotated classes with corresponding XSD schemas; the upshot of that
is that IDEs such as IntelliJ and Eclipse can provide "intellisense", making it easy to author such layout files.</p>
</div>
<div class="paragraph">
<p>For example, here&#8217;s a fragment of that provided by the <a href="../../../../docs/latest/starters/simpleapp.html" class="page">SimpleApp</a> starter app:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;mb3:menuBars
    xsi:schemaLocation="..."
    xmlns:cpt="http://isis.apache.org/applib/layout/component"
    xmlns:lnk="http://isis.apache.org/applib/layout/links"
    xmlns:mb3="http://isis.apache.org/applib/layout/menubars/bootstrap3"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;mb3:primary&gt;                                               <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;mb3:menu&gt;                                              <i class="conum" data-value="2"></i><b>(2)</b>
            &lt;mb3:named&gt;Simple Objects&lt;/mb3:named&gt;
            &lt;mb3:section&gt;                                       <i class="conum" data-value="3"></i><b>(3)</b>
                &lt;mb3:serviceAction                              <i class="conum" data-value="4"></i><b>(4)</b>
                        objectType="simple.SimpleObjects"       <i class="conum" data-value="5"></i><b>(5)</b>
                        id="create"&gt;
                    &lt;cpt:named&gt;Create&lt;/cpt:named&gt;               <i class="conum" data-value="6"></i><b>(6)</b>
                &lt;/mb3:serviceAction&gt;
                &lt;mb3:serviceAction
                        objectType="simple.SimpleObjects"
                        id="findByName"&gt;
                    &lt;cpt:named&gt;Find By Name&lt;/cpt:named&gt;
                &lt;/mb3:serviceAction&gt;
                &lt;mb3:serviceAction
                        objectType="simple.SimpleObjects"
                        id="listAll"&gt;
                    &lt;cpt:named&gt;List All&lt;/cpt:named&gt;
                &lt;/mb3:serviceAction&gt;
            &lt;/mb3:section&gt;
        &lt;/mb3:menu&gt;
        &lt;mb3:menu unreferencedActions="true"&gt;                   <i class="conum" data-value="7"></i><b>(7)</b>
            &lt;mb3:named&gt;Other&lt;/mb3:named&gt;
        &lt;/mb3:menu&gt;
    &lt;/mb3:primary&gt;
    &lt;mb3:secondary&gt;                                             <i class="conum" data-value="8"></i><b>(8)</b>
        &lt;mb3:menu&gt;
            &lt;mb3:named&gt;Prototyping&lt;/mb3:named&gt;
            ...
    &lt;/mb3:secondary&gt;
    &lt;mb3:tertiary&gt;                                              <i class="conum" data-value="9"></i><b>(9)</b>
        &lt;mb3:menu&gt;
            ...
        &lt;/mb3:menu&gt;
    &lt;/mb3:tertiary&gt;
&lt;/mb3:menuBars&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Primary menu bar.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Menu on the menu bar</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>References an action of a domain service</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Divider is placed between each section</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Identifies the service through its <a href="../../../../refguide/latest/applib/index/annotation/DomainService.html#objectType" class="page">object type</a></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Optionally override the name inferred from the action</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Domain service actions not specified elsewhere are displayed on the "Other" menu (with <code>unreferencedActions</code> attribute set to <code>true</code>).<br>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
For a layout file to be valid there must be exactly one <code>&lt;menu&gt;</code> with the
<code>unreferencedActions</code> attribute set.
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Secondary menu bar.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Tertiary menu bar.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Any domain service actions that are not explicitly listed will be placed under this menu.</p>
</div>
<div class="paragraph">
<p>The downloaded <code>menubars.layout.xml</code> file can be adjusted as necessary, creating new menus and menu sections.
Once done, it can be saved and the project rebuilt in the IDE.
If running in prototype mode, the file will be dynamically reloaded from the classpath.</p>
</div>
<div class="paragraph">
<p>Once the application has bootstrapped with a layout file, downloading the "Default" layout (from the prototyping menu) in essence just returns this file.</p>
</div>
<div class="sect2">
<h3 id="prototyping-menu"><a class="anchor" href="#prototyping-menu"></a>Prototyping menu</h3>
<div class="paragraph">
<p>The framework provides a large number of menu actions available in prototyping mode.
You can use <code>menubars.layout.xml</code> to arrange these as you see fit, though our recommendation is to place them all in a "Prototyping" secondary menu:</p>
</div>
<div class="listingblock">
<div class="title">menubars.layout.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;mb3:secondary&gt;
    &lt;mb3:menu&gt;
        &lt;mb3:named&gt;Prototyping&lt;/mb3:named&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;Fixtures&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.testing.fixtures.FixtureScripts" id="runFixtureScript"/&gt;
            &lt;mb3:serviceAction objectType="isis.testing.fixtures.FixtureScripts" id="recreateObjectsAndReturnFirst"/&gt;
        &lt;/mb3:section&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;Layouts&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.applib.LayoutServiceMenu" id="downloadLayouts"/&gt;
            &lt;mb3:serviceAction objectType="isis.applib.LayoutServiceMenu" id="downloadMenuBarsLayout"/&gt;
        &lt;/mb3:section&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;Meta Model and Features&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.applib.MetaModelServiceMenu" id="downloadMetaModelXml"/&gt;
            &lt;mb3:serviceAction objectType="isis.applib.MetaModelServiceMenu" id="downloadMetaModelCsv"/&gt;
            &lt;mb3:serviceAction objectType="isis.feat.ApplicationFeatureMenu" id="allNamespaces"/&gt;
            &lt;mb3:serviceAction objectType="isis.feat.ApplicationFeatureMenu" id="allTypes"/&gt;
            &lt;mb3:serviceAction objectType="isis.feat.ApplicationFeatureMenu" id="allActions"/&gt;
            &lt;mb3:serviceAction objectType="isis.feat.ApplicationFeatureMenu" id="allProperties"/&gt;
            &lt;mb3:serviceAction objectType="isis.feat.ApplicationFeatureMenu" id="allCollections"/&gt;
        &lt;/mb3:section&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;Persistence&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.persistence.jdo.JdoMetamodelMenu" id="downloadMetamodels"/&gt;
            &lt;mb3:serviceAction objectType="isis.ext.h2Console.H2ManagerMenu" id="openH2Console"/&gt;
        &lt;/mb3:section&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;REST API&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.viewer.restfulobjects.SwaggerServiceMenu" id="openSwaggerUi"/&gt;
            &lt;mb3:serviceAction objectType="isis.viewer.restfulobjects.SwaggerServiceMenu" id="openRestApi"/&gt;
            &lt;mb3:serviceAction objectType="isis.viewer.restfulobjects.SwaggerServiceMenu" id="downloadSwaggerSchemaDefinition"/&gt;
        &lt;/mb3:section&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;i18n&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.applib.TranslationServicePoMenu" id="downloadTranslations"/&gt;
            &lt;mb3:serviceAction objectType="isis.applib.TranslationServicePoMenu" id="resetTranslationCache"/&gt;
            &lt;mb3:serviceAction objectType="isis.applib.TranslationServicePoMenu" id="switchToReadingTranslations"/&gt;
            &lt;mb3:serviceAction objectType="isis.applib.TranslationServicePoMenu" id="switchToWritingTranslations"/&gt;
        &lt;/mb3:section&gt;
    &lt;/mb3:menu&gt;
&lt;/mb3:secondary&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tertiary-menu"><a class="anchor" href="#tertiary-menu"></a>Tertiary menu</h3>
<div class="paragraph">
<p>The framework also provides a number of menu actions available in production (as oppposed to prototyping) mode.
You can use <code>menubars.layout.xml</code> to arrange these as you see fit, though our recommendation is to place them in the tertiary menu:</p>
</div>
<div class="listingblock">
<div class="title">menubars.layout.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;mb3:tertiary&gt;
    &lt;mb3:menu&gt;
        &lt;mb3:named/&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;Configuration&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.conf.ConfigurationMenu" id="configuration"/&gt;
        &lt;/mb3:section&gt;
        &lt;mb3:section&gt;
            &lt;mb3:named&gt;Impersonate&lt;/mb3:named&gt;
            &lt;mb3:serviceAction objectType="isis.sudo.ImpersonateMenu" id="impersonate"/&gt;
            &lt;mb3:serviceAction objectType="isis.sudo.ImpersonateMenu" id="impersonateWithRoles"/&gt;
            &lt;mb3:serviceAction objectType="isis.applib.ImpersonateStopMenu" id="stopImpersonating"/&gt;
        &lt;/mb3:section&gt;
        &lt;mb3:section&gt;
            &lt;mb3:serviceAction objectType="isis.security.LogoutMenu" id="logout"/&gt;
        &lt;/mb3:section&gt;
    &lt;/mb3:menu&gt;
&lt;/mb3:tertiary&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="downloading-the-layout-file"><a class="anchor" href="#downloading-the-layout-file"></a>Downloading the layout file</h3>
<div class="paragraph">
<p>The current <code>menubars.layout.xml</code> can be downloaded from the <a href="../../../../refguide/latest/applib/index/services/menu/MenuBarsService.html" class="page">MenuBarsService</a> (exposed on the prototyping menu):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/menubars/010-download.png" alt="010 download" width="300px">
</div>
</div>
<div class="paragraph">
<p>If there are unknown/unreferenced actions in the "Other" menu (which you would like to place elsewhere), then these will be listed in the downloaded layout, so they can easily be moved elsewhere.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside toc hide-for-print" role="navigation">
    <p class="toc-title">On this page</p>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="content">
        <div class="copyright">
            <p>
                Copyright © 2010~2021 The Apache Software Foundation, licensed under the Apache License, v2.0.
                <br/>
                Apache, the Apache feather logo, Apache Isis, and the Apache Isis project logo are all trademarks of The Apache Software Foundation.
            </p>
        </div>
        <div class="revision">
            <p>Revision: 2.0.0-M6.20211218-0237-77a1cdf5</p>
        </div>
    </div>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/vendor/jquery-3.4.1.min.js"></script>
<script src="../../../../_/js/vendor/jquery-ui-1.12.1.custom.widget-only.min.js"></script>
<script src="../../../../_/js/vendor/jquery.tocify.min.js"></script>

<script>
    $(function() {
        $("#article-toc").tocify( {
            showEffect: "slideDown",
            hashGenerator: "pretty",
            hideEffect: "slideUp",
            selectors: "h2, h3",
            scrollTo: 120,
            smoothScroll: true,
            theme: "jqueryui",
            highlightOnScroll: true
        } );
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  function focusSearchInput () { document.querySelector('#algolia-search-input').focus() }
  var search = docsearch({
    appId: '5ISP5TFAEN',
    apiKey: '0fc51c28b4ad46e7318e96d4e97fab7c',
    indexName: 'isis-apache-org',
    inputSelector: '#algolia-search-input',
    autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
    debug: false,
  }).autocomplete
  search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
  focusSearchInput()
  window.addEventListener('load', focusSearchInput);
</script>

<!--
  docsearch options:
  https://docsearch.algolia.com/docs/behavior/
-->
<!--
  https://www.algolia.com/doc/api-reference/api-parameters/
  algoliaOptions: { hitsPerPage: 6 },
-->
  </body>
</html>
