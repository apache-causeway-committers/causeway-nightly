<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Menu Bars Layout :: Apache Isis</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="stylesheet" href="../_/css/site-custom.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="..">Apache Isis</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Quick Start</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Starter Apps</span>
            <a class="navbar-item" href="../helloworld/about.html">Hello World</a>
            <a class="navbar-item" href="../simpleapp/about.html">Simple App</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Demos &amp; Tutorials</span>
            <a class="navbar-item" href="../demoapp/about.html">Demo App</a>
            <a class="navbar-item" href="https://danhaywood.gitlab.io/isis-petclinic-tutorial-docs/petclinic/1.16.2/intro.html">Petclinic (tutorial)</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Guides</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">User Guide</span>
            <a class="navbar-item" href="../userguide/about.html">Fundamentals &amp; Beyond</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Reference</span>
            <a class="navbar-item" href="../refguide/about.html">Reference Guide</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Security</span>
            <a class="navbar-item" href="../security/about.html">Security Guide</a>
            <a class="navbar-item" href="../ext-secman/about.html">SecMan (extension)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Testing</span>
            <a class="navbar-item" href="../testing/about.html">Testing Guide</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Components</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Viewers</span>
            <a class="navbar-item" href="../vw/about.html">Wicket UI</a>
            <a class="navbar-item" href="../vro/about.html">Restful Objects (REST)</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Persistence</span>
            <a class="navbar-item" href="../odn/about.html">DataNucleus Object Store</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Extensions</span>
            <a class="navbar-item" href="../extensions/about.html">Extensions Catalog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <span class="navbar-item navbar-heading">Resources</span>
            <a class="navbar-item" href="../toc/devguide/about.html">Developers' Guide</a>
            <a class="navbar-item" href="../toc/mavendeps/about.html">Maven dependencies</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Mailing Lists</span>
            <a class="navbar-item" href="../toc/mailing-list/how-to-subscribe.html">How to subscribe</a>
            <a class="navbar-item" href="https://issues.apache.org/jira/browse/ISIS">ASF JIRA</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Releases</span>
            <a class="navbar-item" href="../toc/downloads/how-to.html">Downloads</a>
            <a class="navbar-item" href="../relnotes/about.html">Release Notes</a>
            <a class="navbar-item" href="../mignotes/about.html">Migration Notes</a>
            <hr class="navbar-divider"/>
            <span class="navbar-item navbar-heading">Internal</span>
            <a class="navbar-item" href="../toc/comguide/about.html">Committers' Guide</a>
            <a class="navbar-item" href="../core/about.html">Core Framework</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">@ASF</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="http://www.apache.org/">Apache Homepage</a>
            <a class="navbar-item" href="https://www.apache.org/events/current-event">Events</a>
            <a class="navbar-item" href="https://www.apache.org/licenses/">Licenses</a>
            <a class="navbar-item" href="https://www.apache.org/security/">Security</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
            <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <hr class="navbar-divider"/>
            <a class="navbar-item" href="https://whimsy.apache.org/board/minutes/Isis.html">PMC board minutes</a>
          </div>
        </div>
        <a class="navbar-item" href="../toc/about.html">
          <span class="icon">
            <img src="../_/img/isis-logo-48x48.png"></img>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body ">
<div class="nav-container" data-component="vw" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="about.html">Wicket Viewer</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="layout.html">Layout</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="menubars-layout.html">Menubars Layout</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="configuration-properties.html">Configuration Properties</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">End-user Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="customisation.html">Customisation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extending.html">Extending</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hints-and-tips.html">Hints-n-Tips</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extensions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/about.html">Asciidoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="markdown/about.html">Markdown</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#vw:excel-download:about.adoc">Excel Download</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sse/about.html">Server-side Events</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Wicket Viewer</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title"> </span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../toc/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Core Framework</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../core/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">DataNucleus ObjectStore</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../odn/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Extensions Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../extensions/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Incubator Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../incubator/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Legacy Catalog</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../legacy/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Reference Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../refguide/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Restful Objects Viewer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../vro/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">SecMan</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../secman/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Security Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../security/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Starter Apps</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../starters/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Testing Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../testing/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Tutorial App - Demo</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../demoapp/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">User Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../userguide/about.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Wicket Viewer</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="about.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../toc/about.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="about.html">Wicket Viewer</a></li>
    <li><a href="menubars-layout.html">Menubars Layout</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/apache/isis/edit/HEAD/core/viewers/wicket/src/main/doc/modules/ROOT/pages/menubars-layout.adoc">Edit this Page</a></div>
</div>
<article class="doc">
    <a name="section-top"></a>
<h1 class="page">Menu Bars Layout</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The actions of domain services are made available as menu items on menus.
By default each domain service corresponds to a single menu on this menu bar, with its actions as the drop-down menu items.
This is rarely exactly what is required, however; it often makes sense to group menu items for similar domain services together.</p>
</div>
<div class="paragraph">
<p>For example, the (non-ASF) <a href="https://platform.incode.org" target="_blank" rel="noopener">Incode Platform</a> modules provides services whose actions appear into two top-level menus:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>its <code>ApplicationUsers</code>, <code>ApplicationRoles</code>, <code>ApplicationPermission</code>, <code>ApplicationFeatureViewModels</code> and <code>ApplicationTenancies</code> domain services are all grouped together in a single "Security" top-level menu, on the SECONDARY menu bar</p>
</li>
<li>
<p>its <code>MeService</code> domain service, which provides the <code>me()</code> action, is placed on the TERTIARY menu bar.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The menus themselves can be placed either on a primary, secondary or tertiary menu bar, as shown in this screenshot (taken from <a href="http://github.com/estatio/estatio">Estatio</a>, an open source estate management application built using Apache Isis):</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/application-menu/layout-menus.png"><img src="_images/application-menu/layout-menus.png" alt="layout menus" width="800px"></a>
</div>
</div>
<div class="paragraph">
<p>Within a single top-level menu (eg "Fixed Assets") there can be actions from multiple services.
The Wicket viewer shows these as separate sections, with a divider between each:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/application-menu/dividers.png"><img src="_images/application-menu/dividers.png" alt="dividers" width="400px"></a>
</div>
</div>
<div class="paragraph">
<p>The tertiary menu bar consists of a single unnamed menu, rendered underneath the user&#8217;s login, top right.
This is intended primarily for actions pertaining to the user themselves, eg their account, profile or settings:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/application-menu/tertiary.png"><img src="_images/application-menu/tertiary.png" alt="tertiary" width="300px"></a>
</div>
</div>
<div class="paragraph">
<p>The Apache Isis framework provides two mechanisms to control the arrangement of domain service actions across menubars and menus, either using annotations or using a file-based layout.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="annotation-based"><a class="anchor" href="#annotation-based"></a>Annotation-based Menu Bars</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The annotations-based approach for arranging the placement of menu items is achieved through the <a href="../refguide/applib-ant/MemberOrder.html" class="page"><code>@MemberOrder</code></a> and <a href="../refguide/applib-ant/DomainServiceLayout.html" class="page"><code>@DomainServiceLayout</code></a> annotations.</p>
</div>
<div class="sect2">
<h3 id="domainservicelayout"><a class="anchor" href="#domainservicelayout"></a>@DomainServiceLayout</h3>
<div class="paragraph">
<p>In the example from Estatio shown above the top-level menu combines the actions from the <code>Properties</code>, <code>Units</code> and <code>FixedAssetRegistrations</code> services.
The <code>Properties</code> service is annotated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainServiceLayout(
        named="Fixed Assets",
        menuBar = DomainServiceLayout.MenuBar.PRIMARY,
        menuOrder = "10.1"
)
public class Properties ... { /* ... */ }</code></pre>
</div>
</div>
<div class="paragraph">
<p>while the <code>Units</code> service is annotated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainServiceLayout(
        named="Fixed Assets",
        menuBar = DomainServiceLayout.MenuBar.PRIMARY,
        menuOrder = "10.2"
)
public class Units ... { /* ... */ }</code></pre>
</div>
</div>
<div class="paragraph">
<p>and similarly <code>FixedAssetRegistrations</code> is annotated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainServiceLayout(
        named="Fixed Assets",
        menuBar = DomainServiceLayout.MenuBar.PRIMARY,
        menuOrder = "10.3"
)
public class FixedAssetRegistrations ... { /* ... */ }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that in all three cases the value of the <code>named</code> attribute and the <code>menuBar</code> attribute is the same: "Fixed Assets" and PRIMARY.
This means that all will appear on a "Fixed Assets" menu in the primary menu bar.</p>
</div>
<div class="paragraph">
<p>Meanwhile the value of <code>menuOrder</code> attribute is significant for two reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for these three services on the same ("Fixed Assets") top-level menu, it determines the relative order of their sections (<code>Properties</code> first, then <code>Units</code>, then <code>FixedAssetRegistrations</code>)</p>
</li>
<li>
<p>it determines the placement of the top-level menu itself ("Fixed Assets") with respect to other top-level menus on the menu bar.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To illustrate this latter point, the next top-level menu on the menu bar, "Parties", is placed after "Fixed Assets" because the <code>menuOrder</code> of the first of its domain services, namely the <code>Parties</code> service, is higher than that for "Fixed Assets":</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainServiceLayout(
        named="Parties",
        menuBar = DomainServiceLayout.MenuBar.PRIMARY,
        menuOrder = "20.1"
)
public class Parties ... { /* ... */ }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that only the <code>menuOrder</code> of the <em>first</em> domain service is significant in placing the menus along the menu bar; thereafter the purpose of the <code>menuOrder</code> is to order the menu services sections on the menu itself.</p>
</div>
</div>
<div class="sect2">
<h3 id="ordering-menu-actions"><a class="anchor" href="#ordering-menu-actions"></a>Ordering menu actions</h3>
<div class="paragraph">
<p>For a given service, the actions within a section on a menu is determined by the <code>@MemberOrder</code> annotation.
Thus, for the <code>Units</code> domain service, its actions are annotated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Units extends EstatioDomainService&lt;Unit&gt; {

    @MemberOrder(sequence = "1")
    public Unit newUnit( ... ) { /* ... */ }

    @MemberOrder(sequence = "2")
    public List&lt;Unit&gt; findUnits( ... ) { /* ... */ }

    @ActionLayout( prototype = true )
    @MemberOrder(sequence = "99")
    public List&lt;Unit&gt; allUnits() { /* ... */ }
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the last is also a prototype action (meaning it is only displayed in SERVER_PROTOTYPE (=Wicket Development) mode).
In the UI it is rendered in italics.</p>
</div>
</div>
<div class="sect2">
<h3 id="tertiary-menu"><a class="anchor" href="#tertiary-menu"></a>Tertiary Menu</h3>
<div class="paragraph">
<p>Domain services' actions can be associated with the tertiary menu using the same <code>@DomainServiceLayout</code> annotation, but be aware that the <code>@DomainServiceLayout#name()</code> attribute will be ignored (there is only one effective menu).</p>
</div>
<div class="paragraph">
<p>For example, the <code>updateEpochDate(&#8230;&#8203;)</code> and <code>listAllSettings(&#8230;&#8203;)</code> actions come from the following service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DomainServiceLayout(
        menuBar = DomainServiceLayout.MenuBar.TERTIARY,
        menuOrder = "10.1"
)
public class EstatioAdministrationService ... {

    @MemberOrder(sequence = "1")
    public void updateEpochDate( ... ) { /* ... */ }

    @MemberOrder(sequence = "2")
    public List&lt;ApplicationSetting&gt; listAllSettings() { /* ... */ }
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because the number of items on the tertiary menu is expected to be small and most will pertain to the current user, the viewer does <em>not</em> place dividers between actions from different services on the tertiary menu.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="file-based"><a class="anchor" href="#file-based"></a>File-based Menu Bars</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The domain service actions can be arranged across menu items using the <code>menubars.layout.xml</code> file.
Not only is this easier to work with, it also can be reloaded dynamically (if in prototype mode), substantially reducing the edit compile run cycle.</p>
</div>
<div class="paragraph">
<p>As for <a href="layout.html#file-based" class="page">file-based object layouts</a>, this offers a number of benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Probably most significantly, the layout can be updated without requiring a recompile of the code and redeploy of the app; fine-tuning the layout with your end users is easy to do</p>
</li>
<li>
<p>Many developers also find it easier to rationalize about menu bars layout when all the hints are collated together in a single place (rather than scattered across the domain service classes as annotations).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are some disadvantages to using file-based layouts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>file-based layouts are not typesafe: a typo will result in the metadata not being picked up for the element.</p>
</li>
<li>
<p>they also suffer from syntactic fragility: an invalid XML document will result in no metadata for the entire class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>menubars.layout.xml</code> file is just the serialized form of a <a href="../refguide/applib-cm/classes/layout.html" class="page"><code>MenuBars</code></a> layout class defined within Apache Isis' applib.
These are JAXB-annotated classes with corresponding XSD schemas; the upshot of that
is that IDEs such as IntelliJ and Eclipse can provide "intellisense", making it easy to author such layout files.</p>
</div>
<div class="sect2">
<h3 id="obtaining-an-initial-layout"><a class="anchor" href="#obtaining-an-initial-layout"></a>Obtaining an initial layout</h3>
<div class="paragraph">
<p>An initial <code>menubars.layout.xml</code> - capturing any existing metadata either implicit or explicitly specified through annotations can be downloaded from the <a href="#refguide:applib-svc:metadata-api/MenuBarsService.adoc" class="page unresolved"><code>MenuBarsService</code></a> (exposed on the prototyping menu):</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/menubars/010-download.png"><img src="/menubars/010-download.png" alt="010 download" width="300px"></a>
</div>
</div>
<div class="paragraph">
<p>This action allows either the "Default" or the "Fallback" layout to be downloaded.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/menubars/020-download.png"><img src="/menubars/020-download.png" alt="020 download" width="400px"></a>
</div>
</div>
<div class="paragraph">
<p>The "Default" layout is that currently in use, while the "Fallback" layout is that provided only from the annotations.
Initially these are identical.</p>
</div>
<div class="paragraph">
<p>For example, here&#8217;s a fragment of that provided by the simpleapp archetype:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;mb3:menuBars
    xsi:schemaLocation="..."
    xmlns:cpt="http://isis.apache.org/applib/layout/component"
    xmlns:lnk="http://isis.apache.org/applib/layout/links"
    xmlns:mb3="http://isis.apache.org/applib/layout/menubars/bootstrap3"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;mb3:primary&gt;
        &lt;mb3:menu&gt;
            &lt;mb3:named&gt;Simple Objects&lt;/mb3:named&gt;
            &lt;mb3:section&gt;
                &lt;mb3:serviceAction objectType="simple.SimpleObjectMenu" id="listAll"&gt;
                    &lt;cpt:named&gt;List All&lt;/cpt:named&gt;
                &lt;/mb3:serviceAction&gt;
                &lt;mb3:serviceAction objectType="simple.SimpleObjectMenu" id="findByName"&gt;
                    &lt;cpt:named&gt;Find By Name&lt;/cpt:named&gt;
                &lt;/mb3:serviceAction&gt;
                &lt;mb3:serviceAction objectType="simple.SimpleObjectMenu" id="create"&gt;
                    &lt;cpt:named&gt;Create&lt;/cpt:named&gt;
                &lt;/mb3:serviceAction&gt;
            &lt;/mb3:section&gt;
        &lt;/mb3:menu&gt;
        &lt;mb3:menu unreferencedActions="true"&gt;
            &lt;mb3:named&gt;Other&lt;/mb3:named&gt;
        &lt;/mb3:menu&gt;
    &lt;/mb3:primary&gt;
    &lt;mb3:secondary&gt;
        &lt;mb3:menu&gt;
            &lt;mb3:named&gt;Prototyping&lt;/mb3:named&gt;
            ...
    &lt;/mb3:secondary&gt;
    &lt;mb3:tertiary&gt;
        &lt;mb3:menu&gt;
            ...
        &lt;/mb3:menu&gt;
    &lt;/mb3:tertiary&gt;
&lt;/mb3:menuBars&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the "Other" menu, with <code>unreferencedActions</code> attribute set to <code>true</code>.
For a layout file to be valid there must be exactly one <code>&lt;menu&gt;</code> with this attribute set.
Any domain service actions that are not explicitly listed will be placed under this menu.</p>
</div>
</div>
<div class="sect2">
<h3 id="adjusting-the-layout"><a class="anchor" href="#adjusting-the-layout"></a>Adjusting the layout</h3>
<div class="paragraph">
<p>The downloaded <code>menubars.layout.xml</code> file can be adjusted as necessary, creating new menus and menu sections.
Once done, it can be saved in the same package as the <code>AppManifest</code> used to bootstrap the application.
Subsequently, the file is then parsed and used when the application is started.</p>
</div>
<div class="paragraph">
<p>If running in prototype mode, the file will be dynamically reloaded from the classpath.</p>
</div>
<div class="paragraph">
<p>Once the application has bootstrapped with a layout file, downloading the "Default" layout (from the prototyping menu) in essence just returns this file.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If, when the application is run, unwanted service actions are shown in the "Other" menu (which you would like to place elsewhere), then download the "Default" layout again.
The downloaded file will list out all these domain service actions, so that they can easily be moved elsewhere.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside toc" role="navigation">
    <h3 class="toc-title">On this page</h3>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="content">
        <div class="copyright">
            <p>
                Copyright © 2010~2019 The Apache Software Foundation, licensed under the Apache License, v2.0.
                <br/>
                Apache, the Apache feather logo, Apache Isis, and the Apache Isis project logo are all trademarks of The Apache Software Foundation.
            </p>
        </div>
        <div class="revision">
            <p>Revision: 2.0.0-M2.20191211-1657-ff8449d4</p>
        </div>
    </div>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/jquery-3.4.1.min.js"></script>
<script src="../_/js/vendor/jquery-ui-1.12.1.custom.widget-only.min.js"></script>
<script src="../_/js/vendor/jquery.tocify.min.js"></script>

<script>
    $(function() {
        $("#article-toc").tocify( {
            showEffect: "slideDown",
            hideEffect: "slideUp",
            scrollTo: 120,
            smoothScroll: true,
            theme: "jqueryui",
            highlightOnScroll: true
        } );
    });
</script>
  </body>
</html>
