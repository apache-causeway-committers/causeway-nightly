<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="701px" preserveAspectRatio="none" style="width:758px;height:701px;background:#FFFFFF;" version="1.1" viewBox="0 0 758 701" width="758px" zoomAndPan="magnify"><defs/><g><g id="elem_DS"><ellipse cx="70.3524" cy="73.2587" fill="#F1F1F1" rx="44.7193" ry="26.7587" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="46.8524" y="68.4587">Domain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="47.8524" y="85.2586">Service</text></g><g id="elem_DO"><ellipse cx="179.3524" cy="73.2587" fill="#F1F1F1" rx="44.7193" ry="26.7587" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="155.8524" y="68.4587">Domain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="159.3524" y="85.2586">Object</text></g><g id="elem_DE"><ellipse cx="289.0595" cy="73.2587" fill="#F1F1F1" rx="45.4264" ry="26.7587" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="48" x="265.0595" y="68.4587">Domain</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36" x="271.0595" y="85.2586">Event</text></g><g id="elem_P"><ellipse cx="302.8879" cy="496.8793" fill="#F1F1F1" rx="48.2548" ry="14.8793" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="276.8879" y="500.4793">Property</text></g><g id="elem_A"><ellipse cx="69.9884" cy="496.8793" fill="#F1F1F1" rx="38.3553" ry="14.8793" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="50.9884" y="500.4793">Action</text></g><g id="elem_C"><ellipse cx="182.3721" cy="496.8875" fill="#F1F1F1" rx="53.2391" ry="14.8875" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="151.5558" y="500.7989">Collection</text></g><g id="elem_MB"><ellipse cx="263.8879" cy="284.8793" fill="#F1F1F1" rx="48.2548" ry="14.8793" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="52" x="237.8879" y="288.4793">Member</text></g><g id="elem_EX"><ellipse cx="111.0927" cy="668.8905" fill="#F1F1F1" rx="53.9597" ry="14.8905" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="79.5293" y="672.8553">Execution</text></g><g id="elem_EB"><ellipse cx="429.3671" cy="668.7587" fill="#F1F1F1" rx="36.234" ry="26.7587" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="411.8671" y="663.9587">Event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="417.3671" y="680.7586">Bus</text></g><g id="elem_SPRING"><ellipse cx="579.1097" cy="668.8793" fill="#F1F1F1" rx="40.4767" ry="14.8793" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="558.6097" y="672.4793">Spring</text></g><g id="elem_EL"><ellipse cx="429.2666" cy="496.7587" fill="#F1F1F1" rx="46.1335" ry="26.7587" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="411.7666" y="491.9587">Event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="404.7666" y="508.7586">Listener</text></g><g id="elem_GMN26812541"><path d="M367.1331,6 L367.1331,69.5 L334.7331,73.5 L367.1331,77.5 L367.1331,140.8001 A0,0 0 0 0 367.1331,140.8001 L617.1331,140.8001 A0,0 0 0 0 617.1331,140.8001 L617.1331,16 L607.1331,6 L367.1331,6 A0,0 0 0 0 367.1331,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M607.1331,6 L607.1331,16 L617.1331,16 L607.1331,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="373.1331" y="24">Phases are:</text><ellipse cx="378.6331" cy="34.7" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="385.1331" y="39.6">HIDING</text><ellipse cx="378.6331" cy="50.3" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="385.1331" y="55.2">DISABLING</text><ellipse cx="378.6331" cy="65.9001" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="385.1331" y="70.8001">VALIDATING</text><ellipse cx="378.6331" cy="81.5001" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="385.1331" y="86.4001">EXECUTING</text><ellipse cx="378.6331" cy="97.1001" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="385.1331" y="102.0001">EXECUTED</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="373.1331" y="117.6001">The framework automatically sends out</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="373.1331" y="133.2001">events with the phases in the order listed.</text></g><g id="elem_GMN26812544"><path d="M333.1331,249 L333.1331,281 L312.7431,285 L333.1331,289 L333.1331,321.4001 A0,0 0 0 0 333.1331,321.4001 L683.1331,321.4001 A0,0 0 0 0 683.1331,321.4001 L683.1331,259 L673.1331,249 L333.1331,249 A0,0 0 0 0 333.1331,249 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M673.1331,249 L673.1331,259 L683.1331,259 L673.1331,249 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="76" x="339.1331" y="267">DomainEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="418.1331" y="267">is declared as an</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="339.1331" y="282.6">annotation type element in a member annotation, e.g.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="57" x="339.1331" y="298.2">@Action(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="339.1331" y="313.8001">        </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="363.1331" y="313.8001">domainEvent=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="48" x="454.1331" y="313.8001">Custom</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="166" x="502.1331" y="313.8001">ActionDomainEvent.class).</text></g><g id="elem_GMN26812547"><path d="M495.1331,445 L495.1331,493 L475.3631,497 L495.1331,501 L495.1331,548.6001 A0,0 0 0 0 495.1331,548.6001 L751.1331,548.6001 A0,0 0 0 0 751.1331,548.6001 L751.1331,455 L741.1331,445 L495.1331,445 A0,0 0 0 0 495.1331,445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M741.1331,445 L741.1331,455 L751.1331,455 L741.1331,445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="501.1331" y="463">EventListeners can be declared on</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="501.1331" y="478.6">any public Spring bean method, e.g.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="501.1331" y="494.2">@EventListener(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="501.1331" y="509.8001">       </text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="48" x="522.1331" y="509.8001">Custom</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="166" x="570.1331" y="509.8001">ActionDomainEvent.class).</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="501.1331" y="525.4001">Via</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="76" x="522.1331" y="525.4001">DomainEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="598.1331" y="525.4001">.getEventPhase(),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="501.1331" y="541.0001">further filtering can be applied.</text></g><!--MD5=[fb03951c8977dbddaa66e08e228ad265]
reverse link MB to P--><g id="link_MB_P"><path d="M267.6831,305.14 C275.4431,346.89 293.7231,445.34 300.5231,481.96 " fill="none" id="MB-backto-P" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="266.7531,300.1,264.4667,309.6798,267.6676,305.0157,272.3317,308.2165,266.7531,300.1" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="287.1331" y="388.5">is a</text></g><!--MD5=[cd1d3de32c1164f3c6ee0cef5a2657ee]
reverse link MB to A--><g id="link_MB_A"><path d="M243.1131,302.6 C227.5831,315.24 206.2731,333.39 189.1331,351 C145.2931,396.04 99.9131,455.58 80.2431,482.16 " fill="none" id="MB-backto-A" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="247.3231,299.19,237.8111,301.7438,243.4368,302.336,242.8446,307.9618,247.3231,299.19" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="190.1331" y="388.5">is a</text></g><!--MD5=[7836793742dd9c4d9c92c79c1667668d]
reverse link MB to C--><g id="link_MB_C"><path d="M256.7531,304.89 C240.5131,346.49 201.9431,445.26 187.6131,481.96 " fill="none" id="MB-backto-C" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="258.6231,300.1,251.6289,307.0341,256.8081,304.7589,259.0832,309.9381,258.6231,300.1" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="238.1331" y="388.5">is a</text></g><!--MD5=[df3a0e21e14f1405aaf1784f1a6661b8]
link DO to MB--><g id="link_DO_MB"><path d="M189.5531,100.19 C206.8631,142.85 241.1531,227.35 256.4431,265.06 " fill="none" id="DO-to-MB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="258.3931,269.85,258.7278,260.0068,256.5188,265.2146,251.3111,263.0056,258.3931,269.85" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="237.1331" y="200.5">has</text></g><!--MD5=[4e12fd745e74cc9b0d722ea0b806bab5]
link DS to A--><g id="link_DS_A"><path d="M70.1331,100.55 C70.1331,178.41 70.1331,408.22 70.1331,476.59 " fill="none" id="DS-to-A" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="70.1331,481.97,74.1331,472.97,70.1331,476.97,66.1331,472.97,70.1331,481.97" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="71.1331" y="290.5">has</text></g><!--MD5=[1d4d7a2e5769d44dbec019ded056495f]
link DE to MB--><g id="link_DE_MB"><path d="M286.0131,100.61 C280.9231,143.26 270.9431,226.92 266.4331,264.68 " fill="none" id="DE-to-MB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="265.8131,269.91,270.8655,261.4559,266.4139,264.9462,262.9235,260.4946,265.8131,269.91" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="285.1331" y="185">can be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="281.1331" y="200.6">declared</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="299.6331" y="216.2">for</text></g><!--MD5=[061d9fccd4a9679de610285cc61e2d11]
link P to EX--><g id="link_P_EX"><path d="M288.0631,511.34 C253.5231,541.93 168.6431,617.08 130.3831,650.95 " fill="none" id="P-to-EX" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="126.3931,654.49,135.7828,651.5182,130.1364,651.1753,130.4793,645.5288,126.3931,654.49" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="253.3154" y="532.7946">edit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="253.8154" y="548.3946">is an</text></g><!--MD5=[88472934444b84813f245e1565c0fd1a]
link A to EX--><g id="link_A_EX"><path d="M73.5631,512.2 C80.9031,542.65 98.1731,614.25 106.4931,648.75 " fill="none" id="A-to-EX" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="107.7431,653.96,109.5215,644.273,106.5708,649.0994,101.7445,646.1487,107.7431,653.96" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="6" y="532.7369">invocation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="25" y="548.3369">is an</text></g><!--MD5=[d1eae5240a55dd7693df787515d81648]
reverse link EB to SPRING--><g id="link_EB_SPRING"><path d="M470.4431,669 C491.6131,669 517.3131,669 538.4031,669 " fill="none" id="EB-backto-SPRING" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="465.4431,669,474.4431,673,470.4431,669,474.4431,665,465.4431,669" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="476.3831" y="647">provides/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="475.8831" y="662.6">manages</text></g><!--MD5=[19ab7e649af6a347914fa4c2e1be88bb]
link EX to EB--><g id="link_EX_EB"><path d="M165.4331,669 C228.4631,669 330.9931,669 387.8531,669 " fill="none" id="EX-to-EB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="392.8731,669,383.8731,665,387.8731,669,383.8731,673,392.8731,669" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="235.1331" y="632">is published as:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="179.1331" y="647.6">* before event (phase: EXECUTING)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="187.1331" y="663.2">* after event (phase: EXECUTED)</text></g><!--MD5=[ac395a5f0af45a9274ed645000c8d5e4]
link EL to EB--><g id="link_EL_EB"><path d="M429.1331,524.19 C429.1331,554.51 429.1331,604.42 429.1331,636.75 " fill="none" id="EL-to-EB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="429.1331,641.78,433.1331,632.78,429.1331,636.78,425.1331,632.78,429.1331,641.78" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="430.1331" y="593">listens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="444.1331" y="608.6">on</text></g><!--MD5=[e044adf70e4cfd9f3cf19b305f37cff4]
reverse link MB to EL--><g id="link_MB_EL"><path d="M278.3931,304.16 C308.2231,342.12 377.1831,429.88 410.4731,472.25 " fill="none" id="MB-backto-EL" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="274.9631,299.78,277.3766,309.3285,278.0515,303.7121,283.668,304.387,274.9631,299.78" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="362.1331" y="365">can check/modify:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="372.6331" y="380.6">visibility (hide),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="363.6331" y="396.2">usability (disable),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="368.6331" y="411.8001">validity (validate)</text></g><!--MD5=[5080862e7ff48c872e78c0cc60f9f0b9]
@startuml
skinparam nodesep 20

together {
    (Domain\nService) as DS
    (Domain\nObject) as DO
    (<i>Domain\n<i>Event) as DE
}
(<i>Member</i>) as MB
together {
    (Property) as P
    (Action) as A
    (Collection) as C
}
P -u-> MB : is a
A -u-> MB : is a
C -u-> MB : is a

DO -d-> MB : has
DS -d- -> A : has

DE -d-> MB : can be \n declared \n for

(Execution) as EX
P "edit \n is an"- ->  EX
A "invocation \n is an"- -> EX

(Event\nBus) as EB
(Spring) as SPRING
SPRING .l.> EB : provides/\nmanages
EX -> EB : is published as: \n * before event (phase: EXECUTING)\n * after event (phase: EXECUTED)

(Event\nListener) as EL
EL - -> EB : listens \n on
EL -u-> MB : can check/modify: \nvisibility (hide), \nusability (disable), \nvalidity (validate)

note right of DE
Phases are:
* HIDING
* DISABLING
* VALIDATING
* EXECUTING
* EXECUTED
The framework automatically sends out
events with the phases in the order listed.
end note

note right of MB
<i>DomainEvent</i> is declared as an
annotation type element in a member annotation, e.g.
<b>@Action(
        <b>domainEvent=<i>Custom</i>ActionDomainEvent.class).
end note

note right of EL
EventListeners can be declared on
any public Spring bean method, e.g.
<b>@EventListener(
       <b><i>Custom</i>ActionDomainEvent.class).
Via <i>DomainEvent</i>.getEventPhase(),
further filtering can be applied.
end note
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>